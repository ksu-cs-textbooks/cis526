<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="CONSOLE While JavaScript may look like an imperative language on the surface, much of how it behaves is based on functional languages like Scheme. This leads to some of the common sources of confusion for programmers new to the language. Let’s explore just what its functional roots mean."><meta name=author content="Nathan Bean & Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta name=twitter:title content="JavaScript Functions :: CIS 526 Textbook"><meta name=twitter:description content="CONSOLE While JavaScript may look like an imperative language on the surface, much of how it behaves is based on functional languages like Scheme. This leads to some of the common sources of confusion for programmers new to the language. Let’s explore just what its functional roots mean."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/c-js/03-functions/index.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="JavaScript Functions :: CIS 526 Textbook"><meta property="og:description" content="CONSOLE While JavaScript may look like an imperative language on the surface, much of how it behaves is based on functional languages like Scheme. This leads to some of the common sources of confusion for programmers new to the language. Let’s explore just what its functional roots mean."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="JavaScript"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2020-06-13T16:25:22-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta itemprop=name content="JavaScript Functions :: CIS 526 Textbook"><meta itemprop=description content="CONSOLE While JavaScript may look like an imperative language on the surface, much of how it behaves is based on functional languages like Scheme. This leads to some of the common sources of confusion for programmers new to the language. Let’s explore just what its functional roots mean."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2020-06-13T16:25:22-05:00"><meta itemprop=wordCount content="1385"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><title>JavaScript Functions :: CIS 526 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis526/c-js/03-functions/index.html rel=canonical type=text/html title="JavaScript Functions :: CIS 526 Textbook"><link href=/cis526/c-js/03-functions/index.xml rel=alternate type=application/rss+xml title="JavaScript Functions :: CIS 526 Textbook"><link href=/cis526/c-js/03-functions/index.print.html rel=alternate type=text/html title="JavaScript Functions :: CIS 526 Textbook"><link href=/cis526/c-js/03-functions/embed.html rel=alternate type=text/html title="JavaScript Functions :: CIS 526 Textbook"><link href=/cis526/css/auto-complete/auto-complete.min.css?1770225504 rel=stylesheet><script src=/cis526/js/auto-complete/auto-complete.min.js?1770225504 defer></script><script src=/cis526/js/search-lunr.min.js?1770225504 defer></script><script src=/cis526/js/search.min.js?1770225504 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis526/searchindex.en.js?1770225504"</script><script src=/cis526/js/lunr/lunr.min.js?1770225504 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1770225504 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1770225504 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1770225504 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1770225504 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1770225504 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar/perfect-scrollbar.min.css?1770225504 rel=stylesheet><link href=/cis526/css/theme.min.css?1770225504 rel=stylesheet><link href=/cis526/css/format-html.min.css?1770225504 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/c-js/03-functions/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis526/css/custom.css?1770225504 rel=stylesheet></head><body class="mobile-support html" data-url=/cis526/c-js/03-functions/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable c-js" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=javascript-functions>JavaScript Functions</h1><style>.console{position:fixed;bottom:0;left:300px;box-sizing:border-box;z-index:1000;width:calc(100% - 300px);height:30vh;background-color:#8451a1;padding:1rem;transform:translateY(calc(30vh - 5px));transition:transform 1s}.console iframe{width:100%;height:100%;background-color:#fff}.console>.console-tab{position:absolute;top:-1.2rem;right:0;color:#fff;background-color:#8451a1;padding:0 2rem;border-radius:5px;cursor:pointer}.console.active{transform:none}</style><div class=console><div class=console-tab>CONSOLE</div><iframe src=https://jsconsole.com/></iframe></div><script>document.querySelector(".console-tab").addEventListener("click",e=>{console.log(e),e.target.parentElement.classList.toggle("active")})</script><p>While JavaScript may look like an imperative language on the surface, much of how it behaves is based on <em>functional</em> languages like Scheme. This leads to some of the common sources of confusion for programmers new to the language. Let&rsquo;s explore just what its functional roots mean.</p><p>JavaScript implements <a href=https://en.wikipedia.org/wiki/First-class_function rel=external target=_blank>first-class functions</a>, which means they can be assigned to a variable, passed as function arguments, returned from other functions, and even nested inside other functions. Most of these uses are not possible in a traditional imperative language, though C# and Java have been adding more functional-type behavior.</p><h2 id=defining-functions>Defining Functions</h2><p>Functions in JavaScript are traditionally declared using the <code>function</code> keyword, followed by an identifier, followed by parenthesized arguments, and a body enclosed in curly braces, i.e.:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>doSomething</span>(<span style=color:#a6e22e>arg1</span>, <span style=color:#a6e22e>arg2</span>, <span style=color:#a6e22e>arg3</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Do something here...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}</span></span></code></pre></div><p>Alternatively, the name can be omitted, resulting in an <em>anonymous</em> function:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>arg1</span>, <span style=color:#a6e22e>arg2</span>, <span style=color:#a6e22e>arg3</span>) {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Do something here...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}</span></span></code></pre></div><p>Finally ES6 introduced the arrow function syntax, a more compact way of writing anonymous functions, similar to the lambda syntax of C#:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>(<span style=color:#a6e22e>arg1</span>, <span style=color:#a6e22e>arg2</span>, <span style=color:#a6e22e>arg3</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Do something here...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}</span></span></code></pre></div><p>However, arrow function syntax also has special implications for scope, which we will discuss shortly.</p><h2 id=invoking-functions>Invoking Functions</h2><p>Functions are invoked with a parenthetical set of arguments, i.e.</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sayHello</span>(<span style=color:#a6e22e>name</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Hello, </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Go ahead and define this function by typing the definition into your console.</p><p>Once you&rsquo;ve done so, it can be invoked with <code>sayHello("Bob")</code>, and would print <code>Hello, Bob</code> to the console. Give it a try:</p><iframe src=https://jsconsole.com/ style=width:100%></iframe><p>Functions can also be invoked using two methods defined for all functions, <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call rel=external target=_blank>call()</a> and <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply rel=external target=_blank>apply()</a>.</p><h2 id=function-arguments>Function Arguments</h2><p>One of the bigger differences between JavaScript and imperative languages is in how JavaScript handles arguments. Consider the <code>hello()</code> function we defined above. What happens if we invoke it with no arguments? Or if we invoke it with two arguments?</p><p>Give it a try:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>sayHello</span>()
</span></span><span style=display:flex><span><span style=color:#a6e22e>sayHello</span>(<span style=color:#e6db74>&#34;Mary&#34;</span>, <span style=color:#e6db74>&#34;Bob&#34;</span>);</span></span></code></pre></div><p>What are we seeing here? In JavaScript, the number of arguments supplied to a function when it is invoked is <em>irrelevant</em>. The same function will be invoked regardless of the <em>arity</em> (number) or <em>type</em> of arguments. The supplied arguments will be assigned to the defined argument names within the function&rsquo;s scope, according to the order. If there are less supplied arguments than defined ones, the missing ones are assigned the value <code>undefined</code>. And if there are extra arguments supplied, they are not assigned to a value.</p><p>Can we access those extra arguments? Yes, because JavaScript places them in a variable <code>arguments</code> accessible within the function body. Let&rsquo;s modify our <code>sayHello()</code> method to take advantage of this knowledge, using the <code>for .. of</code> loop we saw in the last section:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sayHello</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>arguments</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Hello, </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>And try invoking it with an arbtrary number of names:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>sayHello</span>(<span style=color:#e6db74>&#34;Mike&#34;</span>, <span style=color:#e6db74>&#34;Mary&#34;</span>, <span style=color:#e6db74>&#34;Bob&#34;</span>, <span style=color:#e6db74>&#34;Sue&#34;</span>);</span></span></code></pre></div><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Warning</summary><div class=box-content><p>JavaScript does not have a mechanism for <a href=https://en.wikipedia.org/wiki/Function_overloading rel=external target=_blank>function overloading</a> like C# and Java do. In JavaScript, if you declare a second &ldquo;version&rdquo; of a function that has different named arguments, you are not creating an overloaded version - you&rsquo;re replacing the original function!</p></div></details><p>Thus, when we entered our second <code>sayHello()</code> definition in the console, we overwrote the original one. Each function name will <em>only</em> reference a single definition at a time within a single scope, and just like with variables, we can change its value at any point.</p><p>Finally, because JavaScript has first-order functions, we can pass a function as an argument. For example, we could create a new function, <code>greet()</code> that takes the greeter&rsquo;s name, a function to use to greet others, and uses the arguments to greet an arbitrary number of people:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>greet</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>greetingFn</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>arguments</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>greetingFn</span>(<span style=color:#a6e22e>arguments</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`It&#39;s good to meet you.  I&#39;m </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>We can then use it by passing our <code>sayHello()</code> function as the second argument:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>greet</span>(<span style=color:#e6db74>&#34;Mark&#34;</span>, <span style=color:#a6e22e>sayHello</span>, <span style=color:#e6db74>&#34;Joe&#34;</span>, <span style=color:#e6db74>&#34;Jill&#34;</span>, <span style=color:#e6db74>&#34;Jack&#34;</span>, <span style=color:#e6db74>&#34;John&#34;</span>, <span style=color:#e6db74>&#34;Jenny&#34;</span>);</span></span></code></pre></div><p>Note that we don&rsquo;t follow the function name with the parenthesis (<code>()</code>) when we pass it. If we did, we&rsquo;d inovke the function <em>at that point</em> and what we&rsquo;d pass was the return value of the function, not the function itself.</p><h2 id=return-values>Return Values</h2><p>Just like the functions you&rsquo;re used to, JavaScript functions can return a value with the <code>return</code> statement, i.e.:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>foo</span>() { 
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>We can also return nothing, which is <code>undefined</code>:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bar</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>This is useful when we want to stop execution immediately, but don&rsquo;t have a real return value. Also, if we don&rsquo;t specify a return value, we <em>implicity</em> return <code>undefined</code>.</p><p>And, because JavaScript has first-order functions, we can return a function:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>giveMeAFunction</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Here I am!&#34;</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><h2 id=function-variables>Function Variables</h2><p>Because JavaScript has first-order functions, we can also assign a function to a variable, i.e.:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>myFn</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) {<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span>;}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>greetFn</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>greet</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>otherFn</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>) =&gt; {<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>b</span>;}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>oneMoreFn</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>giveMeAFunction</span>();</span></span></code></pre></div><h2 id=functional-scope>Functional Scope</h2><p>We&rsquo;ve mentioned scope several times now. Remember, <a href=https://en.wikipedia.org/wiki/Scope_(computer_science) rel=external target=_blank>scope</a> simply refers to where a binding between a symbol and a value is valid (here the symbol could be a <code>var</code> or <code>function</code> name). JavaScript uses <em>functional scope</em>, which means a new scope is created within the body of every function. Moreover, the parent scope of that function remains accessible as well.</p><p>Consider the JavaScript code:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;foo&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;bar&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;before coolStuff&#34;</span>, <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>coolStuff</span>(<span style=color:#a6e22e>c</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;in coolStuff&#34;</span>, <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>coolStuff</span>(<span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;after coolStuff&#34;</span>, <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>);</span></span></code></pre></div><p>What gets printed before, in, and after <code>coolStuff()</code>?</p><ol><li>Before we invoke <code>coolStuff()</code> the values of <code>a</code> and <code>b</code> are <code>"foo"</code> and <code>"bar"</code> respectively.</li><li>Inside the body of <code>coolStuff()</code>:</li></ol><ul><li>The named argument <code>c</code> is assigned the value passed when <code>coolStuff()</code> is invoked - in this case, the value of <code>b</code> at the time, <code>"bar"</code>.</li><li>A new variable <code>a</code> is declared, and set to a value of <code>1</code>. This <code>a</code> only exists within <code>coolStuff()</code>, the old <code>a</code> remains unchanged outside of the function body.</li><li>The value of <code>4</code> is assigned to the variable <code>b</code>. Note that we did not declare a new <code>var</code>, so this is the same <code>b</code> as outside the body of the function.</li></ul><ol start=3><li>After the function is invoked, we go back to our original <code>a</code> which kept the value <code>"foo"</code> but our <code>b</code> was changed to <code>4</code>.</li></ol><p>That may not seem to bad. But let&rsquo;s try another example:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>one</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>two</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>three</span>() {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>three</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>Here we have nested functions, each with its own scope, and its own variable <code>a</code> that exists for that scope.</p><h2 id=block-scope>Block Scope</h2><p>Most imperative programming langauges use <em>block scope</em>, which creates a new scope within any block of code. This includes function bodies, but also loop bodies and conditional blocks. Consider this snippet:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>j</span>);</span></span></code></pre></div><p>What will be printed for the value of <code>j</code> after the loop runs?</p><p>You might think it should have been <code>undefined</code>, and it certainly would have been a null exception in an imperative language like Java, as the variable <code>j</code> was defined within the block of the <code>for</code> loop. Because those languages have <em>block scope</em>, anything declared within that scope only exists there.</p><p>However, with JavaScript&rsquo;s <em>functional</em> scope, a new scope is only created within the body of a function - not loop and conditional blocks! So anything created within a conditional block actually exists <em>in the scope of the function it appears in</em>. This can cause some headaches.</p><p>Try running this (admittedly contrived) example in the console:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>  }, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><p>The <a href=https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout rel=external target=_blank>setTimeout()</a> will trigger the supplied function body 10 ms in the future.</p><p>Notice how all the values are 10? That&rsquo;s because we were accessing the same variable <code>i</code>, because it was in the same scope each time!</p><p>The keyword <code>let</code> was introduced in ES6 to bring block scope to JavaScript. If we use it instead, we see the behavior we&rsquo;re more used to:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>  }, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard/clipboard.min.js?1770225504 defer></script><script src=/cis526/js/perfect-scrollbar/perfect-scrollbar.min.js?1770225504 defer></script><script src=/cis526/js/theme.min.js?1770225504 defer></script></div><script src=/cis526/js/tele-scroll.min.js?1770225504 defer></script></body></html>