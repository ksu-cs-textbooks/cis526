---
title: "Documenting Models"
pre: "5. "
weight: 50
---

{{< youtube ebVJ4R08ZZM >}}

## Documenting Models with Open API

Before we move ahead, let's quickly take a minute to add some documentation to our models using the Open API specification. The details can be found in the [Open API Specification Document](https://swagger.io/specification/)

First, let's update our configuration in the `configs/openapi.js` file to include the `models` directory:

```js {title="configs/openapi.js" hl_lines="18"}
// -=-=- other code omitted here -=-=-

// Configure SwaggerJSDoc options
const options = {
  definition: {
    openapi: "3.1.0",
    info: {
      title: "Example Project",
      version: "0.0.1",
      description: "Example Project",
    },
    servers: [
      {
        url: url(),
      },
    ],
  },
  apis: ["./routes/*.js", "./models/*.js"],
};

// -=-=- other code omitted here -=-=-
```

Next, at the top of our `models/user.js` file, we can add information in an `@swagger` tag about our newly created `User` model, usually placed right above the model definition itself:

```js {title="models/user.js"}
// -=-=- other code omitted here -=-=-

/**
 * @swagger
 * components:
 *   schemas:
 *     User:
 *       type: object
 *       required:
 *         - username
 *       properties:
 *         id:
 *           type: integer
 *           description: autogenerated id
 *         username:
 *           type: string
 *           description: username for the user
 *         createdAt:
 *           type: string
 *           format: date-time
 *           description: when the user was created
 *         updatedAt:
 *           type: string
 *           format: date-time
 *           description: when the user was last updated
 *       example:
 *           id: 1
 *           username: admin
 *           createdAt: 2025-02-04T15:36:32.000Z
 *           updatedAt: 2025-02-04T15:36:32.000Z
 */
const UserSchema = {

// -=-=- other code omitted here -=-=-
```

Finally, we can now update our route in the `routes/users.js` file to show that it is outputting an array of `User` objects:

```js {title="routes/users.js" hl_lines="16-24"}
// -=-=- other code omitted here -=-=-

/**
 * Gets the list of users
 * 
 * @param {Object} req - Express request object
 * @param {Object} res - Express response object
 * @param {Function} next - Express next middleware function
 * 
 * @swagger
 * /users:
 *   get: 
 *     summary: users list page
 *     description: Gets the list of all users in the application
 *     tags: [users]
 *     responses:
 *       200:
 *         description: the list of users
 *         content:
 *           application/json:
 *             schema:
 *               type: array
 *               items:
 *                 $ref: '#/components/schemas/User'       
 */
router.get("/", async function (req, res, next) {
  const users = await User.findAll();
  res.json(users)
});

// -=-=- other code omitted here -=-=-
```

With all of that in place, we can start our application with the Open API documentation enabled, then navigate to the `/docs` route to see our updated documentation. We should now see our `User` model listed as a schema at the bottom of the page:

![User Schema](images/examples/02/documenting_1.png)

In addition, we can see that the `/users` route has also been updated to show that it returns an array of `User` objects, along with the relevant data:

![User Route Documentation](images/examples/02/documenting_2.png)

As we continue to add models and routes to our application, we should also make sure our Open API documentation is kept up to date with the latest information.

This is a good point to **commit and push** our work!



