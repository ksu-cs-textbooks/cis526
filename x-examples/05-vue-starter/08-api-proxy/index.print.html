<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=print><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database. This is really the key feature that we want ensure works in our frontend application!"><meta name=author content="Nathan Bean & Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta name=twitter:title content="API Proxy :: CIS 526 Textbook"><meta name=twitter:description content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database. This is really the key feature that we want ensure works in our frontend application!"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/05-vue-starter/08-api-proxy/index.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="API Proxy :: CIS 526 Textbook"><meta property="og:description" content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database. This is really the key feature that we want ensure works in our frontend application!"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-04-05T18:31:19-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta itemprop=name content="API Proxy :: CIS 526 Textbook"><meta itemprop=description content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database. This is really the key feature that we want ensure works in our frontend application!"><meta itemprop=dateModified content="2025-04-05T18:31:19-05:00"><meta itemprop=wordCount content="1743"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><title>API Proxy :: CIS 526 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis526/x-examples/05-vue-starter/08-api-proxy/index.html rel=canonical type=text/html title="API Proxy :: CIS 526 Textbook"><link href=/cis526/x-examples/05-vue-starter/08-api-proxy/index.xml rel=alternate type=application/rss+xml title="API Proxy :: CIS 526 Textbook"><link href=/cis526/x-examples/05-vue-starter/08-api-proxy/tele.html rel=alternate type=text/html title="API Proxy :: CIS 526 Textbook"><link href=/cis526/x-examples/05-vue-starter/08-api-proxy/embed.html rel=alternate type=text/html title="API Proxy :: CIS 526 Textbook"><link href=/cis526/css/auto-complete/auto-complete.min.css?1769640562 rel=stylesheet><script src=/cis526/js/auto-complete/auto-complete.min.js?1769640562 defer></script><script src=/cis526/js/search-lunr.min.js?1769640562 defer></script><script src=/cis526/js/search.min.js?1769640562 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis526/searchindex.en.js?1769640562"</script><script src=/cis526/js/lunr/lunr.min.js?1769640562 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1769640562 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1769640562 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1769640562 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1769640562 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1769640562 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar/perfect-scrollbar.min.css?1769640562 rel=stylesheet><link href=/cis526/css/theme.min.css?1769640562 rel=stylesheet><link href=/cis526/css/format-print.min.css?1769640562 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/x-examples/05-vue-starter/08-api-proxy/index.html",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis526/css/custom.css?1769640562 rel=stylesheet></head><body class="mobile-support embed print" data-url=/cis526/x-examples/05-vue-starter/08-api-proxy/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable x-examples" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=api-proxy>API Proxy</h1><a href="https://www.youtube.com/watch?v=SVQJatrP_98">YouTube Video</a><details open class="box cstyle notices warning"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-exclamation-triangle"></i>
Warning</summary><div class=box-content><p>The video adds an extra slash to the <code>/auth</code> route in the <code>vite.config.js</code> file when setting up a proxy. That slash should be removed.</p></div></details><h2 id=connecting-to-our-restful-api>Connecting to our RESTful API</h2><p>Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let&rsquo;s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database. This is really the key feature that we want ensure works in our frontend application!</p><p>First, we need a way to run our backend application at the same time, and also we want to be able to connect to it directly through our frontend. So, let&rsquo;s add a few features to our overall project to enable that connection.</p><h2 id=vs-code-tasks>VS Code Tasks</h2><p>There are many ways that we can run both our frontend and backend applications simultaneously. One of the simplest is to open a second terminal in VS Code simply by clicking the &ldquo;Split Terminal&rdquo; button at the top right of the terminal, or by pressing <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>S</kbd> to split our existing terminal.</p><p><a href=#R-image-04199cf83dfcfb460dde8e6f794e4cf3 class=lightbox-link><img alt="Split VS Code Terminal" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/05/vue_terminal.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-04199cf83dfcfb460dde8e6f794e4cf3><img alt="Split VS Code Terminal" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_terminal.png></a></p><p>Once we have split the terminal window, we can run both parts of our application side-by-side by navigating to the correct directory and running the <code>npm run dev</code> command in each window:</p><p><a href=#R-image-589a3b60d3f078027c3dfd8e4b61e892 class=lightbox-link><img alt="Split VS Code Terminal" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/05/vue_terminal2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-589a3b60d3f078027c3dfd8e4b61e892><img alt="Split VS Code Terminal" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_terminal2.png></a></p><p>However, that can get somewhat tedious to do all the time. Instead, we can just configure a <a href=https://code.visualstudio.com/docs/debugtest/tasks rel=external target=_blank>VS Code Task</a> that will handle this for us.</p><p>To do this, we should create a <code>.vscode</code> folder at the top level of our project (outside of the <code>client</code> and <code>server</code> folders we&rsquo;ve been working on) if one doesn&rsquo;t already exist. Inside of that folder, we&rsquo;ll create a file called <code>tasks.json</code> with the following content:</p><div class=tab-panel data-tab-group=5be0a3cbcae4e3492d9f67953d12d4a3><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=vscodetasksjson class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("5be0a3cbcae4e3492d9f67953d12d4a3","vscodetasksjson")'>
<span class=tab-nav-text>.vscode/tasks.json</span></button></div><div class=tab-content-container><div data-tab-item=vscodetasksjson class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#75715e>// .vscode/tasks.json
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>{
</span></span><span style=display:flex><span>  <span style=color:#75715e>// See https://go.microsoft.com/fwlink/?LinkId=733558
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// for the documentation about the tasks.json format
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#e6db74>&#34;2.0.0&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;tasks&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;Watch Server&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;shell&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;cd server &amp;&amp; npm run dev&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;build&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;presentation&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;buildGroup&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;reveal&#34;</span>: <span style=color:#e6db74>&#34;always&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;panel&#34;</span>: <span style=color:#e6db74>&#34;new&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;echo&#34;</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;Watch Client&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;shell&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;cd client &amp;&amp; npm run dev&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;build&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;presentation&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;buildGroup&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;reveal&#34;</span>: <span style=color:#e6db74>&#34;always&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;panel&#34;</span>: <span style=color:#e6db74>&#34;new&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;echo&#34;</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;Watch All&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;dependsOn&#34;</span>: [
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Watch Server&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Watch Client&#34;</span>
</span></span><span style=display:flex><span>      ],
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;build&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;runOptions&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;runOn&#34;</span>: <span style=color:#e6db74>&#34;folderOpen&#34;</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;Lint and Format&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;shell&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;cd server &amp;&amp; npm run lint &amp;&amp; npm run format &amp;&amp; cd ../client &amp;&amp; npm run lint &amp;&amp; npm run format&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;lint&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;presentation&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;group&#34;</span>: <span style=color:#e6db74>&#34;lintGroup&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;reveal&#34;</span>: <span style=color:#e6db74>&#34;always&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;panel&#34;</span>: <span style=color:#e6db74>&#34;new&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#f92672>&#34;echo&#34;</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;problemMatcher&#34;</span>: [
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;$eslint-compact&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#e6db74>&#34;$prettier&#34;</span>
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></div></div></div><p>This file creates several tasks that we can use in our VS Code IDE:</p><ul><li><code>Watch Server</code> - this will run the backend Express server application.</li><li><code>Watch Client</code> - this will run the frontend Vue client application.</li><li><code>Watch All</code> - this will watch both the server and client in two new terminal windows.</li><li><code>Lint and Format</code> - this will run linting and formatting for both the server and client. This is a helpful command to run before committing any code to GitHub.</li></ul><p>Once that file is created and saved, we may need to refresh our GitHub Codespace window or restart VS Code for the changes to take effect. When we do, we should see our new <code>Watch All</code> task run automatically, since it was given the <code>"runOn": "folderOpen"</code> option. In most cases, this is the most effective option - our server and client will always be running, and we can easily restart each of them by typing either <code>rs</code> for the server (running in Nodemon) or just <code>r</code> for the client (running in Vite) without closing those terminals.</p><p>We can also access these tasks anytime from the VS Code Command Palette by pressing <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>P</kbd> and searching for the &ldquo;Tasks: Run Task&rdquo; menu option, then selecting whichever task we want to run.</p><p><a href=#R-image-5d83571783e467ddf84604bc60eeddfc class=lightbox-link><img alt="VS Code Tasks" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/05/vue_tasks.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5d83571783e467ddf84604bc60eeddfc><img alt="VS Code Tasks" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_tasks.gif></a></p><h2 id=vite-proxy>Vite Proxy</h2><p>The second major feature we need to configure for our application is a proxy that allows our frontend application to access our backend RESTful API directly. In many typical development scenarios, we typically run our backend application on one port (such as port <code>3000</code>, which if how our app is currently configured), and then we run our frontend application in a development server on a different port (such as <code>5173</code>, the default port used by Vite). However, in this scenario, our frontend must include a hard-coded IP address and port to access our backend server in development mode.</p><p>In production, our frontend application and backend RESTful API server are generally running on the same system, so they will use the same IP address and port. So, to simplify things now, we can simulate that setup by adding a <a href=https://vite.dev/config/server-options#server-proxy rel=external target=_blank>Proxy</a> configuration to our frontend application&rsquo;s development server running in Vite. In this way, our frontend application can connect directly back to the port it is running on (port <code>5173</code> in this example), and if the connection matches one that should be sent to the backend API server instead, it will be proxied to that application (running on port <code>3000</code>). This greatly simplifies developing our application, since we don&rsquo;t have to worry about the configuration changing between development mode and production.</p><p>So, to configure a proxy for Vite, we must modify our <code>vite.config.js</code> file in our <code>client</code> folder by adding a few additional settings:</p><div class=tab-panel data-tab-group=3345ba0b9f6c3a0e6aab2aafd42c66b0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=viteconfigjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("3345ba0b9f6c3a0e6aab2aafd42c66b0","viteconfigjs")'>
<span class=tab-nav-text>vite.config.js</span></button></div><div class=tab-content-container><div data-tab-item=viteconfigjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>fileURLToPath</span>, <span style=color:#a6e22e>URL</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;node:url&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>defineConfig</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vite&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>vue</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;@vitejs/plugin-vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>vueDevTools</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vite-plugin-vue-devtools&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>tailwindcss</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;@tailwindcss/vite&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// https://vite.dev/config/
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>defineConfig</span>({
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>plugins</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vue</span>(),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vueDevTools</span>(),
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tailwindcss</span>(),
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>resolve</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>alias</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#e6db74>&#39;@&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>fileURLToPath</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URL</span>(<span style=color:#e6db74>&#39;./src&#39;</span>, <span style=color:#66d9ef>import</span>.<span style=color:#a6e22e>meta</span>.<span style=color:#a6e22e>url</span>))
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex;background-color:#3c3d38><span>  <span style=color:#a6e22e>server</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>proxy</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#75715e>// Proxy all API requests
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>      <span style=color:#e6db74>&#39;/api&#39;</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>target</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;http://localhost:3000&#39;</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>changeOrigin</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>secure</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>      },
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#75715e>// Proxy Open API Docs
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>      <span style=color:#e6db74>&#39;/docs&#39;</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>target</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;http://localhost:3000&#39;</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>changeOrigin</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>secure</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>      },
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#75715e>// Proxy Authentication Requests
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>      <span style=color:#e6db74>&#39;/auth&#39;</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>target</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;http://localhost:3000&#39;</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>changeOrigin</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#a6e22e>secure</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex;background-color:#3c3d38><span>      }
</span></span><span style=display:flex;background-color:#3c3d38><span>    }
</span></span><span style=display:flex;background-color:#3c3d38><span>  }
</span></span><span style=display:flex><span>})</span></span></code></pre></div></div></div></div></div><p>In the new <code>server</code> section, we are including settings to proxy three different URL paths from our frontend to our backend:</p><ul><li><code>/api</code> - this will proxy all API requests</li><li><code>/docs</code> - this allows us to easily access the OpenAPI docs on our frontend in development mode</li><li><code>/auth</code> - this allows us to access the routes needed for authentication</li></ul><p>As we can see, this covers pretty much all routes available on our backend RESTful API server. Also, we need to remember that these routes are unique to our backend server, so we cannot use these same URLs as virtual routes in our Vue router on the frontend; otherwise, we&rsquo;ll have a conflict and our application may not work correctly.</p><p>So, let&rsquo;s test this by running both our client and server applications simultaneously, and then access the frontend application using port <code>5173</code> (or whatever port Vite is currently running our frontend application on). Once there, we should try to access the <code>/docs</code> URL. If it works, we know that our proxy is working correctly!</p><p><a href=#R-image-34c113fc2ab95614675253d2f790cb15 class=lightbox-link><img alt="Vue Proxy" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/05/vue_proxy.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-34c113fc2ab95614675253d2f790cb15><img alt="Vue Proxy" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_proxy.png></a></p><p>Notice in the screenshot above that the URL is running on port <code>5173</code> but it is able to access content that is running on port <code>3000</code> from our backend server. We can also see that it appears in the access logs on the backend server&rsquo;s terminal, so we know it is working properly.</p><h2 id=making-api-requests>Making API Requests</h2><p>Finally, let&rsquo;s see how we can make an API request to our backend RESTful API server from our frontend application. First, we&rsquo;ll need to install the <a href=https://axios-http.com/ rel=external target=_blank>Axios</a> HTTP client library in our frontend application. While we can use the basic <code>fetch</code> commands that are available by default, we&rsquo;ll quickly find that the extra features provided by Axios are worth adding an extra dependency to our application. So, let&rsquo;s install it using <code>npm</code> in our <code>client</code> folder:</p><div class=tab-panel data-tab-group=2a24ef02a16cbb882d7e44e1e22cb954><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=terminal class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2a24ef02a16cbb882d7e44e1e22cb954","terminal")'>
<span class=tab-nav-text>terminal</span></button></div><div class=tab-content-container><div data-tab-item=terminal class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm install axios</span></span></code></pre></div></div></div></div></div><p>Next, let&rsquo;s create a new Vue component we can use for simple testing. We&rsquo;ll place this component in a file named <code>TestApi.vue</code> in the <code>src/components/test</code> folder:</p><div class=tab-panel data-tab-group=8ffd2eb490115459879df3356bb8423d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentstesttestapivue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("8ffd2eb490115459879df3356bb8423d","srccomponentstesttestapivue")'>
<span class=tab-nav-text>src/components/test/TestApi.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentstesttestapivue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @file Test API Component
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Import Libraries
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>ref</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>axios</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;axios&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Card</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;primevue/card&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Create Reactive State
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>api_versions</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ref</span>([])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Load API versions
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>axios</span>
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/api&#39;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(<span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>response</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>api_versions</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>data</span>
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>  .<span style=color:#66d9ef>catch</span>(<span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>error</span>)
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Card</span> <span style=color:#f92672>v-for</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;api_version in api_versions&#34; :key=&#34;api_version.version&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>template</span> <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>title</span>&gt;<span style=color:#a6e22e>Version</span> {{ <span style=color:#a6e22e>api_version</span>.<span style=color:#a6e22e>version</span> }}&lt;/<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>template</span> <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>content</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>URL</span><span style=color:#f92672>:</span> {{ <span style=color:#a6e22e>api_version</span>.<span style=color:#a6e22e>url</span> }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Card</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;</span></span></code></pre></div></div></div></div></div><p>In this component, we start by creating a reactive state variable called <code>api_versions</code> that is initially set to an empty array. Then, we use the Axios library to send a request to the <code>/api</code> URL on our server, which is being proxied to the backend RESTful API. If we receive a response back, we&rsquo;ll go to the <code>then</code> function, which simply stores the data attached to the response in the <code>api_versions</code> reactive state variable, which should update our application as soon as it receives data. If there are any errors, we&rsquo;ll enter the <code>catch</code> function and log those errors to the browser&rsquo;s console.</p><p>In our template, we chose to use a <a href=https://primevue.org/card/ rel=external target=_blank>PrimeVue Card</a>, which is a very simple building block for our website to use. Since we want to include one card per API version, we are using a <code>v-for</code> Vue directive to allow us to iterate through a list of objects. This is discussed in detail in the <a href=https://vuejs.org/guide/essentials/list rel=external target=_blank>List Rendering</a> section of the Vue documentation. We are also binding a unique key to each element, which in this case is the <code>version</code> attribute for each <code>api_version</code> element.</p><p>To use this component, let&rsquo;s just add it to our <code>AboutView.vue</code> page for testing:</p><div class=tab-panel data-tab-group=6349529007e99ff728dd6f7cec89c120><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcviewsaboutviewvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("6349529007e99ff728dd6f7cec89c120","srcviewsaboutviewvue")'>
<span class=tab-nav-text>src/views/AboutView.vue</span></button></div><div class=tab-content-container><div data-tab-item=srcviewsaboutviewvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>TestApi</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;../components/test/TestApi.vue&#39;</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>main</span>&gt;<span style=color:#a6e22e>This</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>an</span> <span style=color:#a6e22e>about</span> <span style=color:#a6e22e>page</span>.&lt;/<span style=color:#f92672>main</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>TestApi</span> /&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;</span></span></code></pre></div></div></div></div></div><p>Now, when we visit our application and click on the link for the About page, we should see a list of API versions appear:</p><p><a href=#R-image-7b3ab031b894d225245aea50178c5ec7 class=lightbox-link><img alt="Vue Proxy Working" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/05/primevue_api1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7b3ab031b894d225245aea50178c5ec7><img alt="Vue Proxy Working" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/05/primevue_api1.png></a></p><p>We can even test this by changing the API versions that are returned by our backend server and see the changes directly on our frontend application!</p><p><a href=#R-image-872cc8ed5b2c9b6365010f2f93e3c19a class=lightbox-link><img alt="Vue Proxy Test" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/05/primevue_api2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-872cc8ed5b2c9b6365010f2f93e3c19a><img alt="Vue Proxy Test" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/05/primevue_api2.png></a></p><p>There we go! We can now request data from our backend RESTful API server, and it will provide a valid response. However, right now the only URL path that does not require authentication is the <code>/api</code> path, so we still need to add a way for users to authenticate themselves and get a valid JWT to access the rest of the API. We&rsquo;ll cover that on the next part of this tutorial.</p><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard/clipboard.min.js?1769640562 defer></script><script src=/cis526/js/perfect-scrollbar/perfect-scrollbar.min.js?1769640562 defer></script><script src=/cis526/js/theme.min.js?1769640562 defer></script><script src=/cis526/js/embed-iframe.min.js?1769640562 defer></script></body></html>