<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="API Proxy :: CIS 526 Textbook"><meta name=twitter:description content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/05-vue-starter/08-api-proxy/"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="API Proxy :: CIS 526 Textbook"><meta property="og:description" content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-04-05T18:31:19-05:00"><meta itemprop=name content="API Proxy :: CIS 526 Textbook"><meta itemprop=description content="YouTube Video Warning The video adds an extra slash to the /auth route in the vite.config.js file when setting up a proxy. That slash should be removed.
Connecting to our RESTful API Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let’s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database."><meta itemprop=dateModified content="2025-04-05T18:31:19-05:00"><meta itemprop=wordCount content="1743"><title>API Proxy :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/x-examples/05-vue-starter/08-api-proxy/ rel=canonical type=text/html title="API Proxy :: CIS 526 Textbook"><link href=/cis526/x-examples/05-vue-starter/08-api-proxy/index.xml rel=alternate type=application/rss+xml title="API Proxy :: CIS 526 Textbook"><link href=/cis526/x-examples/05-vue-starter/08-api-proxy/index.print.html rel=alternate type=text/html title="API Proxy :: CIS 526 Textbook"><link href=/cis526/x-examples/05-vue-starter/08-api-proxy/embed.html rel=alternate type=text/html title="API Proxy :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1744134209 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1744134209 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1744134209 rel=stylesheet><link href=/cis526/css/auto-complete.css?1744134209 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1744134209 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1744134209 rel=stylesheet><link href=/cis526/css/fonts.css?1744134209 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1744134209 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1744134209 rel=stylesheet><link href=/cis526/css/theme-auto.css?1744134209 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-auto.css?1744134209 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1744134209 rel=stylesheet><link href=/cis526/css/print.css?1744134209 rel=stylesheet media=print><script src=/cis526/js/variant.js?1744134209></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1744134209 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis526/x-examples/05-vue-starter/08-api-proxy/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=api-proxy>API Proxy</h1><a href="https://www.youtube.com/watch?v=SVQJatrP_98">YouTube Video</a><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>The video adds an extra slash to the <code>/auth</code> route in the <code>vite.config.js</code> file when setting up a proxy. That slash should be removed.</p></div></div><h2 id=connecting-to-our-restful-api>Connecting to our RESTful API</h2><p>Now that we have the basic structure of our application built and are becoming more familiar with both Vue and PrimeVue, let&rsquo;s work on connecting to our backend RESTful API application and see if we can retrieve some data from our database. This is really the key feature that we want ensure works in our frontend application!</p><p>First, we need a way to run our backend application at the same time, and also we want to be able to connect to it directly through our frontend. So, let&rsquo;s add a few features to our overall project to enable that connection.</p><h2 id=vs-code-tasks>VS Code Tasks</h2><p>There are many ways that we can run both our frontend and backend applications simultaneously. One of the simplest is to open a second terminal in VS Code simply by clicking the &ldquo;Split Terminal&rdquo; button at the top right of the terminal, or by pressing <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>S</kbd> to split our existing terminal.</p><p><a href=#R-image-4052156932aacc0bc19e422c5ec5dad1 class=lightbox-link><img alt="Split VS Code Terminal" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/05/vue_terminal.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4052156932aacc0bc19e422c5ec5dad1><img alt="Split VS Code Terminal" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_terminal.png></a></p><p>Once we have split the terminal window, we can run both parts of our application side-by-side by navigating to the correct directory and running the <code>npm run dev</code> command in each window:</p><p><a href=#R-image-fb3658b15ec11c7d29e89a97ddb60663 class=lightbox-link><img alt="Split VS Code Terminal" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/05/vue_terminal2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fb3658b15ec11c7d29e89a97ddb60663><img alt="Split VS Code Terminal" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_terminal2.png></a></p><p>However, that can get somewhat tedious to do all the time. Instead, we can just configure a <a href=https://code.visualstudio.com/docs/debugtest/tasks rel=external target=_blank>VS Code Task</a> that will handle this for us.</p><p>To do this, we should create a <code>.vscode</code> folder at the top level of our project (outside of the <code>client</code> and <code>server</code> folders we&rsquo;ve been working on) if one doesn&rsquo;t already exist. Inside of that folder, we&rsquo;ll create a file called <code>tasks.json</code> with the following content:</p><div class=tab-panel data-tab-group=bf4cc94b4dd82d6f7a4d66f428e859f0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=vscodetasksjson class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("bf4cc94b4dd82d6f7a4d66f428e859f0","vscodetasksjson")'>
<span class=tab-nav-text>.vscode/tasks.json</span></button></div><div class=tab-content-container><div data-tab-item=vscodetasksjson class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=c1>// .vscode/tasks.json
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// See https://go.microsoft.com/fwlink/?LinkId=733558
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// for the documentation about the tasks.json format
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;2.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;tasks&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;label&#34;</span><span class=p>:</span> <span class=s2>&#34;Watch Server&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;shell&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;cd server &amp;&amp; npm run dev&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;presentation&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;buildGroup&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;reveal&#34;</span><span class=p>:</span> <span class=s2>&#34;always&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;panel&#34;</span><span class=p>:</span> <span class=s2>&#34;new&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;echo&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;label&#34;</span><span class=p>:</span> <span class=s2>&#34;Watch Client&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;shell&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;cd client &amp;&amp; npm run dev&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;presentation&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;buildGroup&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;reveal&#34;</span><span class=p>:</span> <span class=s2>&#34;always&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;panel&#34;</span><span class=p>:</span> <span class=s2>&#34;new&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;echo&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;label&#34;</span><span class=p>:</span> <span class=s2>&#34;Watch All&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;dependsOn&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Watch Server&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Watch Client&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;runOptions&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;runOn&#34;</span><span class=p>:</span> <span class=s2>&#34;folderOpen&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;label&#34;</span><span class=p>:</span> <span class=s2>&#34;Lint and Format&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;shell&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;cd server &amp;&amp; npm run lint &amp;&amp; npm run format &amp;&amp; cd ../client &amp;&amp; npm run lint &amp;&amp; npm run format&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;lint&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;presentation&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;group&#34;</span><span class=p>:</span> <span class=s2>&#34;lintGroup&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;reveal&#34;</span><span class=p>:</span> <span class=s2>&#34;always&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;panel&#34;</span><span class=p>:</span> <span class=s2>&#34;new&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;echo&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;problemMatcher&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;$eslint-compact&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=s2>&#34;$prettier&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><p>This file creates several tasks that we can use in our VS Code IDE:</p><ul><li><code>Watch Server</code> - this will run the backend Express server application.</li><li><code>Watch Client</code> - this will run the frontend Vue client application.</li><li><code>Watch All</code> - this will watch both the server and client in two new terminal windows.</li><li><code>Lint and Format</code> - this will run linting and formatting for both the server and client. This is a helpful command to run before committing any code to GitHub.</li></ul><p>Once that file is created and saved, we may need to refresh our GitHub Codespace window or restart VS Code for the changes to take effect. When we do, we should see our new <code>Watch All</code> task run automatically, since it was given the <code>"runOn": "folderOpen"</code> option. In most cases, this is the most effective option - our server and client will always be running, and we can easily restart each of them by typing either <code>rs</code> for the server (running in Nodemon) or just <code>r</code> for the client (running in Vite) without closing those terminals.</p><p>We can also access these tasks anytime from the VS Code Command Palette by pressing <kbd>CTRL</kbd>+<kbd>SHIFT</kbd>+<kbd>P</kbd> and searching for the &ldquo;Tasks: Run Task&rdquo; menu option, then selecting whichever task we want to run.</p><p><a href=#R-image-796c79208abd67e4f4208e4e97905130 class=lightbox-link><img alt="VS Code Tasks" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/05/vue_tasks.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-796c79208abd67e4f4208e4e97905130><img alt="VS Code Tasks" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_tasks.gif></a></p><h2 id=vite-proxy>Vite Proxy</h2><p>The second major feature we need to configure for our application is a proxy that allows our frontend application to access our backend RESTful API directly. In many typical development scenarios, we typically run our backend application on one port (such as port <code>3000</code>, which if how our app is currently configured), and then we run our frontend application in a development server on a different port (such as <code>5173</code>, the default port used by Vite). However, in this scenario, our frontend must include a hard-coded IP address and port to access our backend server in development mode.</p><p>In production, our frontend application and backend RESTful API server are generally running on the same system, so they will use the same IP address and port. So, to simplify things now, we can simulate that setup by adding a <a href=https://vite.dev/config/server-options#server-proxy rel=external target=_blank>Proxy</a> configuration to our frontend application&rsquo;s development server running in Vite. In this way, our frontend application can connect directly back to the port it is running on (port <code>5173</code> in this example), and if the connection matches one that should be sent to the backend API server instead, it will be proxied to that application (running on port <code>3000</code>). This greatly simplifies developing our application, since we don&rsquo;t have to worry about the configuration changing between development mode and production.</p><p>So, to configure a proxy for Vite, we must modify our <code>vite.config.js</code> file in our <code>client</code> folder by adding a few additional settings:</p><div class=tab-panel data-tab-group=afe45a51d0afa730c2dd3117603990c4><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=viteconfigjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("afe45a51d0afa730c2dd3117603990c4","viteconfigjs")'>
<span class=tab-nav-text>vite.config.js</span></button></div><div class=tab-content-container><div data-tab-item=viteconfigjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>fileURLToPath</span><span class=p>,</span> <span class=nx>URL</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;node:url&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>defineConfig</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vite&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>vue</span> <span class=nx>from</span> <span class=s1>&#39;@vitejs/plugin-vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>vueDevTools</span> <span class=nx>from</span> <span class=s1>&#39;vite-plugin-vue-devtools&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>tailwindcss</span> <span class=nx>from</span> <span class=s1>&#39;@tailwindcss/vite&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// https://vite.dev/config/
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=nx>defineConfig</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=nx>vue</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=nx>vueDevTools</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=nx>tailwindcss</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>resolve</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alias</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s1>&#39;@&#39;</span><span class=o>:</span> <span class=nx>fileURLToPath</span><span class=p>(</span><span class=k>new</span> <span class=nx>URL</span><span class=p>(</span><span class=s1>&#39;./src&#39;</span><span class=p>,</span> <span class=kr>import</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>url</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>server</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>proxy</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=c1>// Proxy all API requests
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>      <span class=s1>&#39;/api&#39;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:3000&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>secure</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>      <span class=c1>// Proxy Open API Docs
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>      <span class=s1>&#39;/docs&#39;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:3000&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>secure</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>      <span class=c1>// Proxy Authentication Requests
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>      <span class=s1>&#39;/auth&#39;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>target</span><span class=o>:</span> <span class=s1>&#39;http://localhost:3000&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>changeOrigin</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>secure</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span></span></span></code></pre></div></div></div></div></div><p>In the new <code>server</code> section, we are including settings to proxy three different URL paths from our frontend to our backend:</p><ul><li><code>/api</code> - this will proxy all API requests</li><li><code>/docs</code> - this allows us to easily access the OpenAPI docs on our frontend in development mode</li><li><code>/auth</code> - this allows us to access the routes needed for authentication</li></ul><p>As we can see, this covers pretty much all routes available on our backend RESTful API server. Also, we need to remember that these routes are unique to our backend server, so we cannot use these same URLs as virtual routes in our Vue router on the frontend; otherwise, we&rsquo;ll have a conflict and our application may not work correctly.</p><p>So, let&rsquo;s test this by running both our client and server applications simultaneously, and then access the frontend application using port <code>5173</code> (or whatever port Vite is currently running our frontend application on). Once there, we should try to access the <code>/docs</code> URL. If it works, we know that our proxy is working correctly!</p><p><a href=#R-image-ebcc018719e4d563f30c50b4569c2224 class=lightbox-link><img alt="Vue Proxy" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/05/vue_proxy.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ebcc018719e4d563f30c50b4569c2224><img alt="Vue Proxy" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/05/vue_proxy.png></a></p><p>Notice in the screenshot above that the URL is running on port <code>5173</code> but it is able to access content that is running on port <code>3000</code> from our backend server. We can also see that it appears in the access logs on the backend server&rsquo;s terminal, so we know it is working properly.</p><h2 id=making-api-requests>Making API Requests</h2><p>Finally, let&rsquo;s see how we can make an API request to our backend RESTful API server from our frontend application. First, we&rsquo;ll need to install the <a href=https://axios-http.com/ rel=external target=_blank>Axios</a> HTTP client library in our frontend application. While we can use the basic <code>fetch</code> commands that are available by default, we&rsquo;ll quickly find that the extra features provided by Axios are worth adding an extra dependency to our application. So, let&rsquo;s install it using <code>npm</code> in our <code>client</code> folder:</p><div class=tab-panel data-tab-group=453e87c90f5cf1ade5d972de8e0bdb79><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=terminal class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("453e87c90f5cf1ade5d972de8e0bdb79","terminal")'>
<span class=tab-nav-text>terminal</span></button></div><div class=tab-content-container><div data-tab-item=terminal class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ npm install axios</span></span></code></pre></div></div></div></div></div><p>Next, let&rsquo;s create a new Vue component we can use for simple testing. We&rsquo;ll place this component in a file named <code>TestApi.vue</code> in the <code>src/components/test</code> folder:</p><div class=tab-panel data-tab-group=1e6f0c7cfbf4fc6d1e83099f1f41454c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentstesttestapivue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("1e6f0c7cfbf4fc6d1e83099f1f41454c","srccomponentstesttestapivue")'>
<span class=tab-nav-text>src/components/test/TestApi.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentstesttestapivue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Test API Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>axios</span> <span class=nx>from</span> <span class=s1>&#39;axios&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Card</span> <span class=nx>from</span> <span class=s1>&#39;primevue/card&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Create Reactive State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>api_versions</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Load API versions
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>axios</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>api_versions</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Card</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;api_version in api_versions&#34; :key=&#34;api_version.version&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>title</span><span class=p>&gt;</span><span class=nx>Version</span> <span class=p>{{</span> <span class=nx>api_version</span><span class=p>.</span><span class=nx>version</span> <span class=p>}}&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>content</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span><span class=nx>URL</span><span class=o>:</span> <span class=p>{{</span> <span class=nx>api_version</span><span class=p>.</span><span class=nx>url</span> <span class=p>}}&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Card</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>In this component, we start by creating a reactive state variable called <code>api_versions</code> that is initially set to an empty array. Then, we use the Axios library to send a request to the <code>/api</code> URL on our server, which is being proxied to the backend RESTful API. If we receive a response back, we&rsquo;ll go to the <code>then</code> function, which simply stores the data attached to the response in the <code>api_versions</code> reactive state variable, which should update our application as soon as it receives data. If there are any errors, we&rsquo;ll enter the <code>catch</code> function and log those errors to the browser&rsquo;s console.</p><p>In our template, we chose to use a <a href=https://primevue.org/card/ rel=external target=_blank>PrimeVue Card</a>, which is a very simple building block for our website to use. Since we want to include one card per API version, we are using a <code>v-for</code> Vue directive to allow us to iterate through a list of objects. This is discussed in detail in the <a href=https://vuejs.org/guide/essentials/list rel=external target=_blank>List Rendering</a> section of the Vue documentation. We are also binding a unique key to each element, which in this case is the <code>version</code> attribute for each <code>api_version</code> element.</p><p>To use this component, let&rsquo;s just add it to our <code>AboutView.vue</code> page for testing:</p><div class=tab-panel data-tab-group=ce3d74a5617c8a787196447dfd552dfc><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcviewsaboutviewvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("ce3d74a5617c8a787196447dfd552dfc","srcviewsaboutviewvue")'>
<span class=tab-nav-text>src/views/AboutView.vue</span></button></div><div class=tab-content-container><div data-tab-item=srcviewsaboutviewvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>TestApi</span> <span class=nx>from</span> <span class=s1>&#39;../components/test/TestApi.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>main</span><span class=p>&gt;</span><span class=nx>This</span> <span class=nx>is</span> <span class=nx>an</span> <span class=nx>about</span> <span class=nx>page</span><span class=p>.&lt;/</span><span class=nt>main</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>TestApi</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now, when we visit our application and click on the link for the About page, we should see a list of API versions appear:</p><p><a href=#R-image-8857de771d67637656f61f4ba35dc8c9 class=lightbox-link><img alt="Vue Proxy Working" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/05/primevue_api1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8857de771d67637656f61f4ba35dc8c9><img alt="Vue Proxy Working" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/05/primevue_api1.png></a></p><p>We can even test this by changing the API versions that are returned by our backend server and see the changes directly on our frontend application!</p><p><a href=#R-image-246f8c71fee11c74846a9ddb684d5157 class=lightbox-link><img alt="Vue Proxy Test" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/05/primevue_api2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-246f8c71fee11c74846a9ddb684d5157><img alt="Vue Proxy Test" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/05/primevue_api2.png></a></p><p>There we go! We can now request data from our backend RESTful API server, and it will provide a valid response. However, right now the only URL path that does not require authentication is the <code>/api</code> path, so we still need to add a way for users to authenticate themselves and get a valid JWT to access the rest of the API. We&rsquo;ll cover that on the next part of this tutorial.</p><footer class=footline></footer></article></div></main></div></div><script src=/cis526/js/clipboard.min.js?1744134209 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1744134209 defer></script><script src=/cis526/js/theme.js?1744134209 defer></script><script src=/cis526/js/tele-scroll.js?1744134209 defer></script></body></html>