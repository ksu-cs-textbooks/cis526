<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Delete :: CIS 526 Textbook</title><link>https://textbooks.cs.ksu.edu/cis526/x-examples/03-rest-api/11-delete/index.html</link><description>Delete Route Finally, the last route we need to add to our users routes is the delete route. This route is very simple - it will remove a user based on the given user ID if it exists in the database:
​ routes/api/v1/users.js // -=-=- other code omitted here -=-=- /** * Delete a user * * @param {Object} req - Express request object * @param {Object} res - Express response object * @param {Function} next - Express next middleware function * * @swagger * /api/v1/users/{id}: * delete: * summary: delete user * tags: [users] * parameters: * - in: path * name: id * required: true * schema: * type: integer * description: user ID * responses: * 200: * $ref: '#/components/responses/Success' */ router.delete("/:id", async function (req, res, next) { try { const user = await User.findByPk(req.params.id) // if the user is not found, return an HTTP 404 not found status code if (user === null) { res.status(404).end(); } else { await user.destroy(); // Send the success message sendSuccess("User deleted!", req.params.id, 200, res); } } catch (error) { console.log(error) logger.error(error); res.status(500).end(); } }); // -=-=- other code omitted here -=-=- Once again, we can test this route using the Open API documentation website. Let’s look at how we can quickly unit test it as well.</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://textbooks.cs.ksu.edu/cis526/x-examples/03-rest-api/11-delete/index.xml" rel="self" type="application/rss+xml"/></channel></rss>