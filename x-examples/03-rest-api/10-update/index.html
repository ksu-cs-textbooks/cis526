<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Update Route Next, letâ€™s look at adding an additional route in our application that allows us to update a User model. This route is very similar to the route used to create a user, but there are a few key differences as well.
â€‹ routes/api/v1/users.js // -=-=- other code omitted here -=-=- /** * Update a user * * @param {Object} req - Express request object * @param {Object} res - Express response object * @param {Function} next - Express next middleware function * * @swagger * /api/v1/users/{id}: * put: * summary: update user * tags: [users] * parameters: * - in: path * name: id * required: true * schema: * type: integer * description: user ID * requestBody: * description: user * required: true * content: * application/json: * schema: * $ref: '#/components/schemas/User' * example: * username: updateduser * roles: * - id: 6 * - id: 7 * responses: * 201: * $ref: '#/components/responses/Success' * 422: * $ref: '#/components/responses/ValidationError' */ router."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Update :: CIS 526 Textbook"><meta name=twitter:description content="Update Route Next, letâ€™s look at adding an additional route in our application that allows us to update a User model. This route is very similar to the route used to create a user, but there are a few key differences as well.
â€‹ routes/api/v1/users.js // -=-=- other code omitted here -=-=- /** * Update a user * * @param {Object} req - Express request object * @param {Object} res - Express response object * @param {Function} next - Express next middleware function * * @swagger * /api/v1/users/{id}: * put: * summary: update user * tags: [users] * parameters: * - in: path * name: id * required: true * schema: * type: integer * description: user ID * requestBody: * description: user * required: true * content: * application/json: * schema: * $ref: '#/components/schemas/User' * example: * username: updateduser * roles: * - id: 6 * - id: 7 * responses: * 201: * $ref: '#/components/responses/Success' * 422: * $ref: '#/components/responses/ValidationError' */ router."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/03-rest-api/10-update/"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Update :: CIS 526 Textbook"><meta property="og:description" content="Update Route Next, letâ€™s look at adding an additional route in our application that allows us to update a User model. This route is very similar to the route used to create a user, but there are a few key differences as well.
â€‹ routes/api/v1/users.js // -=-=- other code omitted here -=-=- /** * Update a user * * @param {Object} req - Express request object * @param {Object} res - Express response object * @param {Function} next - Express next middleware function * * @swagger * /api/v1/users/{id}: * put: * summary: update user * tags: [users] * parameters: * - in: path * name: id * required: true * schema: * type: integer * description: user ID * requestBody: * description: user * required: true * content: * application/json: * schema: * $ref: '#/components/schemas/User' * example: * username: updateduser * roles: * - id: 6 * - id: 7 * responses: * 201: * $ref: '#/components/responses/Success' * 422: * $ref: '#/components/responses/ValidationError' */ router."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-03-07T15:34:34-06:00"><meta itemprop=name content="Update :: CIS 526 Textbook"><meta itemprop=description content="Update Route Next, letâ€™s look at adding an additional route in our application that allows us to update a User model. This route is very similar to the route used to create a user, but there are a few key differences as well.
â€‹ routes/api/v1/users.js // -=-=- other code omitted here -=-=- /** * Update a user * * @param {Object} req - Express request object * @param {Object} res - Express response object * @param {Function} next - Express next middleware function * * @swagger * /api/v1/users/{id}: * put: * summary: update user * tags: [users] * parameters: * - in: path * name: id * required: true * schema: * type: integer * description: user ID * requestBody: * description: user * required: true * content: * application/json: * schema: * $ref: '#/components/schemas/User' * example: * username: updateduser * roles: * - id: 6 * - id: 7 * responses: * 201: * $ref: '#/components/responses/Success' * 422: * $ref: '#/components/responses/ValidationError' */ router."><meta itemprop=dateModified content="2025-03-07T15:34:34-06:00"><meta itemprop=wordCount content="1340"><title>Update :: CIS 526 Textbook</title>
<link href=/cis526/x-examples/03-rest-api/10-update/index.xml rel=alternate type=application/rss+xml title="Update :: CIS 526 Textbook"><link href=/cis526/x-examples/03-rest-api/10-update/index.print.html rel=alternate type=text/html title="Update :: CIS 526 Textbook"><link href=/cis526/x-examples/03-rest-api/10-update/tele.html rel=alternate type=text/html title="Update :: CIS 526 Textbook"><link href=/cis526/x-examples/03-rest-api/10-update/embed.html rel=alternate type=text/html title="Update :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1742960748 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1742960748 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1742960748 rel=stylesheet><link href=/cis526/css/auto-complete.css?1742960748 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1742960748 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1742960748 rel=stylesheet><link href=/cis526/css/fonts.css?1742960748 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1742960748 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1742960748 rel=stylesheet><link href=/cis526/css/theme-auto.css?1742960748 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-auto.css?1742960748 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1742960748 rel=stylesheet><link href=/cis526/css/print.css?1742960748 rel=stylesheet media=print><script src=/cis526/js/variant.js?1742960748></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1742960748 rel=stylesheet></head><body class="mobile-support html disableInlineCopyToClipboard" data-url=/cis526/x-examples/03-rest-api/10-update/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#update-route>Update Route</a></li><li><a href=#unit-testing-update-route>Unit Testing Update Route</a></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/x-examples/><span itemprop=name>Example Projects</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/x-examples/03-rest-api/><span itemprop=name>RESTful API</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Update</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-edit" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=https://github.com/ksu-cs-textbooks/cis526/edit/main/content/x-examples/03-rest-api/10-update.md target=_blank title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a></div><div class="topbar-button topbar-button-print" data-content-empty=disable data-width-s=area-more data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/03-rest-api/10-update/index.print.html title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></div><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/03-rest-api/09-testing-create/ title="Testing Create (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/03-rest-api/11-delete/ title="Delete (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more><div class="topbar-button topbar-button-embed" data-content-empty=disable data-width-s=area-more data-width-m=area-more data-width-l=area-more><a class=topbar-control href=/cis526/x-examples/03-rest-api/10-update/embed.html title="Embeddable Version"><i class="fa-fw fas fa-expand-arrows-alt"></i></a></div><div class="topbar-button topbar-button-tele" data-content-empty=disable data-width-s=area-more data-width-m=area-more data-width-l=area-more><a class=topbar-control href=/cis526/x-examples/03-rest-api/10-update/tele.html title="Teleprompter View"><i class="fa-fw fas fa-tv"></i></a></div></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=update>Update</h1><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube.com/embed/wH6SmYAGRLs?autoplay=0&controls=1&end=0&loop=0&mute=0&start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div><h2 id=update-route>Update Route</h2><p>Next, let&rsquo;s look at adding an additional route in our application that allows us to update a <code>User</code> model. This route is very similar to the route used to create a user, but there are a few key differences as well.</p><div class=tab-panel data-tab-group=25c8de95ee2149d398970e19e23297d6><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=routesapiv1usersjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("25c8de95ee2149d398970e19e23297d6","routesapiv1usersjs")'>
<span class=tab-nav-text>routes/api/v1/users.js</span></button></div><div class=tab-content-container><div data-tab-item=routesapiv1usersjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Update a user
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @param {Object} req - Express request object
</span></span></span><span class=line><span class=cl><span class=cm> * @param {Object} res - Express response object
</span></span></span><span class=line><span class=cl><span class=cm> * @param {Function} next - Express next middleware function
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @swagger
</span></span></span><span class=line><span class=cl><span class=cm> * /api/v1/users/{id}:
</span></span></span><span class=line><span class=cl><span class=cm> *   put:
</span></span></span><span class=line><span class=cl><span class=cm> *     summary: update user
</span></span></span><span class=line><span class=cl><span class=cm> *     tags: [users]
</span></span></span><span class=line><span class=cl><span class=cm> *     parameters:
</span></span></span><span class=line><span class=cl><span class=cm> *       - in: path
</span></span></span><span class=line><span class=cl><span class=cm> *         name: id
</span></span></span><span class=line><span class=cl><span class=cm> *         required: true
</span></span></span><span class=line><span class=cl><span class=cm> *         schema:
</span></span></span><span class=line><span class=cl><span class=cm> *           type: integer
</span></span></span><span class=line><span class=cl><span class=cm> *         description: user ID
</span></span></span><span class=line><span class=cl><span class=cm> *     requestBody:
</span></span></span><span class=line><span class=cl><span class=cm> *       description: user
</span></span></span><span class=line><span class=cl><span class=cm> *       required: true
</span></span></span><span class=line><span class=cl><span class=cm> *       content:
</span></span></span><span class=line><span class=cl><span class=cm> *         application/json:
</span></span></span><span class=line><span class=cl><span class=cm> *           schema:
</span></span></span><span class=line><span class=cl><span class=cm> *             $ref: &#39;#/components/schemas/User&#39;
</span></span></span><span class=line><span class=cl><span class=cm> *           example:
</span></span></span><span class=line><span class=cl><span class=cm> *             username: updateduser
</span></span></span><span class=line><span class=cl><span class=cm> *             roles:
</span></span></span><span class=line><span class=cl><span class=cm> *               - id: 6
</span></span></span><span class=line><span class=cl><span class=cm> *               - id: 7
</span></span></span><span class=line><span class=cl><span class=cm> *     responses:
</span></span></span><span class=line><span class=cl><span class=cm> *       201:
</span></span></span><span class=line><span class=cl><span class=cm> *         $ref: &#39;#/components/responses/Success&#39;
</span></span></span><span class=line><span class=cl><span class=cm> *       422:
</span></span></span><span class=line><span class=cl><span class=cm> *         $ref: &#39;#/components/responses/ValidationError&#39;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=nx>router</span><span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s2>&#34;/:id&#34;</span><span class=p>,</span> <span class=kr>async</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>req</span><span class=p>,</span> <span class=nx>res</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=kr>await</span> <span class=nx>User</span><span class=p>.</span><span class=nx>findByPk</span><span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>params</span><span class=p>.</span><span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// if the user is not found, return an HTTP 404 not found status code
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>user</span> <span class=o>===</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>404</span><span class=p>).</span><span class=nx>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>await</span> <span class=nx>database</span><span class=p>.</span><span class=nx>transaction</span><span class=p>(</span><span class=kr>async</span> <span class=p>(</span><span class=nx>t</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>await</span> <span class=nx>user</span><span class=p>.</span><span class=nx>update</span><span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Update the user object using body attributes
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>username</span><span class=o>:</span> <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>username</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Assign to a database transaction
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>transaction</span><span class=o>:</span> <span class=nx>t</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>        <span class=c1>// If roles are included in the body
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>roles</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Find all roles listed
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=kr>await</span> <span class=nb>Promise</span><span class=p>.</span><span class=nx>all</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=nx>req</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>roles</span><span class=p>.</span><span class=nx>map</span><span class=p>(({</span> <span class=nx>id</span><span class=p>,</span> <span class=p>...</span><span class=nx>next</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=k>return</span> <span class=nx>Role</span><span class=p>.</span><span class=nx>findByPk</span><span class=p>(</span><span class=nx>id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}),</span>
</span></span><span class=line><span class=cl>          <span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>          <span class=c1>// Attach roles to user
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=kr>await</span> <span class=nx>user</span><span class=p>.</span><span class=nx>setRoles</span><span class=p>(</span><span class=nx>roles</span><span class=p>,</span> <span class=p>{</span> <span class=nx>transaction</span><span class=o>:</span> <span class=nx>t</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=c1>// Remove all roles
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=kr>await</span> <span class=nx>user</span><span class=p>.</span><span class=nx>setRoles</span><span class=p>([],</span> <span class=p>{</span> <span class=nx>transaction</span><span class=o>:</span> <span class=nx>t</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>        <span class=c1>// Send the success message
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>sendSuccess</span><span class=p>(</span><span class=s2>&#34;User saved!&#34;</span><span class=p>,</span> <span class=nx>user</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span> <span class=mi>201</span><span class=p>,</span> <span class=nx>res</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>error</span> <span class=k>instanceof</span> <span class=nx>ValidationError</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>handleValidationError</span><span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=nx>res</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>logger</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=nx>error</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>res</span><span class=p>.</span><span class=nx>status</span><span class=p>(</span><span class=mi>500</span><span class=p>).</span><span class=nx>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>As we can see, overall this route is very similar to the create route. The only major difference is that we must first find the user we want to update based on the query parameter, and then we use the <code>update</code> database method to update the existing values in the database. The rest of the work updating the related <code>Roles</code> models is exactly the same. We can also reuse the utility functions we created for the previous route.</p><p>Just like we did earlier, we can test this route using the Open API documentation website to confirm that it is working correctly before we even move on to testing it.</p><h2 id=unit-testing-update-route>Unit Testing Update Route</h2><p>The unit tests for the route to update a user are very similar to the ones used for creating a user. First, we need a test that will confirm we can successfully update a user entry:</p><div class=tab-panel data-tab-group=3a6309be720d22dcafcfec320a439c4e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=testapiv1usersjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("3a6309be720d22dcafcfec320a439c4e","testapiv1usersjs")'>
<span class=tab-nav-text>test/api/v1/users.js</span></button></div><div class=tab-content-container><div data-tab-item=testapiv1usersjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Update a user successfully
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>updateUser</span> <span class=o>=</span> <span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;should successfully update user ID &#39;&#34;</span> <span class=o>+</span> <span class=nx>id</span> <span class=o>+</span> <span class=s2>&#34;&#39; to &#39;&#34;</span> <span class=o>+</span> <span class=nx>user</span><span class=p>.</span><span class=nx>username</span> <span class=o>+</span> <span class=s2>&#34;&#39;&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>done</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>request</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s2>&#34;/api/v1/users/&#34;</span> <span class=o>+</span> <span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>send</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>201</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>end</span><span class=p>((</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>an</span><span class=p>(</span><span class=s2>&#34;object&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>property</span><span class=p>(</span><span class=s2>&#34;message&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>property</span><span class=p>(</span><span class=s2>&#34;id&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>equal</span><span class=p>(</span><span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Find user in list of all users
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>request</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;/api/v1/users&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>end</span><span class=p>((</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>foundUser</span> <span class=o>=</span> <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>find</span><span class=p>(</span>
</span></span><span class=line><span class=cl>              <span class=p>(</span><span class=nx>u</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>u</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>foundUser</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>shallowDeepEqual</span><span class=p>(</span><span class=nx>user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>done</span><span class=p>();</span>
</span></span><span class=line><span class=cl>          <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Test /api/v1/users route
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;/api/v1/users&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;PUT /{id}&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUser</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div></div></div></div></div><p>Next, we also want to check that any updated users have the correct roles attached, including instances where the roles were completely removed:</p><div class=tab-panel data-tab-group=594816c4649921f295ffdacb97411ff7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=testapiv1usersjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("594816c4649921f295ffdacb97411ff7","testapiv1usersjs")'>
<span class=tab-nav-text>test/api/v1/users.js</span></button></div><div class=tab-content-container><div data-tab-item=testapiv1usersjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Update a user and roles successfully
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>updateUserAndRoles</span> <span class=o>=</span> <span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;should successfully update user ID &#39;&#34;</span> <span class=o>+</span> <span class=nx>id</span> <span class=o>+</span> <span class=s2>&#34;&#39; roles&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>done</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>request</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s2>&#34;/api/v1/users/&#34;</span> <span class=o>+</span> <span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>send</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>201</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>end</span><span class=p>((</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>an</span><span class=p>(</span><span class=s2>&#34;object&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>property</span><span class=p>(</span><span class=s2>&#34;message&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>property</span><span class=p>(</span><span class=s2>&#34;id&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>id</span><span class=p>).</span><span class=nx>equal</span><span class=p>(</span><span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Find user in list of all users
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>request</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;/api/v1/users&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>end</span><span class=p>((</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>foundUser</span> <span class=o>=</span> <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>find</span><span class=p>(</span>
</span></span><span class=line><span class=cl>              <span class=p>(</span><span class=nx>u</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>u</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Handle case where user has no roles assigned
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=nx>user</span><span class=p>.</span><span class=nx>roles</span> <span class=o>||</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>            <span class=nx>foundUser</span><span class=p>.</span><span class=nx>roles</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>an</span><span class=p>(</span><span class=s2>&#34;array&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>foundUser</span><span class=p>.</span><span class=nx>roles</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>lengthOf</span><span class=p>(</span><span class=nx>roles</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>roles</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>role</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nx>expect</span><span class=p>(</span><span class=nx>foundUser</span><span class=p>.</span><span class=nx>roles</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>r</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>r</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>role</span><span class=p>.</span><span class=nx>id</span><span class=p>)).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>})</span>
</span></span><span class=line><span class=cl>            <span class=nx>done</span><span class=p>();</span>
</span></span><span class=line><span class=cl>          <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Test /api/v1/users route
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;/api/v1/users&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;PUT /{id}&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUser</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=nx>new_user_no_roles</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div></div></div></div></div><p>We also should check that the username is unchanged if an update is sent with no username attribute, but the rest of the update will succeed. For this test, we can just create a new mock object with just roles and no username included.</p><div class=tab-panel data-tab-group=35d22f9cb9853e190051f77f78e1e9d4><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=testapiv1usersjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("35d22f9cb9853e190051f77f78e1e9d4","testapiv1usersjs")'>
<span class=tab-nav-text>test/api/v1/users.js</span></button></div><div class=tab-content-container><div data-tab-item=testapiv1usersjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Update user structure with only roles
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>update_user_only_roles</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>roles</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>id</span><span class=o>:</span> <span class=mi>6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>id</span><span class=o>:</span> <span class=mi>7</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Test /api/v1/users route
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;/api/v1/users&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;PUT /{id}&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUser</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=nx>new_user_no_roles</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nx>update_user_only_roles</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div></div></div></div></div><p>Finally, we should include a couple of tests to handle the situation where a duplicate username is provided, or where an invalid role is provided. These are nearly identical to the tests used in the create route earlier in this example:</p><div class=tab-panel data-tab-group=d5f071ac409fcd952119f6e04f7ea947><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=testapiv1usersjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d5f071ac409fcd952119f6e04f7ea947","testapiv1usersjs")'>
<span class=tab-nav-text>test/api/v1/users.js</span></button></div><div class=tab-content-container><div data-tab-item=testapiv1usersjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Fails to update user with a duplicate username
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>updateUserFailsOnDuplicateUsername</span> <span class=o>=</span> <span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;should fail on duplicate username &#39;&#34;</span> <span class=o>+</span> <span class=nx>user</span><span class=p>.</span><span class=nx>username</span> <span class=o>+</span> <span class=s2>&#34;&#39;&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>done</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>request</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s2>&#34;/api/v1/users/&#34;</span> <span class=o>+</span> <span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>send</span><span class=p>(</span><span class=nx>user</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>422</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>end</span><span class=p>((</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>an</span><span class=p>(</span><span class=s2>&#34;object&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>property</span><span class=p>(</span><span class=s2>&#34;error&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>property</span><span class=p>(</span><span class=s2>&#34;errors&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>an</span><span class=p>(</span><span class=s2>&#34;array&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// the error should be related to the username attribute
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>expect</span><span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>attribute</span> <span class=o>===</span> <span class=s2>&#34;username&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=p>).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>done</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Fails to update user with bad role ID
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>updateUserFailsOnInvalidRole</span> <span class=o>=</span> <span class=p>(</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>,</span> <span class=nx>role_id</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>it</span><span class=p>(</span><span class=s2>&#34;should fail when invalid role id &#39;&#34;</span> <span class=o>+</span> <span class=nx>role_id</span> <span class=o>+</span> <span class=s2>&#34;&#39; is used&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>done</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Create a copy of the user object
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>updated_user</span> <span class=o>=</span> <span class=p>{</span> <span class=p>...</span><span class=nx>user</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Make a shallow copy of the roles array
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>updated_user</span><span class=p>.</span><span class=nx>roles</span> <span class=o>=</span> <span class=p>[...</span> <span class=nx>user</span><span class=p>.</span><span class=nx>roles</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Add invalid role ID to user object
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>updated_user</span><span class=p>.</span><span class=nx>roles</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span>
</span></span><span class=line><span class=cl>      <span class=nx>id</span><span class=o>:</span> <span class=nx>role_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=nx>request</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s2>&#34;/api/v1/users/&#34;</span> <span class=o>+</span> <span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>send</span><span class=p>(</span><span class=nx>updated_user</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>422</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>.</span><span class=nx>end</span><span class=p>((</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>be</span><span class=p>.</span><span class=nx>an</span><span class=p>(</span><span class=s2>&#34;object&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>should</span><span class=p>.</span><span class=nx>have</span><span class=p>.</span><span class=nx>property</span><span class=p>(</span><span class=s2>&#34;error&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=c1>// User with invalid roles should not be updated
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>request</span><span class=p>(</span><span class=nx>app</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;/api/v1/users&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>expect</span><span class=p>(</span><span class=mi>200</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>.</span><span class=nx>end</span><span class=p>((</span><span class=nx>err</span><span class=p>,</span> <span class=nx>res</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>expect</span><span class=p>(</span><span class=nx>res</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>u</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>u</span><span class=p>.</span><span class=nx>username</span> <span class=o>===</span> <span class=nx>updated_user</span><span class=p>.</span><span class=nx>username</span><span class=p>)).</span><span class=nx>to</span><span class=p>.</span><span class=nx>equal</span><span class=p>(</span>
</span></span><span class=line><span class=cl>              <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nx>done</span><span class=p>();</span>
</span></span><span class=line><span class=cl>          <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Update user structure with duplicate username
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>update_user_duplicate_username</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>username</span><span class=o>:</span> <span class=s2>&#34;admin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * Test /api/v1/users route
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;/api/v1/users&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nx>describe</span><span class=p>(</span><span class=s2>&#34;PUT /{id}&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUser</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=nx>new_user_no_roles</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserAndRoles</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nx>update_user_only_roles</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserFailsOnDuplicateUsername</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=nx>update_user_duplicate_username</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserFailsOnInvalidRole</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserFailsOnInvalidRole</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserFailsOnInvalidRole</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>,</span> <span class=mi>8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>updateUserFailsOnInvalidRole</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=nx>new_user</span><span class=p>,</span> <span class=s2>&#34;test&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div></div></div></div></div><p>There we go! We have a set of unit tests that cover most of the situations we can anticipate seeing with our route to update users. If we run all of these tests at this point, they should all pass:</p><div class=tab-panel data-tab-group=e60112bb11a6d3b908bee9d158224437><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=output class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("e60112bb11a6d3b908bee9d158224437","output")'>
<span class=tab-nav-text>output</span></button></div><div class=tab-content-container><div data-tab-item=output class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0><code>    PUT /{id}
      âœ” should successfully update user ID &#39;3&#39; to &#39;test_user&#39;
      âœ” should successfully update user ID &#39;3&#39; roles
      âœ” should successfully update user ID &#39;2&#39; roles
      âœ” should successfully update user ID &#39;1&#39; roles
      âœ” should fail on duplicate username &#39;admin&#39;
      âœ” should fail when invalid role id &#39;0&#39; is used
      âœ” should fail when invalid role id &#39;-1&#39; is used
      âœ” should fail when invalid role id &#39;8&#39; is used
      âœ” should fail when invalid role id &#39;test&#39; is used</code></pre></div></div></div></div></div><p>Great! Now is a great time to <strong>lint, format, and then commit and push</strong> our work to GitHub before continuing.</p><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis526/commit/72ef3996489fa484e82c627826e4c5ee052c2b5a>Mar 7, 2025</a></p></div></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=logo href=/cis526/>CIS 526 | CC 515<br>Web Development</a></div><search><form action=/cis526/search.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search><script>var contentLangs=["en"]</script><script src=/cis526/js/auto-complete.js?1742960748 defer></script><script src=/cis526/js/lunr/lunr.min.js?1742960748 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1742960748 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1742960748 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1742960748 defer></script><script src=/cis526/js/search.js?1742960748 defer></script></div><div id=R-homelinks class=default-animation><hr class=padding></div><div id=R-content-wrapper class=highlightable><div id=R-topics><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/cis526/00-forward/><input type=checkbox id=R-section-381359032fecc4a21eb3e40a6b817646 aria-controls=R-subsections-381359032fecc4a21eb3e40a6b817646><label for=R-section-381359032fecc4a21eb3e40a6b817646><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Course Information</span></label><a class=padding href=/cis526/00-forward/><b>0. </b>Course Information</a><ul id=R-subsections-381359032fecc4a21eb3e40a6b817646 class="morespace collapsible-menu"><li data-nav-id=/cis526/00-forward/01-introduction/><a class=padding href=/cis526/00-forward/01-introduction/>1.Course Introduction</a></li><li data-nav-id=/cis526/00-forward/02-navigating-canvas/><a class=padding href=/cis526/00-forward/02-navigating-canvas/>2.Navigating Canvas</a></li><li data-nav-id=/cis526/00-forward/03-where-to-find-help/><a class=padding href=/cis526/00-forward/03-where-to-find-help/>3.Where to Find Help</a></li><li data-nav-id=/cis526/00-forward/04-what-you-will-learn/><a class=padding href=/cis526/00-forward/04-what-you-will-learn/>4.What You'll Learn</a></li><li data-nav-id=/cis526/00-forward/05-textbooks/><a class=padding href=/cis526/00-forward/05-textbooks/>5.Course Textbooks</a></li><li data-nav-id=/cis526/00-forward/06-syllabus/><a class=padding href=/cis526/00-forward/06-syllabus/>6.Spring 2025 Syllabus</a></li></ul></li><li data-nav-id=/cis526/01-the-dom/><input type=checkbox id=R-section-6a16b50f678174e0b4f7708d0f1a2175 aria-controls=R-subsections-6a16b50f678174e0b4f7708d0f1a2175><label for=R-section-6a16b50f678174e0b4f7708d0f1a2175><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu The Document Object Model</span></label><a class=padding href=/cis526/01-the-dom/><b>1. </b>The Document Object Model</a><ul id=R-subsections-6a16b50f678174e0b4f7708d0f1a2175 class="morespace collapsible-menu"><li data-nav-id=/cis526/01-the-dom/01-introduction/><a class=padding href=/cis526/01-the-dom/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/01-the-dom/02-document-object-model/><a class=padding href=/cis526/01-the-dom/02-document-object-model/>2. Document Object Model</a></li><li data-nav-id=/cis526/01-the-dom/03-css-and-the-dom/><a class=padding href=/cis526/01-the-dom/03-css-and-the-dom/>3. CSS and the DOM</a></li><li data-nav-id=/cis526/01-the-dom/04-js-and-the-dom/><a class=padding href=/cis526/01-the-dom/04-js-and-the-dom/>4. JavaScript and the DOM</a></li><li data-nav-id=/cis526/01-the-dom/05-js-events/><a class=padding href=/cis526/01-the-dom/05-js-events/>5. JavaScript Events</a></li><li data-nav-id=/cis526/01-the-dom/06-dom-resource-loading/><a class=padding href=/cis526/01-the-dom/06-dom-resource-loading/>6. The DOM and External Resource Loading</a></li><li data-nav-id=/cis526/01-the-dom/07-summary/><a class=padding href=/cis526/01-the-dom/07-summary/>7. Summary</a></li></ul></li><li data-nav-id=/cis526/02-http/><input type=checkbox id=R-section-c73e16af0692619860079e57eba7eabd aria-controls=R-subsections-c73e16af0692619860079e57eba7eabd><label for=R-section-c73e16af0692619860079e57eba7eabd><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Hyper-Text Transfer Protocol</span></label><a class=padding href=/cis526/02-http/><b>2. </b>Hyper-Text Transfer Protocol</a><ul id=R-subsections-c73e16af0692619860079e57eba7eabd class="morespace collapsible-menu"><li data-nav-id=/cis526/02-http/01-introduction/><a class=padding href=/cis526/02-http/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/02-http/02-browser-requests/><a class=padding href=/cis526/02-http/02-browser-requests/>2. Browser Requests</a></li><li data-nav-id=/cis526/02-http/03-request-format/><a class=padding href=/cis526/02-http/03-request-format/>3. Request Format</a></li><li data-nav-id=/cis526/02-http/04-request-methods/><a class=padding href=/cis526/02-http/04-request-methods/>4. Request Methods</a></li><li data-nav-id=/cis526/02-http/05-uris-and-urls/><a class=padding href=/cis526/02-http/05-uris-and-urls/>5. URIs and URLs</a></li><li data-nav-id=/cis526/02-http/06-request-headers/><a class=padding href=/cis526/02-http/06-request-headers/>6. Request Headers</a></li><li data-nav-id=/cis526/02-http/07-request-body/><a class=padding href=/cis526/02-http/07-request-body/>7. Request Body</a></li><li data-nav-id=/cis526/02-http/08-response-format/><a class=padding href=/cis526/02-http/08-response-format/>8. Response Format</a></li><li data-nav-id=/cis526/02-http/09-status-codes/><a class=padding href=/cis526/02-http/09-status-codes/>9. Status Codes</a></li><li data-nav-id=/cis526/02-http/10-response-headers/><a class=padding href=/cis526/02-http/10-response-headers/>10. Response Headers</a></li><li data-nav-id=/cis526/02-http/11-response-body/><a class=padding href=/cis526/02-http/11-response-body/>11. Response Body</a></li><li data-nav-id=/cis526/02-http/12-http-2-0/><a class=padding href=/cis526/02-http/12-http-2-0/>12. HTTP 2.0</a></li><li data-nav-id=/cis526/02-http/13-statelessness-and-scaling/><a class=padding href=/cis526/02-http/13-statelessness-and-scaling/>13. Statelessness and Scaling</a></li><li data-nav-id=/cis526/02-http/14-summary/><a class=padding href=/cis526/02-http/14-summary/>14. Summary</a></li></ul></li><li data-nav-id=/cis526/03-asynchronous-js/><input type=checkbox id=R-section-775560361edc8de6e1be770808b51a35 aria-controls=R-subsections-775560361edc8de6e1be770808b51a35><label for=R-section-775560361edc8de6e1be770808b51a35><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Asynchronous JavaScript</span></label><a class=padding href=/cis526/03-asynchronous-js/><b>3. </b>Asynchronous JavaScript</a><ul id=R-subsections-775560361edc8de6e1be770808b51a35 class="morespace collapsible-menu"><li data-nav-id=/cis526/03-asynchronous-js/01-introduction/><a class=padding href=/cis526/03-asynchronous-js/01-introduction/>1.Introduction</a></li><li data-nav-id=/cis526/03-asynchronous-js/02-concurrency-approaches/><a class=padding href=/cis526/03-asynchronous-js/02-concurrency-approaches/>2. Concurrency Approaches</a></li><li data-nav-id=/cis526/03-asynchronous-js/03-concurrency-challenges/><a class=padding href=/cis526/03-asynchronous-js/03-concurrency-challenges/>3. Concurrency Challenges</a></li><li data-nav-id=/cis526/03-asynchronous-js/04-asynchronous-programming/><a class=padding href=/cis526/03-asynchronous-js/04-asynchronous-programming/>4. Asynchronous Programming</a></li><li data-nav-id=/cis526/03-asynchronous-js/05-web-workers/><a class=padding href=/cis526/03-asynchronous-js/05-web-workers/>5. Web Workers</a></li><li data-nav-id=/cis526/03-asynchronous-js/06-callbacks/><a class=padding href=/cis526/03-asynchronous-js/06-callbacks/>6. Callbacks</a></li><li data-nav-id=/cis526/03-asynchronous-js/07-promises/><a class=padding href=/cis526/03-asynchronous-js/07-promises/>7. Promises</a></li><li data-nav-id=/cis526/03-asynchronous-js/08-async-await/><a class=padding href=/cis526/03-asynchronous-js/08-async-await/>8. Async and Await</a></li><li data-nav-id=/cis526/03-asynchronous-js/09-summary/><a class=padding href=/cis526/03-asynchronous-js/09-summary/>9. Summary</a></li></ul></li><li data-nav-id=/cis526/04-node/><input type=checkbox id=R-section-a8e56a1886ee6b40a96fbe5afcfbb6ec aria-controls=R-subsections-a8e56a1886ee6b40a96fbe5afcfbb6ec><label for=R-section-a8e56a1886ee6b40a96fbe5afcfbb6ec><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Introduction to Node</span></label><a class=padding href=/cis526/04-node/><b>4. </b>Introduction to Node</a><ul id=R-subsections-a8e56a1886ee6b40a96fbe5afcfbb6ec class="morespace collapsible-menu"><li data-nav-id=/cis526/04-node/01-introduction/><a class=padding href=/cis526/04-node/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/04-node/02-event-loop/><a class=padding href=/cis526/04-node/02-event-loop/>2. Event Loop & Console</a></li><li data-nav-id=/cis526/04-node/03-asynchronous-functions/><a class=padding href=/cis526/04-node/03-asynchronous-functions/>3. Asynchronous Functions</a></li><li data-nav-id=/cis526/04-node/04-modules/><a class=padding href=/cis526/04-node/04-modules/>4. Modules</a></li><li data-nav-id=/cis526/04-node/05-packages/><a class=padding href=/cis526/04-node/05-packages/>5. Packages</a></li><li data-nav-id=/cis526/04-node/06-dependencies/><a class=padding href=/cis526/04-node/06-dependencies/>6. Dependencies</a></li><li data-nav-id=/cis526/04-node/07-git/><a class=padding href=/cis526/04-node/07-git/>7. Git</a></li><li data-nav-id=/cis526/04-node/08-summary/><a class=padding href=/cis526/04-node/08-summary/>8. Summary</a></li></ul></li><li data-nav-id=/cis526/05-web-servers/><input type=checkbox id=R-section-9ac71e413ee68fe629238aca85c6e729 aria-controls=R-subsections-9ac71e413ee68fe629238aca85c6e729><label for=R-section-9ac71e413ee68fe629238aca85c6e729><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Basic Web Servers</span></label><a class=padding href=/cis526/05-web-servers/><b>5. </b>Basic Web Servers</a><ul id=R-subsections-9ac71e413ee68fe629238aca85c6e729 class="morespace collapsible-menu"><li data-nav-id=/cis526/05-web-servers/01-introduction/><a class=padding href=/cis526/05-web-servers/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/05-web-servers/02-http-in-node/><a class=padding href=/cis526/05-web-servers/02-http-in-node/>2. HTTP in Node</a></li><li data-nav-id=/cis526/05-web-servers/03-request-handling/><a class=padding href=/cis526/05-web-servers/03-request-handling/>3. Request Handling</a></li><li data-nav-id=/cis526/05-web-servers/04-importance-of-async/><a class=padding href=/cis526/05-web-servers/04-importance-of-async/>4. The Importance of Being Async</a></li><li data-nav-id=/cis526/05-web-servers/05-caching-win/><a class=padding href=/cis526/05-web-servers/05-caching-win/>5. Caching for the Win</a></li><li data-nav-id=/cis526/05-web-servers/06-index-pages/><a class=padding href=/cis526/05-web-servers/06-index-pages/>6. Index Pages</a></li><li data-nav-id=/cis526/05-web-servers/07-partial-downloads/><a class=padding href=/cis526/05-web-servers/07-partial-downloads/>7. Partial Downloads</a></li></ul></li><li data-nav-id=/cis526/06-dynamic-web-servers/><input type=checkbox id=R-section-9b1a740555f1bfe7ddcc1f376f3a9436 aria-controls=R-subsections-9b1a740555f1bfe7ddcc1f376f3a9436><label for=R-section-9b1a740555f1bfe7ddcc1f376f3a9436><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Dynamic Web Servers</span></label><a class=padding href=/cis526/06-dynamic-web-servers/><b>6. </b>Dynamic Web Servers</a><ul id=R-subsections-9b1a740555f1bfe7ddcc1f376f3a9436 class="morespace collapsible-menu"><li data-nav-id=/cis526/06-dynamic-web-servers/01-introduction/><a class=padding href=/cis526/06-dynamic-web-servers/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/02-cgi-scripts/><a class=padding href=/cis526/06-dynamic-web-servers/02-cgi-scripts/>2. CGI Scripts</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/03-server-pages/><a class=padding href=/cis526/06-dynamic-web-servers/03-server-pages/>3. Server Pages</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/04-custom-servers/><a class=padding href=/cis526/06-dynamic-web-servers/04-custom-servers/>4. Custom Servers</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/05-query-and-hash-strings/><a class=padding href=/cis526/06-dynamic-web-servers/05-query-and-hash-strings/>5. Query and Hash Strings</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/06-form-encoding/><a class=padding href=/cis526/06-dynamic-web-servers/06-form-encoding/>6. Form Encoding</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/07-req-body/><a class=padding href=/cis526/06-dynamic-web-servers/07-req-body/>7. Request Body</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/08-cookies/><a class=padding href=/cis526/06-dynamic-web-servers/08-cookies/>8. Cookies</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/09-sessions/><a class=padding href=/cis526/06-dynamic-web-servers/09-sessions/>9. Sessions</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/10-template-rendering/><a class=padding href=/cis526/06-dynamic-web-servers/10-template-rendering/>10. Template Rendering</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/11-script-injection/><a class=padding href=/cis526/06-dynamic-web-servers/11-script-injection/>11. Script Injection</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/12-full-stack/><a class=padding href=/cis526/06-dynamic-web-servers/12-full-stack/>12. Full Stack Development</a></li><li data-nav-id=/cis526/06-dynamic-web-servers/13-summary/><a class=padding href=/cis526/06-dynamic-web-servers/13-summary/>13. Summary</a></li></ul></li><li data-nav-id=/cis526/07-persistent-storage/><input type=checkbox id=R-section-29ea93abc8bf55456bc57ac54e169885 aria-controls=R-subsections-29ea93abc8bf55456bc57ac54e169885><label for=R-section-29ea93abc8bf55456bc57ac54e169885><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Persistent Storage</span></label><a class=padding href=/cis526/07-persistent-storage/><b>7. </b>Persistent Storage</a><ul id=R-subsections-29ea93abc8bf55456bc57ac54e169885 class="morespace collapsible-menu"><li data-nav-id=/cis526/07-persistent-storage/01-introduction/><a class=padding href=/cis526/07-persistent-storage/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/07-persistent-storage/02-data-serialization/><a class=padding href=/cis526/07-persistent-storage/02-data-serialization/>2. Data Serialization</a></li><li data-nav-id=/cis526/07-persistent-storage/03-databases/><a class=padding href=/cis526/07-persistent-storage/03-databases/>3. Databases</a></li><li data-nav-id=/cis526/07-persistent-storage/04-relational-databases/><a class=padding href=/cis526/07-persistent-storage/04-relational-databases/>4. Relational Databases</a></li><li data-nav-id=/cis526/07-persistent-storage/05-sql-injection/><a class=padding href=/cis526/07-persistent-storage/05-sql-injection/>5. SQL Injection</a></li><li data-nav-id=/cis526/07-persistent-storage/06-orm/><a class=padding href=/cis526/07-persistent-storage/06-orm/>6. Object-Relational Mapping</a></li></ul></li><li data-nav-id=/cis526/08-routing/><input type=checkbox id=R-section-7d5ad5cdd59a05709410ba27e8484ed9 aria-controls=R-subsections-7d5ad5cdd59a05709410ba27e8484ed9><label for=R-section-7d5ad5cdd59a05709410ba27e8484ed9><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Routing</span></label><a class=padding href=/cis526/08-routing/><b>8. </b>Routing</a><ul id=R-subsections-7d5ad5cdd59a05709410ba27e8484ed9 class="morespace collapsible-menu"><li data-nav-id=/cis526/08-routing/01-introduction/><a class=padding href=/cis526/08-routing/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/08-routing/02-routing/><a class=padding href=/cis526/08-routing/02-routing/>2. Request Routing</a></li><li data-nav-id=/cis526/08-routing/03-resources/><a class=padding href=/cis526/08-routing/03-resources/>2. Resources</a></li><li data-nav-id=/cis526/08-routing/04-request-revisited/><a class=padding href=/cis526/08-routing/04-request-revisited/>4. Request Revisted</a></li><li data-nav-id=/cis526/08-routing/05-rest/><a class=padding href=/cis526/08-routing/05-rest/>5. REST</a></li><li data-nav-id=/cis526/08-routing/06-routers/><a class=padding href=/cis526/08-routing/06-routers/>6. Routers</a></li><li data-nav-id=/cis526/08-routing/07-apis/><a class=padding href=/cis526/08-routing/07-apis/>7. APIs</a></li><li data-nav-id=/cis526/08-routing/08-web-hooks/><a class=padding href=/cis526/08-routing/08-web-hooks/>8. Web Hooks</a></li><li data-nav-id=/cis526/08-routing/09-summary/><a class=padding href=/cis526/08-routing/09-summary/>9. Summary</a></li></ul></li><li data-nav-id=/cis526/09-auth/><input type=checkbox id=R-section-31c4a5c34ea58b547d558f30a080721a aria-controls=R-subsections-31c4a5c34ea58b547d558f30a080721a><label for=R-section-31c4a5c34ea58b547d558f30a080721a><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Authentication</span></label><a class=padding href=/cis526/09-auth/><b>9. </b>Authentication</a><ul id=R-subsections-31c4a5c34ea58b547d558f30a080721a class="morespace collapsible-menu"><li data-nav-id=/cis526/09-auth/01-introduction/><a class=padding href=/cis526/09-auth/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/09-auth/02-http-auth/><a class=padding href=/cis526/09-auth/02-http-auth/>2. HTTP Authentication</a></li><li data-nav-id=/cis526/09-auth/03-password-auth/><a class=padding href=/cis526/09-auth/03-password-auth/>3. Password Authentication</a></li><li data-nav-id=/cis526/09-auth/04-stronger-passwords/><a class=padding href=/cis526/09-auth/04-stronger-passwords/>4. Stronger Passwords</a></li><li data-nav-id=/cis526/09-auth/05-single-sign-on/><a class=padding href=/cis526/09-auth/05-single-sign-on/>5. Single Sign On</a></li><li data-nav-id=/cis526/09-auth/06-cas/><a class=padding href=/cis526/09-auth/06-cas/>6. CAS</a></li><li data-nav-id=/cis526/09-auth/07-saml/><a class=padding href=/cis526/09-auth/07-saml/>7. SAML</a></li><li data-nav-id=/cis526/09-auth/08-jwt/><a class=padding href=/cis526/09-auth/08-jwt/>8. JSON Web Tokens</a></li><li data-nav-id=/cis526/09-auth/09-oauth/><a class=padding href=/cis526/09-auth/09-oauth/>9. OAuth</a></li><li data-nav-id=/cis526/09-auth/10-summary/><a class=padding href=/cis526/09-auth/10-summary/>10. Summary</a></li></ul></li><li data-nav-id=/cis526/10-dynamic-web-frameworks/><input type=checkbox id=R-section-308720ff1fa4a9fd04164d7d93e767dc aria-controls=R-subsections-308720ff1fa4a9fd04164d7d93e767dc><label for=R-section-308720ff1fa4a9fd04164d7d93e767dc><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Dynamic Web Frameworks</span></label><a class=padding href=/cis526/10-dynamic-web-frameworks/><b>10. </b>Dynamic Web Frameworks</a><ul id=R-subsections-308720ff1fa4a9fd04164d7d93e767dc class="morespace collapsible-menu"><li data-nav-id=/cis526/10-dynamic-web-frameworks/01-introduction/><a class=padding href=/cis526/10-dynamic-web-frameworks/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/10-dynamic-web-frameworks/02-web-frameworks/><a class=padding href=/cis526/10-dynamic-web-frameworks/02-web-frameworks/>2. Web Frameworks</a></li><li data-nav-id=/cis526/10-dynamic-web-frameworks/03-web-framework-characteristics/><a class=padding href=/cis526/10-dynamic-web-frameworks/03-web-framework-characteristics/>3. Web Framework Characteristics</a></li><li data-nav-id=/cis526/10-dynamic-web-frameworks/04-single-page-apps/><a class=padding href=/cis526/10-dynamic-web-frameworks/04-single-page-apps/>4. Single Page Apps</a></li><li data-nav-id=/cis526/10-dynamic-web-frameworks/05-progressive-web-apps/><a class=padding href=/cis526/10-dynamic-web-frameworks/05-progressive-web-apps/>5. Progressive Web Apps</a></li></ul></li><li data-nav-id=/cis526/a-html/><input type=checkbox id=R-section-561b40e57e806c6fd67a03bcc9450b14 aria-controls=R-subsections-561b40e57e806c6fd67a03bcc9450b14><label for=R-section-561b40e57e806c6fd67a03bcc9450b14><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Hyper-Text Markup Language</span></label><a class=padding href=/cis526/a-html/><b>A. </b>Hyper-Text Markup Language</a><ul id=R-subsections-561b40e57e806c6fd67a03bcc9450b14 class="morespace collapsible-menu"><li data-nav-id=/cis526/a-html/01-introduction/><a class=padding href=/cis526/a-html/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/a-html/02-html-element-structure/><a class=padding href=/cis526/a-html/02-html-element-structure/>2. HTML Element Structure</a></li><li data-nav-id=/cis526/a-html/03-html-document-structure/><a class=padding href=/cis526/a-html/03-html-document-structure/>3. HTML Document Structure</a></li><li data-nav-id=/cis526/a-html/04-inline-vs-block/><a class=padding href=/cis526/a-html/04-inline-vs-block/>4. Inline vs. Block Elements</a></li><li data-nav-id=/cis526/a-html/05-tables/><a class=padding href=/cis526/a-html/05-tables/>5. Tables</a></li><li data-nav-id=/cis526/a-html/06-forms/><a class=padding href=/cis526/a-html/06-forms/>6. Forms</a></li><li data-nav-id=/cis526/a-html/07-common-elements/><a class=padding href=/cis526/a-html/07-common-elements/>7. Common HTML Elements</a></li></ul></li><li data-nav-id=/cis526/b-css/><input type=checkbox id=R-section-d10fbc81f34da7a2535c6eff9a1c6664 aria-controls=R-subsections-d10fbc81f34da7a2535c6eff9a1c6664><label for=R-section-d10fbc81f34da7a2535c6eff9a1c6664><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Cascading Style Sheets</span></label><a class=padding href=/cis526/b-css/><b>B. </b>Cascading Style Sheets</a><ul id=R-subsections-d10fbc81f34da7a2535c6eff9a1c6664 class="morespace collapsible-menu"><li data-nav-id=/cis526/b-css/01-introduction/><a class=padding href=/cis526/b-css/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/b-css/02-rule-format/><a class=padding href=/cis526/b-css/02-rule-format/>2. CSS Rules</a></li><li data-nav-id=/cis526/b-css/03-selectors/><a class=padding href=/cis526/b-css/03-selectors/>3. CSS Selectors</a></li><li data-nav-id=/cis526/b-css/04-applying-rules/><a class=padding href=/cis526/b-css/04-applying-rules/>4. Applying CSS Rules</a></li><li data-nav-id=/cis526/b-css/05-cascade-algorithm/><a class=padding href=/cis526/b-css/05-cascade-algorithm/>5. CSS Cascade</a></li><li data-nav-id=/cis526/b-css/06-specificity/><a class=padding href=/cis526/b-css/06-specificity/>6. CSS Specificity</a></li><li data-nav-id=/cis526/b-css/07-units/><a class=padding href=/cis526/b-css/07-units/>7. CSS Units</a></li><li data-nav-id=/cis526/b-css/08-functions/><a class=padding href=/cis526/b-css/08-functions/>8. CSS Functions</a></li><li data-nav-id=/cis526/b-css/09-colors/><a class=padding href=/cis526/b-css/09-colors/>9. CSS Colors</a></li><li data-nav-id=/cis526/b-css/10-text/><a class=padding href=/cis526/b-css/10-text/>10. CSS and Text</a></li><li data-nav-id=/cis526/b-css/11-box-model/><a class=padding href=/cis526/b-css/11-box-model/>11. CSS Box Model</a></li><li data-nav-id=/cis526/b-css/12-positioning/><a class=padding href=/cis526/b-css/12-positioning/>12. CSS Positioning</a></li><li data-nav-id=/cis526/b-css/13-layouts/><a class=padding href=/cis526/b-css/13-layouts/>13. CSS Layouts</a></li><li data-nav-id=/cis526/b-css/14-responsive-web-design/><a class=padding href=/cis526/b-css/14-responsive-web-design/>14. Responsive Web Design</a></li></ul></li><li data-nav-id=/cis526/c-js/><input type=checkbox id=R-section-3088039c09badea8d5acdc403b57c07b aria-controls=R-subsections-3088039c09badea8d5acdc403b57c07b><label for=R-section-3088039c09badea8d5acdc403b57c07b><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu JavaScript</span></label><a class=padding href=/cis526/c-js/><b>C. </b>JavaScript</a><ul id=R-subsections-3088039c09badea8d5acdc403b57c07b class="morespace collapsible-menu"><li data-nav-id=/cis526/c-js/01-introduction/><a class=padding href=/cis526/c-js/01-introduction/>1. Introduction</a></li><li data-nav-id=/cis526/c-js/02-basic-syntax/><a class=padding href=/cis526/c-js/02-basic-syntax/>2. Basic Syntax</a></li><li data-nav-id=/cis526/c-js/03-functions/><a class=padding href=/cis526/c-js/03-functions/>3. JavaScript Functions</a></li><li data-nav-id=/cis526/c-js/04-arrays-and-lists/><a class=padding href=/cis526/c-js/04-arrays-and-lists/>4. Arrays - Lists by Another Name</a></li><li data-nav-id=/cis526/c-js/05-objects-and-classes/><a class=padding href=/cis526/c-js/05-objects-and-classes/>5. Objects and Classes</a></li><li data-nav-id=/cis526/c-js/06-attaching-scripts/><a class=padding href=/cis526/c-js/06-attaching-scripts/>6. Attaching Scripts</a></li><li data-nav-id=/cis526/c-js/07-the-dom/><a class=padding href=/cis526/c-js/07-the-dom/>7. The Document Object Model</a></li><li data-nav-id=/cis526/c-js/08-strict-mode/><a class=padding href=/cis526/c-js/08-strict-mode/>8. Strict Mode</a></li><li data-nav-id=/cis526/c-js/09-regexp/><a class=padding href=/cis526/c-js/09-regexp/>9. Regular Expressions</a></li><li data-nav-id=/cis526/c-js/10-json/><a class=padding href=/cis526/c-js/10-json/>10. JSON</a></li><li data-nav-id=/cis526/c-js/11-ajax/><a class=padding href=/cis526/c-js/11-ajax/>11. AJAX</a></li></ul></li><li data-nav-id=/cis526/x-examples/ class=parent><input type=checkbox id=R-section-05c75bd78d01d0519cdc8e2b93102613 aria-controls=R-subsections-05c75bd78d01d0519cdc8e2b93102613 checked><label for=R-section-05c75bd78d01d0519cdc8e2b93102613><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Example Projects</span></label><a class=padding href=/cis526/x-examples/><b>X. </b>Example Projects</a><ul id=R-subsections-05c75bd78d01d0519cdc8e2b93102613 class="morespace collapsible-menu"><li data-nav-id=/cis526/x-examples/01-express-starter/><input type=checkbox id=R-section-3ad21f3e9ac9c327cfbf561ebb506224 aria-controls=R-subsections-3ad21f3e9ac9c327cfbf561ebb506224><label for=R-section-3ad21f3e9ac9c327cfbf561ebb506224><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Express Starter Project</span></label><a class=padding href=/cis526/x-examples/01-express-starter/>1. Express Starter Project</a><ul id=R-subsections-3ad21f3e9ac9c327cfbf561ebb506224 class="morespace collapsible-menu"><li data-nav-id=/cis526/x-examples/01-express-starter/01-codespace/><a class=padding href=/cis526/x-examples/01-express-starter/01-codespace/>1. GitHub Codespace</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/02-express-starter/><a class=padding href=/cis526/x-examples/01-express-starter/02-express-starter/>2. Express Starter</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/03-es-modules/><a class=padding href=/cis526/x-examples/01-express-starter/03-es-modules/>3. Convert to ES Modules</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/04-debug-log/><a class=padding href=/cis526/x-examples/01-express-starter/04-debug-log/>4. Debugging & Logging</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/05-request-log/><a class=padding href=/cis526/x-examples/01-express-starter/05-request-log/>5. Request Logging</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/06-other-libraries/><a class=padding href=/cis526/x-examples/01-express-starter/06-other-libraries/>6. Other Libraries</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/07-environment/><a class=padding href=/cis526/x-examples/01-express-starter/07-environment/>7. Environment</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/08-open-api/><a class=padding href=/cis526/x-examples/01-express-starter/08-open-api/>8. OpenAPI Documentation</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/09-jsdoc/><a class=padding href=/cis526/x-examples/01-express-starter/09-jsdoc/>9. JSDoc Documentation</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/10-lint-format/><a class=padding href=/cis526/x-examples/01-express-starter/10-lint-format/>10. Linting & Formatting</a></li><li data-nav-id=/cis526/x-examples/01-express-starter/11-summary/><a class=padding href=/cis526/x-examples/01-express-starter/11-summary/>11. Summary</a></li></ul></li><li data-nav-id=/cis526/x-examples/02-database/><input type=checkbox id=R-section-71f043eebfcc7ba1179fc1f403871475 aria-controls=R-subsections-71f043eebfcc7ba1179fc1f403871475><label for=R-section-71f043eebfcc7ba1179fc1f403871475><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Adding a Database</span></label><a class=padding href=/cis526/x-examples/02-database/>2. Adding a Database</a><ul id=R-subsections-71f043eebfcc7ba1179fc1f403871475 class="morespace collapsible-menu"><li data-nav-id=/cis526/x-examples/02-database/01-sequelize/><a class=padding href=/cis526/x-examples/02-database/01-sequelize/>1. Sequelize</a></li><li data-nav-id=/cis526/x-examples/02-database/02-migrations/><a class=padding href=/cis526/x-examples/02-database/02-migrations/>2. Migrations</a></li><li data-nav-id=/cis526/x-examples/02-database/03-seeds/><a class=padding href=/cis526/x-examples/02-database/03-seeds/>3. Seeds</a></li><li data-nav-id=/cis526/x-examples/02-database/04-models/><a class=padding href=/cis526/x-examples/02-database/04-models/>4. Models</a></li><li data-nav-id=/cis526/x-examples/02-database/05-documenting/><a class=padding href=/cis526/x-examples/02-database/05-documenting/>5. Documenting Models</a></li><li data-nav-id=/cis526/x-examples/02-database/06-automation/><a class=padding href=/cis526/x-examples/02-database/06-automation/>6. Automation</a></li><li data-nav-id=/cis526/x-examples/02-database/07-another-table/><a class=padding href=/cis526/x-examples/02-database/07-another-table/>7. Another Table</a></li></ul></li><li data-nav-id=/cis526/x-examples/03-rest-api/ class=parent><input type=checkbox id=R-section-446993c86a155b592e2f654d461ed31b aria-controls=R-subsections-446993c86a155b592e2f654d461ed31b checked><label for=R-section-446993c86a155b592e2f654d461ed31b><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu RESTful API</span></label><a class=padding href=/cis526/x-examples/03-rest-api/>3. RESTful API</a><ul id=R-subsections-446993c86a155b592e2f654d461ed31b class="morespace collapsible-menu"><li data-nav-id=/cis526/x-examples/03-rest-api/01-api-design/><a class=padding href=/cis526/x-examples/03-rest-api/01-api-design/>1. API Design</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/02-unit-testing/><a class=padding href=/cis526/x-examples/03-rest-api/02-unit-testing/>2. Unit Testing</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/03-coverage/><a class=padding href=/cis526/x-examples/03-rest-api/03-coverage/>3. Code Coverage</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/04-other-tests/><a class=padding href=/cis526/x-examples/03-rest-api/04-other-tests/>4. Other Tests</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/05-testing-roles/><a class=padding href=/cis526/x-examples/03-rest-api/05-testing-roles/>5. Testing Roles</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/06-retrieve-all/><a class=padding href=/cis526/x-examples/03-rest-api/06-retrieve-all/>6. Retrieve All</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/07-retrieve-one/><a class=padding href=/cis526/x-examples/03-rest-api/07-retrieve-one/>7. Retrieve One</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/08-create/><a class=padding href=/cis526/x-examples/03-rest-api/08-create/>8. Create</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/09-testing-create/><a class=padding href=/cis526/x-examples/03-rest-api/09-testing-create/>9. Testing Create</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/10-update/ class=active><a class=padding href=/cis526/x-examples/03-rest-api/10-update/>10. Update</a></li><li data-nav-id=/cis526/x-examples/03-rest-api/11-delete/><a class=padding href=/cis526/x-examples/03-rest-api/11-delete/>11. Delete</a></li></ul></li><li data-nav-id=/cis526/x-examples/04-authentication/><input type=checkbox id=R-section-e4c36f9be57dc57805f6b7972ebdf7dd aria-controls=R-subsections-e4c36f9be57dc57805f6b7972ebdf7dd><label for=R-section-e4c36f9be57dc57805f6b7972ebdf7dd><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Authentication</span></label><a class=padding href=/cis526/x-examples/04-authentication/>4. Authentication</a><ul id=R-subsections-e4c36f9be57dc57805f6b7972ebdf7dd class="morespace collapsible-menu"><li data-nav-id=/cis526/x-examples/04-authentication/01-bypass/><a class=padding href=/cis526/x-examples/04-authentication/01-bypass/>1. Bypass Auth</a></li><li data-nav-id=/cis526/x-examples/04-authentication/02-cookie/><a class=padding href=/cis526/x-examples/04-authentication/02-cookie/>2. Cookie Sessions</a></li><li data-nav-id=/cis526/x-examples/04-authentication/03-jwt/><a class=padding href=/cis526/x-examples/04-authentication/03-jwt/>3. JSON Web Token</a></li><li data-nav-id=/cis526/x-examples/04-authentication/04-routing/><a class=padding href=/cis526/x-examples/04-authentication/04-routing/>4. Auth Routing</a></li><li data-nav-id=/cis526/x-examples/04-authentication/05-cas/><a class=padding href=/cis526/x-examples/04-authentication/05-cas/>5. CAS Authentication</a></li><li data-nav-id=/cis526/x-examples/04-authentication/06-new-user/><a class=padding href=/cis526/x-examples/04-authentication/06-new-user/>6. New Users</a></li><li data-nav-id=/cis526/x-examples/04-authentication/07-testing-auth/><a class=padding href=/cis526/x-examples/04-authentication/07-testing-auth/>7. Testing Authentication</a></li><li data-nav-id=/cis526/x-examples/04-authentication/08-role-based/><a class=padding href=/cis526/x-examples/04-authentication/08-role-based/>8. Role-Based Authorization</a></li><li data-nav-id=/cis526/x-examples/04-authentication/09-updating-tests/><a class=padding href=/cis526/x-examples/04-authentication/09-updating-tests/>9. Updating Tests</a></li><li data-nav-id=/cis526/x-examples/04-authentication/10-testing-roles/><a class=padding href=/cis526/x-examples/04-authentication/10-testing-roles/>10. Testing Roles</a></li></ul></li><li data-nav-id=/cis526/x-examples/05-vue-starter/><a class=padding href=/cis526/x-examples/05-vue-starter/>5. Vue.js Starter Project</a></li><li data-nav-id=/cis526/x-examples/06-vue-crud-app/><a class=padding href=/cis526/x-examples/06-vue-crud-app/>6. Vue.js CRUD App</a></li><li data-nav-id=/cis526/x-examples/07-vue-components/><a class=padding href=/cis526/x-examples/07-vue-components/>7. Vue.js Components</a></li></ul></li><li data-nav-id=/cis526/x-milestones/><input type=checkbox id=R-section-d478915d97dee230335616f4fd44f4c2 aria-controls=R-subsections-d478915d97dee230335616f4fd44f4c2><label for=R-section-d478915d97dee230335616f4fd44f4c2><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Milestones</span></label><a class=padding href=/cis526/x-milestones/><b>X. </b>Milestones</a><ul id=R-subsections-d478915d97dee230335616f4fd44f4c2 class="morespace collapsible-menu"><li data-nav-id=/cis526/x-milestones/01-starter/><a class=padding href=/cis526/x-milestones/01-starter/>1. Express Starter Project</a></li><li data-nav-id=/cis526/x-milestones/02-database/><a class=padding href=/cis526/x-milestones/02-database/>2. Add a Database</a></li><li data-nav-id=/cis526/x-milestones/03-rest-api/><a class=padding href=/cis526/x-milestones/03-rest-api/>3. RESTful API</a></li><li data-nav-id=/cis526/x-milestones/04-authentication/><a class=padding href=/cis526/x-milestones/04-authentication/>4. Authentication</a></li><li data-nav-id=/cis526/x-milestones/05-vue-starter/><a class=padding href=/cis526/x-milestones/05-vue-starter/>5. Vue.js Starter Project</a></li><li data-nav-id=/cis526/x-milestones/06-vue-crud-app/><a class=padding href=/cis526/x-milestones/06-vue-crud-app/>6. Vue.js CRUD App</a></li><li data-nav-id=/cis526/x-milestones/07-vue-components/><a class=padding href=/cis526/x-milestones/07-vue-components/>7. Vue.js Components</a></li></ul></li><li data-nav-id=/cis526/y-announcements/><input type=checkbox id=R-section-49e0f8e0f33df1d585ec6e84e1894f4c aria-controls=R-subsections-49e0f8e0f33df1d585ec6e84e1894f4c><label for=R-section-49e0f8e0f33df1d585ec6e84e1894f4c><i class="fa-fw fas fa-chevron-down"></i><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu Announcements</span></label><a class=padding href=/cis526/y-announcements/><b>Y. </b>Announcements</a><ul id=R-subsections-49e0f8e0f33df1d585ec6e84e1894f4c class="morespace collapsible-menu"><li data-nav-id=/cis526/y-announcements/week08/><a class=padding href=/cis526/y-announcements/week08/>Spring '25 Week 8</a></li><li data-nav-id=/cis526/y-announcements/week09/><a class=padding href=/cis526/y-announcements/week09/>Spring '25 Week 9</a></li></ul></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVariantSwitch showFooter"></div><div id=R-menu-footer><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVariantSwitch showFooter"><div id=R-prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVariantSwitch"><ul><li id=R-select-language-container class=footerLangSwitch><div class="padding menu-control"><i class="fa-fw fas fa-language"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-language>Language</label>
<select id=R-select-language onchange="location=this.querySelector(this.value).dataset.url"><option id=R-select-language-en value=#R-select-language-en data-url=/cis526/x-examples/03-rest-api/10-update/ lang=en-us selected></option></select></div><div class=clear></div></div></li><li id=R-select-variant-container class="footerVariantSwitch showVariantSwitch"><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=R-select-variant-auto value=auto selected>KSU Auto</option><option id=R-select-variant-light-theme value=light-theme>KSU Light</option><option id=R-select-variant-dark-theme value=dark-theme>KSU Dark</option></select></div><div class=clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class=footerVisitedLinks><div class="padding menu-control"><i class="fa-fw fas fa-history"></i>
<span>&nbsp;</span><div class=control-style><button onclick=clearHistory()>Clear History</button></div><div class=clear></div></div></li></ul></div><div id=R-footer class="footerFooter showFooter"><p>Built using <a href=http://gohugo.io/>Hugo</a> and <a href=https://github.com/ksu-cs-textbooks/hugo-theme-relearn>Hugo Relearn Theme</a>.</p><p><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/><img alt="Creative Commons License" style="border-width:0;margin:.5rem auto" src=https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png></a><br>This work is licensed under a <a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.</a></p></div></div></div></aside><script src=/cis526/js/clipboard.min.js?1742960749 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1742960749 defer></script><script src=/cis526/js/theme.js?1742960749 defer></script></body></html>