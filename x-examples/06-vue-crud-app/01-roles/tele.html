<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="YouTube Video Roles View To start this project, let’s add a new view and a new component to explore the roles available in our application.
First, let’s create a simple component skeleton in a new src/components/roles/ folder. We’ll name it the RolesList component:
​ src/components/roles/RolesList.vue <script setup> /** * @file Roles List Component * @author Russell Feldhausen <russfeld@ksu.edu> */ // Import Libraries import { ref } from 'vue' import { api } from '@/configs/api' import { Card } from 'primevue' // Create Reactive State const roles = ref([]) // Load Roles api .get('/api/v1/roles') .then(function (response) { roles.value = response.data }) .catch(function (error) { console.log(error) }) </script> <template> <div> <Card v-for=&#34;role in roles&#34; :key=&#34;role.id&#34;> <template #title>Role: {{ role.role }}</template> </Card> </div> </template> This component should look very familiar - it is based on the TestUser component we developed in the previous tutorial."><meta name=author content="Nathan Bean & Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta name=twitter:title content="Roles View :: CIS 526 Textbook"><meta name=twitter:description content="YouTube Video Roles View To start this project, let’s add a new view and a new component to explore the roles available in our application.
First, let’s create a simple component skeleton in a new src/components/roles/ folder. We’ll name it the RolesList component:
​ src/components/roles/RolesList.vue <script setup> /** * @file Roles List Component * @author Russell Feldhausen <russfeld@ksu.edu> */ // Import Libraries import { ref } from 'vue' import { api } from '@/configs/api' import { Card } from 'primevue' // Create Reactive State const roles = ref([]) // Load Roles api .get('/api/v1/roles') .then(function (response) { roles.value = response.data }) .catch(function (error) { console.log(error) }) </script> <template> <div> <Card v-for=&#34;role in roles&#34; :key=&#34;role.id&#34;> <template #title>Role: {{ role.role }}</template> </Card> </div> </template> This component should look very familiar - it is based on the TestUser component we developed in the previous tutorial."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/01-roles/index.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Roles View :: CIS 526 Textbook"><meta property="og:description" content="YouTube Video Roles View To start this project, let’s add a new view and a new component to explore the roles available in our application.
First, let’s create a simple component skeleton in a new src/components/roles/ folder. We’ll name it the RolesList component:
​ src/components/roles/RolesList.vue <script setup> /** * @file Roles List Component * @author Russell Feldhausen <russfeld@ksu.edu> */ // Import Libraries import { ref } from 'vue' import { api } from '@/configs/api' import { Card } from 'primevue' // Create Reactive State const roles = ref([]) // Load Roles api .get('/api/v1/roles') .then(function (response) { roles.value = response.data }) .catch(function (error) { console.log(error) }) </script> <template> <div> <Card v-for=&#34;role in roles&#34; :key=&#34;role.id&#34;> <template #title>Role: {{ role.role }}</template> </Card> </div> </template> This component should look very familiar - it is based on the TestUser component we developed in the previous tutorial."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-04-18T14:32:08-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta itemprop=name content="Roles View :: CIS 526 Textbook"><meta itemprop=description content="YouTube Video Roles View To start this project, let’s add a new view and a new component to explore the roles available in our application.
First, let’s create a simple component skeleton in a new src/components/roles/ folder. We’ll name it the RolesList component:
​ src/components/roles/RolesList.vue <script setup> /** * @file Roles List Component * @author Russell Feldhausen <russfeld@ksu.edu> */ // Import Libraries import { ref } from 'vue' import { api } from '@/configs/api' import { Card } from 'primevue' // Create Reactive State const roles = ref([]) // Load Roles api .get('/api/v1/roles') .then(function (response) { roles.value = response.data }) .catch(function (error) { console.log(error) }) </script> <template> <div> <Card v-for=&#34;role in roles&#34; :key=&#34;role.id&#34;> <template #title>Role: {{ role.role }}</template> </Card> </div> </template> This component should look very familiar - it is based on the TestUser component we developed in the previous tutorial."><meta itemprop=dateModified content="2025-04-18T14:32:08-05:00"><meta itemprop=wordCount content="1370"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><title>Roles View :: CIS 526 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/01-roles/index.html rel=canonical type=text/html title="Roles View :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/01-roles/index.xml rel=alternate type=application/rss+xml title="Roles View :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/01-roles/index.print.html rel=alternate type=text/html title="Roles View :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/01-roles/embed.html rel=alternate type=text/html title="Roles View :: CIS 526 Textbook"><link href=/cis526/css/auto-complete/auto-complete.min.css?1758047999 rel=stylesheet><script src=/cis526/js/auto-complete/auto-complete.min.js?1758047999 defer></script><script src=/cis526/js/search-lunr.min.js?1758047999 defer></script><script src=/cis526/js/search.min.js?1758047999 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis526/searchindex.en.js?1758047999"</script><script src=/cis526/js/lunr/lunr.min.js?1758047999 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1758047999 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1758047999 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1758047999 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1758047999 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1758047999 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar/perfect-scrollbar.min.css?1758047999 rel=stylesheet><link href=/cis526/css/theme.min.css?1758047999 rel=stylesheet><link href=/cis526/css/format-html.min.css?1758047999 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/x-examples/06-vue-crud-app/01-roles/index.html",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis526/css/custom.css?1758047999 rel=stylesheet></head><body class="mobile-support html" data-url=/cis526/x-examples/06-vue-crud-app/01-roles/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable x-examples" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=roles-view>Roles View</h1><a href="https://www.youtube.com/watch?v=n1TMdZpo-Wc">YouTube Video</a><h2 id=roles-view>Roles View</h2><p>To start this project, let&rsquo;s add a new view and a new component to explore the roles available in our application.</p><p>First, let&rsquo;s create a simple component skeleton in a new <code>src/components/roles/</code> folder. We&rsquo;ll name it the <code>RolesList</code> component:</p><div class=tab-panel data-tab-group=d5cde850a2842ac2d98601fe22cb669f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsrolesroleslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d5cde850a2842ac2d98601fe22cb669f","srccomponentsrolesroleslistvue")'>
<span class=tab-nav-text>src/components/roles/RolesList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsrolesroleslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @file Roles List Component
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Import Libraries
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>ref</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>api</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;@/configs/api&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Card</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;primevue&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Create Reactive State
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>roles</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ref</span>([])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Load Roles
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>api</span>
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/api/v1/roles&#39;</span>)
</span></span><span style=display:flex><span>  .<span style=color:#a6e22e>then</span>(<span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>response</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roles</span>.<span style=color:#a6e22e>value</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>response</span>.<span style=color:#a6e22e>data</span>
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>  .<span style=color:#66d9ef>catch</span>(<span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>error</span>)
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Card</span> <span style=color:#f92672>v-for</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;role in roles&#34; :key=&#34;role.id&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>template</span> <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>title</span>&gt;<span style=color:#a6e22e>Role</span><span style=color:#f92672>:</span> {{ <span style=color:#a6e22e>role</span>.<span style=color:#a6e22e>role</span> }}&lt;/<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Card</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;</span></span></code></pre></div></div></div></div></div><p>This component should look very familiar - it is based on the <code>TestUser</code> component we developed in the previous tutorial.</p><p>Next, we should create a <code>RolesView.vue</code> component in the <code>src/views</code> folder to load that component on a page:</p><div class=tab-panel data-tab-group=2196c3152eb79a500827b43dced5a42f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcviewsrolesviewvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2196c3152eb79a500827b43dced5a42f","srcviewsrolesviewvue")'>
<span class=tab-nav-text>src/views/RolesView.vue</span></button></div><div class=tab-content-container><div data-tab-item=srcviewsrolesviewvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>RolesList</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;../components/roles/RolesList.vue&#39;</span>
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>RolesList</span> /&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;</span></span></code></pre></div></div></div></div></div><p>After that, we should add this page to our router:</p><div class=tab-panel data-tab-group=38ba5fca16795bb97f169c50dbef388e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcrouterindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("38ba5fca16795bb97f169c50dbef388e","srcrouterindexjs")'>
<span class=tab-nav-text>src/router/index.js</span></button></div><div class=tab-content-container><div data-tab-item=srcrouterindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRouter</span>({
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Configure History Mode
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>history</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>createWebHistory</span>(<span style=color:#66d9ef>import</span>.<span style=color:#a6e22e>meta</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>BASE_URL</span>),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Configure routes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>routes</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;home&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>HomeView</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/about&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;about&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#75715e>// route level code-splitting
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// this generates a separate chunk (About.[hash].js) for this route
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// which is lazy-loaded when the route is visited.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#66d9ef>import</span>(<span style=color:#e6db74>&#39;../views/AboutView.vue&#39;</span>),
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/profile&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;profile&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#66d9ef>import</span>(<span style=color:#e6db74>&#39;../views/ProfileView.vue&#39;</span>),
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex;background-color:#3c3d38><span>    {
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/roles&#39;</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;roles&#39;</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#66d9ef>import</span>(<span style=color:#e6db74>&#39;../views/RolesView.vue&#39;</span>),
</span></span><span style=display:flex;background-color:#3c3d38><span>    },
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>Finally, let&rsquo;s also add it to our list of menu options in the <code>TopMenu</code> component:</p><div class=tab-panel data-tab-group=89522b22621ff39515adc7b2f6816cd6><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("89522b22621ff39515adc7b2f6816cd6","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Declare State
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ref</span>([
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Home&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;pi pi-home&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>command</span><span style=color:#f92672>:</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>push</span>({ <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;home&#39;</span> })
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;About&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;pi pi-info-circle&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>command</span><span style=color:#f92672>:</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>push</span>({ <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;about&#39;</span> })
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex;background-color:#3c3d38><span>  {
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Roles&#39;</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;pi pi-id-card&#39;</span>,
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>command</span><span style=color:#f92672>:</span> () =&gt; {
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>push</span>({ <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;roles&#39;</span> })
</span></span><span style=display:flex;background-color:#3c3d38><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>])
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;</span></span></code></pre></div></div></div></div></div><p>With those changes in place, we should be able to view the list of available roles in our application by clicking the new Roles link in the top menu bar:</p><p><a href=#R-image-624387705e15c5c59587da2a1cbdcfae class=lightbox-link><img alt="Roles View" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/06/crud_1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-624387705e15c5c59587da2a1cbdcfae><img alt="Roles View" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/06/crud_1.png></a></p><p>Our application will even redirect users to the CAS server to authenticate if they aren&rsquo;t already logged in!</p><p>However, what if we log in using the <code>user</code> username instead of <code>admin</code>? Will this page still work? Unfortunately, because the <code>/api/v1/roles</code> API route requires a user to have the <code>manage_users</code> role, it will respond with an HTTP 401 error. We can see these errors in the console of our web browser:</p><p><a href=#R-image-3d7fa73432c836f2c790158ed1dc7082 class=lightbox-link><img alt="Bad Connection" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/06/crud_2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3d7fa73432c836f2c790158ed1dc7082><img alt="Bad Connection" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/06/crud_2.png></a></p><p>So, we need to add some additional code to our application to make sure that users only see the pages and links the are actually able to access.</p><h2 id=hiding-menu-items>Hiding Menu Items</h2><p>First, let&rsquo;s explore how we can hide various menu items from our top menu bar based on the roles assigned to our users. To enable this, we can tag each item in the menu that has restricted access with a list of roles that are able to access that page:</p><div class=tab-panel data-tab-group=1d068be606da560b239b5e4de12a078a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("1d068be606da560b239b5e4de12a078a","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Declare State
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ref</span>([
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Home&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;pi pi-home&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>command</span><span style=color:#f92672>:</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>push</span>({ <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;home&#39;</span> })
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;About&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;pi pi-info-circle&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>command</span><span style=color:#f92672>:</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>push</span>({ <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;about&#39;</span> })
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>label</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Roles&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>icon</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;pi pi-id-card&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>command</span><span style=color:#f92672>:</span> () =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>push</span>({ <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;roles&#39;</span> })
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>roles</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;manage_users&#39;</span>]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>&lt;/<span style=color:#f92672>script</span>&gt;</span></span></code></pre></div></div></div></div></div><p>Then, we can create a <a href=https://vuejs.org/guide/essentials/computed.html rel=external target=_blank>Vue Computed Property</a> to filter the list of items used in the template:</p><div class=tab-panel data-tab-group=95e3449ca4e7d85e2384d6b8e203d8d5><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("95e3449ca4e7d85e2384d6b8e203d8d5","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>setup</span>&gt;
</span></span><span style=display:flex><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @file Top menu bar of the entire application
</span></span></span><span style=display:flex><span><span style=color:#75715e> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Import Libraries
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>ref</span>, <span style=color:#a6e22e>computed</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useRouter</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;vue-router&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRouter</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Import Components
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>Menubar</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;primevue/menubar&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ThemeToggle</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./ThemeToggle.vue&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>UserProfile</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./UserProfile.vue&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>// Stores
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useTokenStore</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;@/stores/Token&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tokenStore</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useTokenStore</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>visible_items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>computed</span>(() =&gt; {
</span></span><span style=display:flex;background-color:#3c3d38><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>value</span>.<span style=color:#a6e22e>filter</span>((<span style=color:#a6e22e>item</span>) =&gt; {
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#75715e>// If the item lists any roles
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>roles</span>) {
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#75715e>// Assume the user must be logged in to view it
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tokenStore</span>.<span style=color:#a6e22e>token</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#75715e>// If the roles is a string containing an asterisk
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>roles</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;*&#34;</span>) {
</span></span><span style=display:flex;background-color:#3c3d38><span>          <span style=color:#75715e>// Allow all roles to view
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>          <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex;background-color:#3c3d38><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>          <span style=color:#75715e>// Otherwise, check if any role matches a role the user has
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>          <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>item</span>.<span style=color:#a6e22e>roles</span>.<span style=color:#a6e22e>some</span>((<span style=color:#a6e22e>r</span>) =&gt; <span style=color:#a6e22e>tokenStore</span>.<span style=color:#a6e22e>has_role</span>(<span style=color:#a6e22e>r</span>))
</span></span><span style=display:flex;background-color:#3c3d38><span>        }
</span></span><span style=display:flex;background-color:#3c3d38><span>      } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>        <span style=color:#75715e>// If not logged in, hide item
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex;background-color:#3c3d38><span>      }
</span></span><span style=display:flex;background-color:#3c3d38><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#75715e>// If no roles listed, show item even if not logged in
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex;background-color:#3c3d38><span>    }
</span></span><span style=display:flex;background-color:#3c3d38><span>  })
</span></span><span style=display:flex;background-color:#3c3d38><span>})
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;</span></span></code></pre></div></div></div></div></div><p>In this function, we are filtering the the menu items based on the roles. If they have a set of roles listed, we check to see if it is an asterisk - if so, all roles are allowed. Otherwise, we assume that it is a list of roles, and check to see if at least one role matches a role that the user has by checking the <code>token</code> store&rsquo;s <code>has_role</code> getter method. Finally, if no roles are listed, we assume that the item should be visible to users even without logging in.</p><p>To use this new computed property, we just replace the <code>items</code> entry in the template with the new <code>computed_items</code> property:</p><div class=tab-panel data-tab-group=d233cce22a9d645e04110b4612392daa><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d233cce22a9d645e04110b4612392daa","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex;background-color:#3c3d38><span>    &lt;<span style=color:#f92672>Menubar</span> <span style=color:#f92672>:model</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;visible_items&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>template</span> <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>start</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://placehold.co/40x40&#34;</span> <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Placeholder Logo&#34;</span> /&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>template</span> <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>end</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;flex items-center gap-1&#34;</span>&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>ThemeToggle</span> /&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>UserProfile</span> /&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Menubar</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;</span></span></code></pre></div></div></div></div></div><p>That should properly hide menu items from the user based on their roles. Feel free to try it out!</p><h2 id=protecting-routes>Protecting Routes</h2><p>Of course, hiding the item from the menu does not prevent the user from manually typing in the route path in the URL and trying to access the page that way. So, we must also add some additional logic to our router to ensure that user&rsquo;s can&rsquo;t access. For that, we can add a <a href=https://router.vuejs.org/guide/advanced/navigation-guards.html#Per-Route-Guard rel=external target=_blank>Per-Route Guard</a> following a very similar approach. In our <code>src/router/index.js</code> file, we can add a new generator function to create a route guard based on roles, and then apply that guard as the <code>beforeEnter</code> property for a route:</p><div class=tab-panel data-tab-group=25659810d730660f25a2ca7d9d96beb7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcrouterindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("25659810d730660f25a2ca7d9d96beb7","srcrouterindexjs")'>
<span class=tab-nav-text>src/router/index.js</span></button></div><div class=tab-content-container><div data-tab-item=srcrouterindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * Router Guard Function to check for role before entering route
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * 
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * @param roles a list of roles permitted to enter the route
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * @return boolean true if the navigation is permitted, else returns to the home page
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>requireRoles</span> <span style=color:#f92672>=</span> (...<span style=color:#a6e22e>roles</span>) =&gt; {
</span></span><span style=display:flex;background-color:#3c3d38><span>  <span style=color:#66d9ef>return</span> () =&gt; {
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>tokenStore</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useTokenStore</span>()
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>allow</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>roles</span>.<span style=color:#a6e22e>some</span>((<span style=color:#a6e22e>r</span>) =&gt; <span style=color:#a6e22e>tokenStore</span>.<span style=color:#a6e22e>has_role</span>(<span style=color:#a6e22e>r</span>))
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>allow</span>) {
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#75715e>// allow navigation
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex;background-color:#3c3d38><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#75715e>// redirect to home
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e></span>      <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;home&#39;</span>}
</span></span><span style=display:flex;background-color:#3c3d38><span>    }
</span></span><span style=display:flex;background-color:#3c3d38><span>  }
</span></span><span style=display:flex;background-color:#3c3d38><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createRouter</span>({
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Configure History Mode
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>history</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>createWebHistory</span>(<span style=color:#66d9ef>import</span>.<span style=color:#a6e22e>meta</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>BASE_URL</span>),
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Configure routes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>routes</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;home&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>HomeView</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/about&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;about&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#75715e>// route level code-splitting
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// this generates a separate chunk (About.[hash].js) for this route
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// which is lazy-loaded when the route is visited.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#66d9ef>import</span>(<span style=color:#e6db74>&#39;../views/AboutView.vue&#39;</span>),
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/profile&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;profile&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#66d9ef>import</span>(<span style=color:#e6db74>&#39;../views/ProfileView.vue&#39;</span>),
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>path</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;/roles&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;roles&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>component</span><span style=color:#f92672>:</span> () =&gt; <span style=color:#66d9ef>import</span>(<span style=color:#e6db74>&#39;../views/RolesView.vue&#39;</span>),
</span></span><span style=display:flex;background-color:#3c3d38><span>      <span style=color:#a6e22e>beforeEnter</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>requireRoles</span>(<span style=color:#e6db74>&#34;manage_users&#34;</span>)
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>Now, even if we try to type the <code>/roles</code> path into the address bar in our web browser, it won&rsquo;t allow us to reach that page unless we are logged in to a user account that has the correct role.</p><h2 id=reactive-style>Reactive Style</h2><p>We can also use Tailwind to add some reactive style to our components. For example, we can use the <a href=https://tailwindcss.com/docs/grid-template-columns rel=external target=_blank>Grid</a> layout options to place the components in a grid view:</p><div class=tab-panel data-tab-group=2ac93d8ed81a7ade82ab09d224fe3d5b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsrolesroleslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2ac93d8ed81a7ade82ab09d224fe3d5b","srccomponentsrolesroleslistvue")'>
<span class=tab-nav-text>src/components/roles/RolesList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsrolesroleslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex;background-color:#3c3d38><span>  &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;grid grid-cols-1 xl:grid-cols-4 lg:grid-cols-3 sm:grid-cols-2 gap-2&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>Card</span> <span style=color:#f92672>v-for</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;role in roles&#34; :key=&#34;role.id&#34;</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>template</span> <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>title</span>&gt;<span style=color:#a6e22e>Role</span><span style=color:#f92672>:</span> {{ <span style=color:#a6e22e>role</span>.<span style=color:#a6e22e>role</span> }}&lt;/<span style=color:#f92672>template</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>Card</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>template</span>&gt;</span></span></code></pre></div></div></div></div></div><p>This will give us a responsive layout that adjusts the number of columns based on the width of the screen:</p><p><a href=#R-image-0085617b43e2647bc4c18a3b34ad8d55 class=lightbox-link><img alt="Responsive Layout" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0085617b43e2647bc4c18a3b34ad8d55><img alt="Responsive Layout" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_1.png></a></p><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard/clipboard.min.js?1758047999 defer></script><script src=/cis526/js/perfect-scrollbar/perfect-scrollbar.min.js?1758047999 defer></script><script src=/cis526/js/theme.min.js?1758047999 defer></script></div><script src=/cis526/js/tele-scroll.min.js?1758047999 defer></script></body></html>