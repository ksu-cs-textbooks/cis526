<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Users Table Now that we have explored the basics of adding new menu items and routes to our application, let’s start working on the components to view and edit the users available in our application. To begin, we’ll work on the *GET ALL route, which will allow us to view all of the users on our system. For this, we’ll use the PrimeVue DataTable component, which is one of the most powerful components available in the PrimeVue library."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Users Table :: CIS 526 Textbook"><meta name=twitter:description content="Users Table Now that we have explored the basics of adding new menu items and routes to our application, let’s start working on the components to view and edit the users available in our application. To begin, we’ll work on the *GET ALL route, which will allow us to view all of the users on our system. For this, we’ll use the PrimeVue DataTable component, which is one of the most powerful components available in the PrimeVue library."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/02-users-table/embed.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Users Table :: CIS 526 Textbook"><meta property="og:description" content="Users Table Now that we have explored the basics of adding new menu items and routes to our application, let’s start working on the components to view and edit the users available in our application. To begin, we’ll work on the *GET ALL route, which will allow us to view all of the users on our system. For this, we’ll use the PrimeVue DataTable component, which is one of the most powerful components available in the PrimeVue library."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-04-11T12:49:10-05:00"><meta itemprop=name content="Users Table :: CIS 526 Textbook"><meta itemprop=description content="Users Table Now that we have explored the basics of adding new menu items and routes to our application, let’s start working on the components to view and edit the users available in our application. To begin, we’ll work on the *GET ALL route, which will allow us to view all of the users on our system. For this, we’ll use the PrimeVue DataTable component, which is one of the most powerful components available in the PrimeVue library."><meta itemprop=dateModified content="2025-04-11T12:49:10-05:00"><meta itemprop=wordCount content="2734"><title>Users Table :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/02-users-table/ rel=canonical type=text/html title="Users Table :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/02-users-table/index.xml rel=alternate type=application/rss+xml title="Users Table :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/02-users-table/index.print.html rel=alternate type=text/html title="Users Table :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/02-users-table/tele.html rel=alternate type=text/html title="Users Table :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1744837855 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1744837855 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1744837855 rel=stylesheet><link href=/cis526/css/auto-complete.css?1744837855 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1744837855 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1744837855 rel=stylesheet><link href=/cis526/css/fonts.css?1744837855 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1744837855 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1744837855 rel=stylesheet><link href=/cis526/css/theme-light-theme.css?1744837855 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-relearn-light.css?1744837855 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1744837855 rel=stylesheet><link href=/cis526/css/print.css?1744837855 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1744837855 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis526/x-examples/06-vue-crud-app/02-users-table/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/id style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=users-table>Users Table</h2><p>Now that we have explored the basics of adding new menu items and routes to our application, let&rsquo;s start working on the components to view and edit the users available in our application. To begin, we&rsquo;ll work on the *<em>GET ALL</em> route, which will allow us to view all of the users on our system. For this, we&rsquo;ll use the <a href=https://primevue.org/datatable/ rel=external target=_blank>PrimeVue DataTable</a> component, which is one of the most powerful components available in the PrimeVue library.</p><p>First, before we can do that, we must set up our new view and a route to get there, as well as a menu option. So, let&rsquo;s go through that really quickly.</p><p>First, we&rsquo;ll add a new route to the Vue router:</p><div class=tab-panel data-tab-group=491f045e0498ffc0ce198b8da9f79b26><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcrouterindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("491f045e0498ffc0ce198b8da9f79b26","srcrouterindexjs")'>
<span class=tab-nav-text>src/router/index.js</span></button></div><div class=tab-content-container><div data-tab-item=srcrouterindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure History Mode
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>history</span><span class=o>:</span> <span class=nx>createWebHistory</span><span class=p>(</span><span class=kr>import</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>BASE_URL</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure routes
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>routes</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/users&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;users&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/UsersListView.vue&#39;</span><span class=p>),</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>beforeEnter</span><span class=o>:</span> <span class=nx>requireRoles</span><span class=p>(</span><span class=s2>&#34;manage_users&#34;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>We&rsquo;ll also add that route as a menu item in our <code>TopMenu.vue</code> component:</p><div class=tab-panel data-tab-group=d9839471394f522111481a35ca4ab8c0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d9839471394f522111481a35ca4ab8c0","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>items</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([</span>
</span></span><span class=line><span class=cl>  <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Users&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-users&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;users&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>roles</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;manage_users&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Then, we&rsquo;ll create a new view named <code>UsersListView.vue</code> that will contain our table component:</p><div class=tab-panel data-tab-group=a63bc8e10c917926927236a3db715e41><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcviewsuserslistviewvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("a63bc8e10c917926927236a3db715e41","srcviewsuserslistviewvue")'>
<span class=tab-nav-text>src/views/UsersListView.vue</span></button></div><div class=tab-content-container><div data-tab-item=srcviewsuserslistviewvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>UsersList</span> <span class=nx>from</span> <span class=s1>&#39;../components/users/UsersList.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>UsersList</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Finally, we&rsquo;ll create a new <code>UsersList</code> component to store our code:</p><div class=tab-panel data-tab-group=2e7dcfeb08ee1215dd43fa3238ff220c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2e7dcfeb08ee1215dd43fa3238ff220c","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>Users</span> <span class=nx>List</span> <span class=nx>Here</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With all of that in place, we should now be able to click on the <strong>Users</strong> button at the top of our page and get to the <code>UsersList</code> component on the appropriate view:</p><p><a href=#R-image-1079291c1f0f78649392f01fe39d04d3 class=lightbox-link><img alt="Users Table" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1079291c1f0f78649392f01fe39d04d3><img alt="Users Table" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_2.png></a></p><p>From here, we can start to build our table view.</p><h2 id=primevue-datatable>PrimeVue DataTable</h2><p>To use the <a href=https://primevue.org/datatable/ rel=external target=_blank>PrimeVue DataTable</a> component, we first need to get our data from the API so we can easily display it in our component. So, let&rsquo;s use the Axios api instance to query the API and get our list of users. This is nearly the exact same code we used previously to get the list of users:</p><div class=tab-panel data-tab-group=07d1e557eec9e615e66b875828a4414e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("07d1e557eec9e615e66b875828a4414e","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Create Reactive State
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Load Users
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/users&#39;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>users</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now that we have that list, we can start to construct our DataTable. First, we&rsquo;ll need to import the required components in our <code>&lt;script setup></code> section:</p><div class=tab-panel data-tab-group=03bbc676fc414c1386aef2dab8fac6b0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("03bbc676fc414c1386aef2dab8fac6b0","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now, in the <code>&lt;template></code> section, we can build a basic DataTable by including the data we want to view and the columns that should be included:</p><div class=tab-panel data-tab-group=af58a8e1d2930d25ee5bd21930fc9a59><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("af58a8e1d2930d25ee5bd21930fc9a59","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Each <code>&lt;Column></code> component includes a field name for that column, as well as a header value. With that in place, we should see a simple page with lots of helpful information about our users:</p><p><a href=#R-image-3182007e49cc79b9fce15acbab706c6a class=lightbox-link><img alt="Users Table with Columns" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3182007e49cc79b9fce15acbab706c6a><img alt="Users Table with Columns" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_3.png></a></p><p>This is a great start, but we can clean this up to make it much easier for our users to read and digest the information.</p><h2 id=custom-column-templates>Custom Column Templates</h2><p>First, let&rsquo;s create a couple of custom templates for columns. First, we notice that the <strong>Roles</strong> column is just outputting the entire JSON list of roles, but this is not very helpful. So, let&rsquo;s modify that column to present a list of <a href=https://primevue.org/chip/ rel=external target=_blank>Chips</a> representing the roles:</p><div class=tab-panel data-tab-group=5a018eeb46b845d6ab19c7a000196703><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("5a018eeb46b845d6ab19c7a000196703","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>Chip</span> <span class=nx>from</span> <span class=s1>&#39;primevue/chip&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>Chip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :label=&#34;role.role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Inside of the <code>&lt;Column></code> component, we place a <code>&lt;template></code> for the <code>#body</code> slot, and we also provide a link to the <code>data</code> of the <code>&lt;Column></code> component so we can access that data.</p><p>With this change, our table now looks like this:</p><p><a href=#R-image-7f0093643bf03c22deddbcb9d5470ead class=lightbox-link><img alt="Users Table with Chips for Roles" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7f0093643bf03c22deddbcb9d5470ead><img alt="Users Table with Chips for Roles" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_4.png></a></p><p>However, we can improve on that a bit by adding some additional information to our application that helps us display these roles in a bit cleaner format. Let&rsquo;s create a new custom <code>RoleChip</code> component that will display the roles properly, along with some additional information.</p><div class=tab-panel data-tab-group=36594bb33a3ea0cadc34f0c965a6991b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsrolesrolechipvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("36594bb33a3ea0cadc34f0c965a6991b","srccomponentsrolesrolechipvue")'>
<span class=tab-nav-text>src/components/roles/RoleChip.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsrolesrolechipvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Roles Chip
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Chip</span> <span class=nx>from</span> <span class=s1>&#39;primevue/chip&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Role Object
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>role</span><span class=o>:</span> <span class=nb>Object</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Lookup Table
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>1</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Manage Users&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-user-edit&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>2</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Manage Documents&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-pen-to-square&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>3</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Add Documents&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-file-plus&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>4</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Manage Communities&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-pencil&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>5</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Add Communities&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-plus-circle&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>6</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;View Documents&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-file&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>7</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;View Communities&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-building-columns&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Chip</span> <span class=nt>:label</span><span class=o>=</span><span class=s>&#34;roles[props.role.id].name&#34;</span> <span class=nt>:icon</span><span class=o>=</span><span class=s>&#34;roles[props.role.id].icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>This component includes a constant lookup table that provides some additional information about each role, based on the role&rsquo;s ID. This allows us to assign a user-friendly name and icon to each role in our frontend application. In fact, if we are internationalizing this application, we could also use this component to translate the role names into localized forms here.</p><p>We are also seeing a great example of <a href=https://vuejs.org/guide/components/props.html rel=external target=_blank>Vue Props</a> in this component. Props allow us to pass data from one component down into another sub-component. It is a one-way data connection, which is very important to remember.</p><p>We can update our <code>UsersList.vue</code> component to use this new <code>RoleChip</code> component very easily:</p><div class=tab-panel data-tab-group=f92862eea6eb7f472561a2f82584fc41><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("f92862eea6eb7f472561a2f82584fc41","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now we have a much cleaner view of the roles each user is assigned, with helpful icons to help us remember what each one does.</p><p><a href=#R-image-b0ae1a5ae8c6052592633c85078de4e0 class=lightbox-link><img alt="Users Table with RoleChips" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b0ae1a5ae8c6052592633c85078de4e0><img alt="Users Table with RoleChips" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_5.png></a></p><h2 id=handling-dates>Handling Dates</h2><p>Let&rsquo;s also clean up the <strong>Created</strong> and <strong>Updated</strong> columns by rendering the dates into a more useful format. For this, we can use the <a href=https://date-fns.org/ rel=external target=_blank>date-fns</a> library to help us format and display times easily in our project. First, we&rsquo;ll need to install it:</p><div class=tab-panel data-tab-group=159fe85a7e76562db2c2069c8121b79c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=terminal class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("159fe85a7e76562db2c2069c8121b79c","terminal")'>
<span class=tab-nav-text>terminal</span></button></div><div class=tab-content-container><div data-tab-item=terminal class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ npm install date-fns</span></span></code></pre></div></div></div></div></div><p>Then, in our component, we can use it to format our dates by computing the distance in the past that the event occurred:</p><div class=tab-panel data-tab-group=5cff9acc06309a2e1f8789ccd1f56945><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("5cff9acc06309a2e1f8789ccd1f56945","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.createdAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>createdAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.updatedAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>updatedAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With that in place, we can more easily see how long ago each user&rsquo;s account was created or updated:</p><p><a href=#R-image-235ef6c9a5f3f192af1cb94facbf8250 class=lightbox-link><img alt="Users Table with Times" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-235ef6c9a5f3f192af1cb94facbf8250><img alt="Users Table with Times" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_6.png></a></p><p>We can even hover over one of the formatted dates to see the actual date in a tooltip.</p><h2 id=sorting>Sorting</h2><p>We can also enable <a href=https://primevue.org/datatable/#sort rel=external target=_blank>Sorting</a> in our PrimeVue DataTable by simply adding the <code>sortable</code> property to any columns we&rsquo;d like to sort. For this example, let&rsquo;s add that to the <code>username</code>, <code>createdAt</code> and <code>updatedAt</code> fields:</p><div class=tab-panel data-tab-group=de7e569a9eab15d62e2ce1eaa25c18e4><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("de7e569a9eab15d62e2ce1eaa25c18e4","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=na>sortable</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=na>sortable</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.createdAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>createdAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=na>sortable</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.updatedAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>updatedAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p><a href=#R-image-63e4e86dcab1a09e3d949fa75d2ffac4 class=lightbox-link><img alt="Users Table Sorting" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_sort.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-63e4e86dcab1a09e3d949fa75d2ffac4><img alt="Users Table Sorting" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_sort.gif></a></p><p>We can even define a default column and sort order for our table:</p><div class=tab-panel data-tab-group=7cc4faf5da7cf88273ceffa30457e160><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("7cc4faf5da7cf88273ceffa30457e160","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span> <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><h2 id=global-filtering>Global Filtering</h2><p>Another great feature of PrimeVue&rsquo;s DataTable is the ability to quickly add <a href=https://primevue.org/datatable/#filter rel=external target=_blank>Filtering</a> features. We can define a global filter to allow us to search for a user by the username by simply defining a <code>global</code> filter set and a list of fields to search. We should also add a quick search box to the top of our DataTable template to accept this input.</p><div class=tab-panel data-tab-group=539a334fa295b3984cd0edf2c2056246><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("539a334fa295b3984cd0edf2c2056246","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl><span class=c1>// Setup Filters
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>filters</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>global</span><span class=o>:</span> <span class=p>{</span> <span class=nx>value</span><span class=o>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nx>matchMode</span><span class=o>:</span> <span class=nx>FilterMatchMode</span><span class=p>.</span><span class=nx>CONTAINS</span> <span class=p>},</span>
</span></span><span class="line hl"><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>header</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex justify-end&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>              <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;pi pi-search&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;/</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>InputText</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;filters[&#39;global&#39;].value&#34; placeholder=&#34;Keyword Search&#34;</span><span class=p> /&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With this in place, we can now type in any username and filter the table for that username:</p><p><a href=#R-image-2ee1315cce1a20f24ca2d8d6cc1a181e class=lightbox-link><img alt="Users Table Filtering Usernames" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter1.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2ee1315cce1a20f24ca2d8d6cc1a181e><img alt="Users Table Filtering Usernames" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter1.gif></a></p><h2 id=column-filtering>Column Filtering</h2><p>We can also do more advanced filtering, such as allowing users to select roles that they&rsquo;d like to search for. This is a bit more complex, as it requires us to first write our own custom filter function, and then we also have to add a small template for setting the filter options.</p><p>First, let&rsquo;s create a new custom filter function in our <code>&lt;script setup></code> section. We&rsquo;ll also need to get a list of the available roles in our system, so we can add that to this section as well.:</p><div class=tab-panel data-tab-group=bf3044f180ace45c15524046cf732a1e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("bf3044f180ace45c15524046cf732a1e","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span><span class=p>,</span> <span class=nx>FilterService</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Create Reactive State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Load Users
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/users&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>users</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Load Roles
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/roles&#39;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>roles</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Custom Filter
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>FilterService</span><span class=p>.</span><span class=nx>register</span><span class=p>(</span><span class=s2>&#34;filterArrayOfObjectsById&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>targetArray</span><span class=p>,</span> <span class=nx>sourceArray</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>sourceArray</span> <span class=o>||</span> <span class=nx>sourceArray</span><span class=p>.</span><span class=nx>length</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=k>return</span> <span class=kc>true</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>  <span class=kd>let</span> <span class=nx>found</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>sourceArray</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>s</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>found</span> <span class=o>=</span> <span class=nx>found</span> <span class=o>&amp;&amp;</span> <span class=nx>targetArray</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>o</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>o</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>s</span><span class=p>.</span><span class=nx>id</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=k>return</span> <span class=nx>found</span>
</span></span><span class="line hl"><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Setup Filters
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>filters</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>global</span><span class=o>:</span> <span class=p>{</span> <span class=nx>value</span><span class=o>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nx>matchMode</span><span class=o>:</span> <span class=nx>FilterMatchMode</span><span class=p>.</span><span class=nx>CONTAINS</span> <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>roles</span><span class=o>:</span> <span class=p>{</span> <span class=nx>value</span><span class=o>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nx>matchMode</span><span class=o>:</span> <span class=s2>&#34;filterArrayOfObjectsById&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>The <code>filterArrayOfObjectsById</code> function should look somewhat familiar - we have an array of roles we want to search for, and we want to ensure that the user has all of these roles (this is different than some of our other functions that look like this, where we want the user to have at least one of the roles).</p><p>Now, to make this visible in our template, we add a special <code>&lt;template #filter></code> slot to the <code>Column</code> that is displaying the roles. We also set the <code>filterDisplay</code> option on the top-level <code>DataTable</code> component to <code>"menu"</code> to allow us to have pop-up menus for filtering. For this menu, we&rsquo;re going to use the <a href=https://primevue.org/multiselect/ rel=external target=_blank>PrimeVue Multiselect</a> component, so we&rsquo;ll need to import it:</p><div class=tab-panel data-tab-group=17b5008d09e70ac8f179ed8c1548293a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("17b5008d09e70ac8f179ed8c1548293a","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span><span class=p>,</span> <span class=nx>MultiSelect</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span><span class=p>,</span> <span class=nx>FilterService</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class=line><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>filterField</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=nt>:showFilterMatchModes</span><span class=o>=</span><span class=s>&#34;false&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>filter</span><span class=o>=</span><span class=s>&#34;{ filterModel }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>MultiSelect</span>
</span></span><span class="line hl"><span class=cl>          <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;filterModel.value&#34;</span><span class=p>
</span></span></span><span class="line hl"><span class=cl><span class=p></span>          <span class=nt>:options</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>optionLabel</span><span class=o>=</span><span class=s>&#34;role&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>placeholder</span><span class=o>=</span><span class=s>&#34;Any&#34;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>option</span><span class=o>=</span><span class=s>&#34;slotProps&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>            <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>:role</span><span class=o>=</span><span class=s>&#34;slotProps.option&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>MultiSelect</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With all of this in place, we can now filter based on roles as well:</p><p><a href=#R-image-4f4d6c42c1d1e1c1de4bf3ecca92d57e class=lightbox-link><img alt="Users Table Filtering Roles" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter2.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4f4d6c42c1d1e1c1de4bf3ecca92d57e><img alt="Users Table Filtering Roles" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter2.gif></a></p><h2 id=buttons>Buttons</h2><p>Finally, let&rsquo;s work on adding some buttons to our table that will allow us to create new users, edit existing users, and delete users.</p><p>First, let&rsquo;s add a simple button to create a new user at the top of our DataTable component. We&rsquo;ll use a <a href=https://primevue.org/button/ rel=external target=_blank>PrimeVue Button</a> component for this, and we&rsquo;ll also need to import the Vue Router so we can route to a different view when this is clicked.</p><div class=tab-panel data-tab-group=f5bc71561c85a1475f2fed9305c41ede><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("f5bc71561c85a1475f2fed9305c41ede","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span><span class=p>,</span> <span class=nx>MultiSelect</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span><span class=p>,</span> <span class=nx>FilterService</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>Button</span> <span class=nx>from</span> <span class=s1>&#39;primevue/button&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>useRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class=line><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>header</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex justify-between&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>Button</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>label</span><span class=o>=</span><span class=s>&#34;New User&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-user-plus&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;newuser&#39; })&#34;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;pi pi-search&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;/</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>InputText</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;filters[&#39;global&#39;].value&#34; placeholder=&#34;Keyword Search&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>When we click on this button, we&rsquo;ll be sent to the <code>newuser</code> route in our application. This route doesn&rsquo;t currently exist, but we&rsquo;ll add it later in this tutorial.</p><p>Likewise, we want to add buttons to allow us to edit and delete each user&rsquo;s account, so let&rsquo;s add a new column to our DataTable with those buttons as well.</p><div class=tab-panel data-tab-group=63900eee5cba1df54586097d3f0e45d5><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("63900eee5cba1df54586097d3f0e45d5","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class=line><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Actions&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;min-width: 8rem&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;slotProps&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>Button</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-pencil&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>outlined</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>rounded</span>
</span></span><span class="line hl"><span class=cl>            <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;edituser&#39;, params: { id: slotProps.data.id } })&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;&#39;</span><span class=na>Edit</span><span class=err>&#39;&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>Button</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-trash&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>outlined</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>rounded</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>severity</span><span class=o>=</span><span class=s>&#34;danger&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;deleteuser&#39;, params: { id: slotProps.data.id } })&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;&#39;</span><span class=na>Delete</span><span class=err>&#39;&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>These buttons will direct us to the <code>edituser</code> and <code>deleteuser</code> routes, and they even include the ID of the user to be edited or deleted in the route parameters. We&rsquo;ll work on adding these features as well later in this tutorial. With these changes in place, our final DataTable for our users should look something like this:</p><p><a href=#R-image-bfc3bb4de3e97e7b84c6417d1dd815ca class=lightbox-link><img alt="Final Users Data Table" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_7.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bfc3bb4de3e97e7b84c6417d1dd815ca><img alt="Final Users Data Table" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_7.png></a></p><p>For the rest of this tutorial, we&rsquo;ll work on adding additional functionality to handle creating, editing, and deleting user accounts.</p><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard.min.js?1744837855 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1744837855 defer></script><script src=/cis526/js/theme.js?1744837855 defer></script><script src=/cis526/js/embed-iframe.js?1744837855 defer></script></body></html>