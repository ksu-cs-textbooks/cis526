<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="YouTube Video Editing Roles There are many different ways to edit the list of roles assigned to each user as well. One of the smoothest ways to select from a list of options is the PrimeVue AutoComplete component. Just like before, we can build our own version of this component that includes everything we included previously:
​ src/components/forms/AutoCompleteMultipleField.vue <script setup> /** * @file Custom Autocomplete Multiple Field Component * @author Russell Feldhausen <russfeld@ksu."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Edit Roles :: CIS 526 Textbook"><meta name=twitter:description content="YouTube Video Editing Roles There are many different ways to edit the list of roles assigned to each user as well. One of the smoothest ways to select from a list of options is the PrimeVue AutoComplete component. Just like before, we can build our own version of this component that includes everything we included previously:
​ src/components/forms/AutoCompleteMultipleField.vue <script setup> /** * @file Custom Autocomplete Multiple Field Component * @author Russell Feldhausen <russfeld@ksu."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/04-edit-roles/"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Edit Roles :: CIS 526 Textbook"><meta property="og:description" content="YouTube Video Editing Roles There are many different ways to edit the list of roles assigned to each user as well. One of the smoothest ways to select from a list of options is the PrimeVue AutoComplete component. Just like before, we can build our own version of this component that includes everything we included previously:
​ src/components/forms/AutoCompleteMultipleField.vue <script setup> /** * @file Custom Autocomplete Multiple Field Component * @author Russell Feldhausen <russfeld@ksu."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-04-18T14:32:08-05:00"><meta itemprop=name content="Edit Roles :: CIS 526 Textbook"><meta itemprop=description content="YouTube Video Editing Roles There are many different ways to edit the list of roles assigned to each user as well. One of the smoothest ways to select from a list of options is the PrimeVue AutoComplete component. Just like before, we can build our own version of this component that includes everything we included previously:
​ src/components/forms/AutoCompleteMultipleField.vue <script setup> /** * @file Custom Autocomplete Multiple Field Component * @author Russell Feldhausen <russfeld@ksu."><meta itemprop=dateModified content="2025-04-18T14:32:08-05:00"><meta itemprop=wordCount content="769"><title>Edit Roles :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/04-edit-roles/ rel=canonical type=text/html title="Edit Roles :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/04-edit-roles/index.xml rel=alternate type=application/rss+xml title="Edit Roles :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/04-edit-roles/tele.html rel=alternate type=text/html title="Edit Roles :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/04-edit-roles/embed.html rel=alternate type=text/html title="Edit Roles :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1745939539 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1745939539 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1745939539 rel=stylesheet><link href=/cis526/css/auto-complete.css?1745939539 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1745939539 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1745939539 rel=stylesheet><link href=/cis526/css/fonts.css?1745939539 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1745939539 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1745939539 rel=stylesheet><link href=/cis526/css/theme-auto.css?1745939539 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-auto.css?1745939539 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1745939539 rel=stylesheet><link href=/cis526/css/print.css?1745939539 rel=stylesheet media=print><link href=/cis526/css/format-print.css?1745939539 rel=stylesheet><script src=/cis526/js/variant.js?1745939539></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1745939539 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis526/x-examples/06-vue-crud-app/04-edit-roles/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/x-examples/><span itemprop=name>Example Projects</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/x-examples/06-vue-crud-app/><span itemprop=name>Vue.js CRUD App</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Edit Roles</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/06-vue-crud-app/03-edit-user/ title="Edit User (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/06-vue-crud-app/05-new-user/ title="New User (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=edit-roles>Edit Roles</h1><a href="https://www.youtube.com/watch?v=0S6RgnBxjDQ">YouTube Video</a><h2 id=editing-roles>Editing Roles</h2><p>There are many different ways to edit the list of roles assigned to each user as well. One of the smoothest ways to select from a list of options is the <a href=https://primevue.org/autocomplete/ rel=external target=_blank>PrimeVue AutoComplete</a> component. Just like before, we can build our own version of this component that includes everything we included previously:</p><div class=tab-panel data-tab-group=470617878c4cbd5126fcf42e27e379ae><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("470617878c4cbd5126fcf42e27e379ae","srccomponentsformsautocompletemultiplefieldvue")'>
<span class=tab-nav-text>src/components/forms/AutoCompleteMultipleField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Custom Autocomplete Multiple Field Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>computed</span><span class=p>,</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>FloatLabel</span><span class=p>,</span> <span class=nx>AutoComplete</span><span class=p>,</span> <span class=nx>Message</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Name
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>field</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Label
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>label</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Icon
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>icon</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Disable Editing
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>disabled</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nb>Boolean</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=c1>//Values to choose from
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>values</span><span class=o>:</span> <span class=nb>Array</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Value Label
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>valueLabel</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span> <span class=s1>&#39;name&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>errors</span><span class=o>:</span> <span class=nb>Array</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Find Error for Field
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>error</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>props</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>find</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>attribute</span> <span class=o>===</span> <span class=nx>props</span><span class=p>.</span><span class=nx>field</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// V-model of the field to be edited
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>model</span> <span class=o>=</span> <span class=nx>defineModel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// State variable for search results
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>items</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Search method
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>search</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>items</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>props</span><span class=p>.</span><span class=nx>values</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>v</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>v</span><span class=p>[</span><span class=nx>props</span><span class=p>.</span><span class=nx>valueLabel</span><span class=p>].</span><span class=nx>includes</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>query</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>items</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>FloatLabel</span> <span class=na>variant</span><span class=o>=</span><span class=s>&#34;on&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>InputIcon</span> <span class=nt>:class</span><span class=o>=</span><span class=s>&#34;props.icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>AutoComplete</span>
</span></span><span class=line><span class=cl>          <span class=nt>:optionLabel</span><span class=o>=</span><span class=s>&#34;props.valueLabel&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:id</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:disabled</span><span class=o>=</span><span class=s>&#34;props.disabled&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:invalid</span><span class=o>=</span><span class=s>&#34;error&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;model&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>          <span class=na>forceSelection</span>
</span></span><span class=line><span class=cl>          <span class=na>multiple</span>
</span></span><span class=line><span class=cl>          <span class=na>fluid</span>
</span></span><span class=line><span class=cl>          <span class=nt>:suggestions</span><span class=o>=</span><span class=s>&#34;items&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>@complete</span><span class=s>=&#34;search&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>label</span> <span class=nt>:for</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span><span class=p>&gt;{{</span> <span class=nx>props</span><span class=p>.</span><span class=nx>label</span> <span class=p>}}&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>FloatLabel</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nb>Error</span> <span class=nx>Text</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Message</span> <span class=nt>v-if</span><span class=o>=</span><span class=s>&#34;error&#34; severity=&#34;error&#34; variant=&#34;simple&#34; size=&#34;small&#34;</span><span class=p>&gt;{{</span>
</span></span><span class=line><span class=cl>      <span class=na>error.message</span>
</span></span><span class=line><span class=cl>    <span class=p>}}&lt;/</span><span class=nt>Message</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>This component is very similar to the previous one, but it includes a couple of extra props to control the value that is displayed to the user as well as a function to help search through the list of values.</p><p>To use it, we&rsquo;ll need to load all of the available roles in our <code>UserEdit.vue</code> component so we can pass that along to the new <code>AutoCompleteMultipleField</code> component:</p><div class=tab-panel data-tab-group=563a498d04c37cfe725d7c0999e5578d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("563a498d04c37cfe725d7c0999e5578d","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file User Edit Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Button</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>TextField</span> <span class=nx>from</span> <span class=s1>&#39;../forms/TextField.vue&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>AutoCompleteMultipleField</span> <span class=nx>from</span> <span class=s1>&#39;../forms/AutoCompleteMultipleField.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>useRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useToast</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue/usetoast&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>toast</span> <span class=o>=</span> <span class=nx>useToast</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// User ID
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>id</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({})</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>errors</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl><span class=c1>// Load Roles
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/roles&#39;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>roles</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>{{</span> <span class=nx>user</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>TextField</span>
</span></span><span class=line><span class=cl>    <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.username&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>    <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>label</span><span class=o>=</span><span class=s>&#34;Username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-user&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>AutoCompleteMultipleField</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.roles&#34;</span><span class=p>
</span></span></span><span class="line hl"><span class=cl><span class=p></span>    <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>label</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-id-card&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:values</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>valueLabel</span><span class=o>=</span><span class=s>&#34;role&#34;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span> <span class=nt>@click</span><span class=s>=&#34;save&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Save&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;secondary&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;users&#39; })&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Cancel&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With that in place, we can now see a new field to edit a user&rsquo;s roles:</p><p><a href=#R-image-25ab3149f5033e80c75ac0ad9d0a6f90 class=lightbox-link><img alt=Roles class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_9.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-25ab3149f5033e80c75ac0ad9d0a6f90><img alt=Roles class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_9.png></a></p><p>As we can see, however, the AutoComplete field for PrimeVue doesn&rsquo;t quite support having an icon in front of it. Thankfully, we can easily fix that in our CSS by just finding the offset used in the other fields:</p><p><a href=#R-image-56bd678438b7d996aac90633d5813b69 class=lightbox-link><img alt="CSS Offset" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_10.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-56bd678438b7d996aac90633d5813b69><img alt="CSS Offset" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_10.png></a></p><p>Once we have that, we can add it to our new AutoComplete component in a <code>&lt;style scoped></code> section that references the correct class:</p><div class=tab-panel data-tab-group=8454af5919353b6d4e7760868a30283f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("8454af5919353b6d4e7760868a30283f","srccomponentsformsautocompletemultiplefieldvue")'>
<span class=tab-nav-text>src/components/forms/AutoCompleteMultipleField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span> <span class=na>scoped</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>:</span><span class=nx>deep</span><span class=p>(.</span><span class=nx>p</span><span class=o>-</span><span class=nx>autocomplete</span> <span class=o>&gt;</span> <span class=nx>ul</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>padding</span><span class=o>-</span><span class=nx>inline</span><span class=o>-</span><span class=nx>start</span><span class=o>:</span> <span class=nx>calc</span><span class=p>((</span><span class=kd>var</span><span class=p>(</span><span class=o>--</span><span class=nx>p</span><span class=o>-</span><span class=nx>form</span><span class=o>-</span><span class=nx>field</span><span class=o>-</span><span class=nx>padding</span><span class=o>-</span><span class=nx>x</span><span class=p>)</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=kd>var</span><span class=p>(</span><span class=o>--</span><span class=nx>p</span><span class=o>-</span><span class=nx>icon</span><span class=o>-</span><span class=nx>size</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>That will fix the padding for our icon to show up properly!</p><p><a href=#R-image-5abf16a42264fa95e585c22fdd300d70 class=lightbox-link><img alt="CSS Offset" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_11.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5abf16a42264fa95e585c22fdd300d70><img alt="CSS Offset" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_11.png></a></p><p>At this point, we can easily add and remove roles for this user. We can even click the save button and it should work as intended! No extra code is needed. So, we can remove the extra line in the <code>&lt;template></code> of our <code>UserEdit.vue</code> component to remove the debugging information.</p><h2 id=styling>Styling</h2><p>Finally, we can use some quick CSS styling to update the content of our <code>UserEdit.vue</code> page to be a bit easier to follow.</p><div class=tab-panel data-tab-group=27565d6c179bd255be9d989f6ff9bf16><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("27565d6c179bd255be9d989f6ff9bf16","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex flex-col gap-3 max-w-xl justify-items-center&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>h1</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;text-xl text-center m-1&#34;</span><span class=p>&gt;</span><span class=nx>Edit</span> <span class=nx>User</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>TextField</span>
</span></span><span class=line><span class=cl>      <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.username&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>      <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>label</span><span class=o>=</span><span class=s>&#34;Username&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-user&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>AutoCompleteMultipleField</span>
</span></span><span class=line><span class=cl>      <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.roles&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>      <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>label</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-id-card&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nt>:values</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>valueLabel</span><span class=o>=</span><span class=s>&#34;role&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span> <span class=nt>@click</span><span class=s>=&#34;save&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Save&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;secondary&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;users&#39; })&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Cancel&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>We can also add a <code>w-full</code> class to our <code>TextField</code> component to expand that field to fit the surrounding components:</p><div class=tab-panel data-tab-group=9b5a38db582b4232551315fbba7d6d1d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformstextfieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("9b5a38db582b4232551315fbba7d6d1d","srccomponentsformstextfieldvue")'>
<span class=tab-nav-text>src/components/forms/TextField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformstextfieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>FloatLabel</span> <span class=na>variant</span><span class=o>=</span><span class=s>&#34;on&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>InputIcon</span> <span class=nt>:class</span><span class=o>=</span><span class=s>&#34;props.icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>InputText</span>
</span></span><span class=line><span class=cl>          <span class=nt>:id</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:disabled</span><span class=o>=</span><span class=s>&#34;props.disabled&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:invalid</span><span class=o>=</span><span class=s>&#34;error&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;model&#34;</span><span class=p>
</span></span></span><span class="line hl"><span class=cl><span class=p></span>          <span class=na>class</span><span class=o>=</span><span class=s>&#34;w-full&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>label</span> <span class=nt>:for</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span><span class=p>&gt;{{</span> <span class=nx>props</span><span class=p>.</span><span class=nx>label</span> <span class=p>}}&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>FloatLabel</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nb>Error</span> <span class=nx>Text</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Message</span> <span class=nt>v-if</span><span class=o>=</span><span class=s>&#34;error&#34; severity=&#34;error&#34; variant=&#34;simple&#34; size=&#34;small&#34;</span><span class=p>&gt;{{</span>
</span></span><span class=line><span class=cl>      <span class=na>error.message</span>
</span></span><span class=line><span class=cl>    <span class=p>}}&lt;/</span><span class=nt>Message</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With all of that in place, we have a nice looking form to edit our users!</p><p><a href=#R-image-8cc7e0432c551d8b4f8d20158e19006c class=lightbox-link><img alt="CSS Offset" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_12.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8cc7e0432c551d8b4f8d20158e19006c><img alt="CSS Offset" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_12.png></a></p><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis526/commit/52d68c1f457025cf7421d4be732e6f29115666ed>Apr 18, 2025</a></p></div></div><script src=/cis526/js/clipboard.min.js?1745939539 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1745939539 defer></script><script src=/cis526/js/theme.js?1745939539 defer></script></body></html>