<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="This example project builds on the previous Vue.js starter project by scaffolding a CRUD frontend for the basic users and roles tables.
Project Deliverables At the end of this example, we will have a project with the following features:
Prior Work This project picks up right where the last one left off, so if you havenâ€™t completed that one yet, go back and do that before starting this one.
Letâ€™s get started!"><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Vue.js CRUD App :: CIS 526 Textbook"><meta name=twitter:description content="This example project builds on the previous Vue.js starter project by scaffolding a CRUD frontend for the basic users and roles tables.
Project Deliverables At the end of this example, we will have a project with the following features:
Prior Work This project picks up right where the last one left off, so if you havenâ€™t completed that one yet, go back and do that before starting this one.
Letâ€™s get started!"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Vue.js CRUD App :: CIS 526 Textbook"><meta property="og:description" content="This example project builds on the previous Vue.js starter project by scaffolding a CRUD frontend for the basic users and roles tables.
Project Deliverables At the end of this example, we will have a project with the following features:
Prior Work This project picks up right where the last one left off, so if you havenâ€™t completed that one yet, go back and do that before starting this one.
Letâ€™s get started!"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta itemprop=name content="Vue.js CRUD App :: CIS 526 Textbook"><meta itemprop=description content="This example project builds on the previous Vue.js starter project by scaffolding a CRUD frontend for the basic users and roles tables.
Project Deliverables At the end of this example, we will have a project with the following features:
Prior Work This project picks up right where the last one left off, so if you havenâ€™t completed that one yet, go back and do that before starting this one.
Letâ€™s get started!"><meta itemprop=dateModified content="2025-03-03T12:52:30-06:00"><meta itemprop=wordCount content="72"><title>Vue.js CRUD App :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/x-examples/06-vue-crud-app/ rel=canonical type=text/html title="Vue.js CRUD App :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/index.xml rel=alternate type=application/rss+xml title="Vue.js CRUD App :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/tele.html rel=alternate type=text/html title="Vue.js CRUD App :: CIS 526 Textbook"><link href=/cis526/x-examples/06-vue-crud-app/embed.html rel=alternate type=text/html title="Vue.js CRUD App :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1744419072 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1744419072 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1744419072 rel=stylesheet><link href=/cis526/css/auto-complete.css?1744419072 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1744419072 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1744419072 rel=stylesheet><link href=/cis526/css/fonts.css?1744419072 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1744419072 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1744419072 rel=stylesheet><link href=/cis526/css/theme-auto.css?1744419072 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-auto.css?1744419072 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1744419072 rel=stylesheet><link href=/cis526/css/print.css?1744419072 rel=stylesheet media=print><link href=/cis526/css/format-print.css?1744419072 rel=stylesheet><script src=/cis526/js/variant.js?1744419072></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1744419072 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis526/x-examples/06-vue-crud-app/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/x-examples/><span itemprop=name>Example Projects</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Vue.js CRUD App</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/05-vue-starter/11-accessing-api/ title="Accessing API (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/06-vue-crud-app/01-roles/ title="Roles View (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=vuejs-crud-app>Vue.js CRUD App</h1><p>This example project builds on the previous Vue.js starter project by scaffolding a CRUD frontend for the basic users and roles tables.</p><h2 id=project-deliverables>Project Deliverables</h2><p>At the end of this example, we will have a project with the following features:</p><ol><li></li></ol><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Prior Work</div><div class=box-content><p>This project picks up right where the last one left off, so if you haven&rsquo;t completed that one yet, go back and do that before starting this one.</p></div></div><p>Let&rsquo;s get started!</p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Vue.js CRUD App</h1><article class=default><header class=headline></header><h1 id=roles-view>Roles View</h1><a href="https://www.youtube.com/watch?v=id">YouTube Video</a><h2 id=roles-view>Roles View</h2><p>To start this project, let&rsquo;s add a new view and a new component to explore the roles available in our application.</p><p>First, let&rsquo;s create a simple component skeleton in a new <code>src/components/roles/</code> folder. We&rsquo;ll name it the <code>RolesList</code> component:</p><div class=tab-panel data-tab-group=4b998a7eb80b2dd670b48d05cce2ee62><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsrolesroleslist class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("4b998a7eb80b2dd670b48d05cce2ee62","srccomponentsrolesroleslist")'>
<span class=tab-nav-text>src/components/roles/RolesList</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsrolesroleslist class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Roles List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Card</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Create Reactive State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Load Roles
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/roles&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>roles</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Card</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in roles&#34; :key=&#34;role.id&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>title</span><span class=p>&gt;</span><span class=nx>Role</span><span class=o>:</span> <span class=p>{{</span> <span class=nx>role</span><span class=p>.</span><span class=nx>role</span> <span class=p>}}&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Card</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>This component should look very familiar - it is based on the <code>TestUser</code> component we developed in the previous tutorial.</p><p>Next, we should create a <code>RolesView.vue</code> component in the <code>src/views</code> folder to load that component on a page:</p><div class=tab-panel data-tab-group=d7c7d93fa62b56a8b0aaf2368d6fecd7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcviewsrolesviewvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d7c7d93fa62b56a8b0aaf2368d6fecd7","srcviewsrolesviewvue")'>
<span class=tab-nav-text>src/views/RolesView.vue</span></button></div><div class=tab-content-container><div data-tab-item=srcviewsrolesviewvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RolesList</span> <span class=nx>from</span> <span class=s1>&#39;../components/roles/RolesList.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>RolesList</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>After that, we should add this page to our router:</p><div class=tab-panel data-tab-group=d43431acf667ed9eaee53d8375df1a85><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcrouterindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d43431acf667ed9eaee53d8375df1a85","srcrouterindexjs")'>
<span class=tab-nav-text>src/router/index.js</span></button></div><div class=tab-content-container><div data-tab-item=srcrouterindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure History Mode
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>history</span><span class=o>:</span> <span class=nx>createWebHistory</span><span class=p>(</span><span class=kr>import</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>BASE_URL</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure routes
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>routes</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=nx>HomeView</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=c1>// route level code-splitting
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// this generates a separate chunk (About.[hash].js) for this route
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// which is lazy-loaded when the route is visited.
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/AboutView.vue&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/profile&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/ProfileView.vue&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/roles&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;roles&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/RolesView.vue&#39;</span><span class=p>),</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>Finally, let&rsquo;s also add it to our list of menu options in the <code>TopMenu</code> component:</p><div class=tab-panel data-tab-group=6703b35195d5be5d1009fdf8ef68a6ac><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("6703b35195d5be5d1009fdf8ef68a6ac","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>items</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;home&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;About&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-info-circle&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;about&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Roles&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-id-card&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;roles&#39;</span> <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With those changes in place, we should be able to view the list of available roles in our application by clicking the new Roles link in the top menu bar:</p><p><a href=#R-image-4f8bd5532893a6114ae1604c0c19cc0f class=lightbox-link><img alt="Roles View" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/crud_1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4f8bd5532893a6114ae1604c0c19cc0f><img alt="Roles View" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/crud_1.png></a></p><p>Our application will even redirect users to the CAS server to authenticate if they aren&rsquo;t already logged in!</p><p>However, what if we log in using the <code>user</code> username instead of <code>admin</code>? Will this page still work? Unfortunately, because the <code>/api/v1/roles</code> API route requires a user to have the <code>manage_users</code> role, it will respond with an HTTP 401 error. We can see these errors in the console of our web browser:</p><p><a href=#R-image-2c8f9bbd4f50f82e2720079ff292153c class=lightbox-link><img alt="Bad Connection" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/crud_2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2c8f9bbd4f50f82e2720079ff292153c><img alt="Bad Connection" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/crud_2.png></a></p><p>So, we need to add some additional code to our application to make sure that users only see the pages and links the are actually able to access.</p><h2 id=hiding-menu-items>Hiding Menu Items</h2><p>First, let&rsquo;s explore how we can hide various menu items from our top menu bar based on the roles assigned to our users. To enable this, we can tag each item in the menu that has restricted access with a list of roles that are able to access that page:</p><div class=tab-panel data-tab-group=7fa0efd3d70156e6dba8733fa1d73ce3><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("7fa0efd3d70156e6dba8733fa1d73ce3","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>items</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;home&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;About&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-info-circle&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;about&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Roles&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-id-card&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;roles&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>roles</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;manage_users&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Then, we can create a <a href=https://vuejs.org/guide/essentials/computed.html rel=external target=_blank>Vue Computed Property</a> to filter the list of items used in the template:</p><div class=tab-panel data-tab-group=e97b6bf4e13c9e69a40005d844f61731><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("e97b6bf4e13c9e69a40005d844f61731","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Top menu bar of the entire application
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span><span class=p>,</span> <span class=nx>computed</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>useRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Components
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Menubar</span> <span class=nx>from</span> <span class=s1>&#39;primevue/menubar&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ThemeToggle</span> <span class=nx>from</span> <span class=s1>&#39;./ThemeToggle.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>UserProfile</span> <span class=nx>from</span> <span class=s1>&#39;./UserProfile.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Stores
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>useTokenStore</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/stores/Token&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>tokenStore</span> <span class=o>=</span> <span class=nx>useTokenStore</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>visible_items</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>  <span class=k>return</span> <span class=nx>items</span><span class=p>.</span><span class=nx>value</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=c1>// If the item lists any roles
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>item</span><span class=p>.</span><span class=nx>roles</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=c1>// Assume the user must be logged in to view it
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=nx>tokenStore</span><span class=p>.</span><span class=nx>token</span><span class=p>.</span><span class=nx>length</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=c1>// If the roles is a string containing an asterisk
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=nx>item</span><span class=p>.</span><span class=nx>roles</span> <span class=o>==</span> <span class=s2>&#34;*&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>          <span class=c1>// Allow all roles to view
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>          <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>          <span class=c1>// Otherwise, check if any role matches a role the user has
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>          <span class=k>return</span> <span class=nx>item</span><span class=p>.</span><span class=nx>roles</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>r</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>tokenStore</span><span class=p>.</span><span class=nx>has_role</span><span class=p>(</span><span class=nx>r</span><span class=p>))</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=c1>// If not logged in, hide item
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>        <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=c1>// If no roles listed, show item even if not logged in
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>      <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>In this function, we are filtering the the menu items based on the roles. If they have a set of roles listed, we check to see if it is an asterisk - if so, all roles are allowed. Otherwise, we assume that it is a list of roles, and check to see if at least one role matches a role that the user has by checking the <code>token</code> store&rsquo;s <code>has_role</code> getter method. Finally, if no roles are listed, we assume that the item should be visible to users even without logging in.</p><p>To use this new computed property, we just replace the <code>items</code> entry in the template with the new <code>computed_items</code> property:</p><div class=tab-panel data-tab-group=adee6de54bcc3ccbf59e0c3c28148f88><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("adee6de54bcc3ccbf59e0c3c28148f88","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Menubar</span> <span class=nt>:model</span><span class=o>=</span><span class=s>&#34;visible_items&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>start</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://placehold.co/40x40&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;Placeholder Logo&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>end</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex items-center gap-1&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>ThemeToggle</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>UserProfile</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Menubar</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>That should properly hide menu items from the user based on their roles. Feel free to try it out!</p><h2 id=protecting-routes>Protecting Routes</h2><p>Of course, hiding the item from the menu does not prevent the user from manually typing in the route path in the URL and trying to access the page that way. So, we must also add some additional logic to our router to ensure that user&rsquo;s can&rsquo;t access. For that, we can add a <a href=https://router.vuejs.org/guide/advanced/navigation-guards.html#Per-Route-Guard rel=external target=_blank>Per-Route Guard</a> following a very similar approach. In our <code>src/router/index.js</code> file, we can add a new generator function to create a route guard based on roles, and then apply that guard as the <code>beforeEnter</code> property for a route:</p><div class=tab-panel data-tab-group=0aec2e5f26b5a402ba7cad45003b8526><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcrouterindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("0aec2e5f26b5a402ba7cad45003b8526","srcrouterindexjs")'>
<span class=tab-nav-text>src/router/index.js</span></button></div><div class=tab-content-container><div data-tab-item=srcrouterindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl><span class=cm>/**
</span></span></span><span class="line hl"><span class=cl><span class=cm> * Router Guard Function to check for role before entering route
</span></span></span><span class="line hl"><span class=cl><span class=cm> * 
</span></span></span><span class="line hl"><span class=cl><span class=cm> * @param roles a list of roles permitted to enter the route
</span></span></span><span class="line hl"><span class=cl><span class=cm> * @return boolean true if the navigation is permitted, else returns to the home page
</span></span></span><span class="line hl"><span class=cl><span class=cm> */</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>requireRoles</span> <span class=o>=</span> <span class=p>(...</span><span class=nx>roles</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>  <span class=k>return</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=kr>const</span> <span class=nx>tokenStore</span> <span class=o>=</span> <span class=nx>useTokenStore</span><span class=p>()</span>
</span></span><span class="line hl"><span class=cl>    <span class=kr>const</span> <span class=nx>allow</span> <span class=o>=</span> <span class=nx>roles</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>r</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>tokenStore</span><span class=p>.</span><span class=nx>has_role</span><span class=p>(</span><span class=nx>r</span><span class=p>))</span>
</span></span><span class="line hl"><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>allow</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=c1>// allow navigation
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>      <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=c1>// redirect to home
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>      <span class=k>return</span> <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;home&#39;</span><span class=p>}</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>}</span>
</span></span><span class="line hl"><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure History Mode
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>history</span><span class=o>:</span> <span class=nx>createWebHistory</span><span class=p>(</span><span class=kr>import</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>BASE_URL</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure routes
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>routes</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;home&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=nx>HomeView</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;about&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=c1>// route level code-splitting
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// this generates a separate chunk (About.[hash].js) for this route
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// which is lazy-loaded when the route is visited.
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/AboutView.vue&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/profile&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;profile&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/ProfileView.vue&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/roles&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;roles&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/RolesView.vue&#39;</span><span class=p>),</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>beforeEnter</span><span class=o>:</span> <span class=nx>requireRoles</span><span class=p>(</span><span class=s2>&#34;manage_users&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>Now, even if we try to type the <code>/roles</code> path into the address bar in our web browser, it won&rsquo;t allow us to reach that page unless we are logged in to a user account that has the correct role.</p><h2 id=reactive-style>Reactive Style</h2><p>We can also use Tailwind to add some reactive style to our components. For example, we can use the <a href=https://tailwindcss.com/docs/grid-template-columns rel=external target=_blank>Grid</a> layout options to place the components in a grid view:</p><div class=tab-panel data-tab-group=8bb1ca1d3816db82e62b23def296e7da><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsrolesroleslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("8bb1ca1d3816db82e62b23def296e7da","srccomponentsrolesroleslistvue")'>
<span class=tab-nav-text>src/components/roles/RolesList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsrolesroleslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;grid grid-cols-1 xl:grid-cols-4 lg:grid-cols-3 sm:grid-cols-2 gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Card</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in roles&#34; :key=&#34;role.id&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>title</span><span class=p>&gt;</span><span class=nx>Role</span><span class=o>:</span> <span class=p>{{</span> <span class=nx>role</span><span class=p>.</span><span class=nx>role</span> <span class=p>}}&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Card</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>This will give us a responsive layout that adjusts the number of columns based on the width of the screen:</p><p><a href=#R-image-d35bb4aa4733ff4b299fcb8683dd1199 class=lightbox-link><img alt="Responsive Layout" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d35bb4aa4733ff4b299fcb8683dd1199><img alt="Responsive Layout" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_1.png></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=users-table>Users Table</h1><a href="https://www.youtube.com/watch?v=id">YouTube Video</a><h2 id=users-table>Users Table</h2><p>Now that we have explored the basics of adding new menu items and routes to our application, let&rsquo;s start working on the components to view and edit the users available in our application. To begin, we&rsquo;ll work on the *<em>GET ALL</em> route, which will allow us to view all of the users on our system. For this, we&rsquo;ll use the <a href=https://primevue.org/datatable/ rel=external target=_blank>PrimeVue DataTable</a> component, which is one of the most powerful components available in the PrimeVue library.</p><p>First, before we can do that, we must set up our new view and a route to get there, as well as a menu option. So, let&rsquo;s go through that really quickly.</p><p>First, we&rsquo;ll add a new route to the Vue router:</p><div class=tab-panel data-tab-group=690c4dae7f75ee39fef144766ebe35a7><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcrouterindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("690c4dae7f75ee39fef144766ebe35a7","srcrouterindexjs")'>
<span class=tab-nav-text>src/router/index.js</span></button></div><div class=tab-content-container><div data-tab-item=srcrouterindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure History Mode
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>history</span><span class=o>:</span> <span class=nx>createWebHistory</span><span class=p>(</span><span class=kr>import</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>BASE_URL</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure routes
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>routes</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/users&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;users&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/UsersListView.vue&#39;</span><span class=p>),</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>beforeEnter</span><span class=o>:</span> <span class=nx>requireRoles</span><span class=p>(</span><span class=s2>&#34;manage_users&#34;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>We&rsquo;ll also add that route as a menu item in our <code>TopMenu.vue</code> component:</p><div class=tab-panel data-tab-group=2100f7bbaa1c7a9960b6c2beba2e3963><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentslayouttopmenuvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2100f7bbaa1c7a9960b6c2beba2e3963","srccomponentslayouttopmenuvue")'>
<span class=tab-nav-text>src/components/layout/TopMenu.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentslayouttopmenuvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>items</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([</span>
</span></span><span class=line><span class=cl>  <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Users&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s1>&#39;pi pi-users&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>command</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;users&#39;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nx>roles</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;manage_users&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Then, we&rsquo;ll create a new view named <code>UsersListView.vue</code> that will contain our table component:</p><div class=tab-panel data-tab-group=085df7c1d3e52470f4257e91a4fb1553><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcviewsuserslistviewvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("085df7c1d3e52470f4257e91a4fb1553","srcviewsuserslistviewvue")'>
<span class=tab-nav-text>src/views/UsersListView.vue</span></button></div><div class=tab-content-container><div data-tab-item=srcviewsuserslistviewvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>UsersList</span> <span class=nx>from</span> <span class=s1>&#39;../components/users/UsersList.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>UsersList</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Finally, we&rsquo;ll create a new <code>UsersList</code> component to store our code:</p><div class=tab-panel data-tab-group=2a4dbeedcc57f76e808718a2c0a5b324><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2a4dbeedcc57f76e808718a2c0a5b324","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>Users</span> <span class=nx>List</span> <span class=nx>Here</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With all of that in place, we should now be able to click on the <strong>Users</strong> button at the top of our page and get to the <code>UsersList</code> component on the appropriate view:</p><p><a href=#R-image-903881040906b59c5fca482b94d4667d class=lightbox-link><img alt="Users Table" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-903881040906b59c5fca482b94d4667d><img alt="Users Table" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_2.png></a></p><p>From here, we can start to build our table view.</p><h2 id=primevue-datatable>PrimeVue DataTable</h2><p>To use the <a href=https://primevue.org/datatable/ rel=external target=_blank>PrimeVue DataTable</a> component, we first need to get our data from the API so we can easily display it in our component. So, let&rsquo;s use the Axios api instance to query the API and get our list of users. This is nearly the exact same code we used previously to get the list of users:</p><div class=tab-panel data-tab-group=b13c45ea88dc65b46297235ae0bf34c2><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("b13c45ea88dc65b46297235ae0bf34c2","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Create Reactive State
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class="line hl"><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Load Users
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/users&#39;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>users</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now that we have that list, we can start to construct our DataTable. First, we&rsquo;ll need to import the required components in our <code>&lt;script setup></code> section:</p><div class=tab-panel data-tab-group=1b79893368c96fe999d3aa4c31efc0da><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("1b79893368c96fe999d3aa4c31efc0da","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now, in the <code>&lt;template></code> section, we can build a basic DataTable by including the data we want to view and the columns that should be included:</p><div class=tab-panel data-tab-group=cd58de4db9e8dc0a7db69ecfec512b32><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("cd58de4db9e8dc0a7db69ecfec512b32","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Each <code>&lt;Column></code> component includes a field name for that column, as well as a header value. With that in place, we should see a simple page with lots of helpful information about our users:</p><p><a href=#R-image-2694d747148c893e723b77a73e655e34 class=lightbox-link><img alt="Users Table with Columns" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2694d747148c893e723b77a73e655e34><img alt="Users Table with Columns" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_3.png></a></p><p>This is a great start, but we can clean this up to make it much easier for our users to read and digest the information.</p><h2 id=custom-column-templates>Custom Column Templates</h2><p>First, let&rsquo;s create a couple of custom templates for columns. First, we notice that the <strong>Roles</strong> column is just outputting the entire JSON list of roles, but this is not very helpful. So, let&rsquo;s modify that column to present a list of <a href=https://primevue.org/chip/ rel=external target=_blank>Chips</a> representing the roles:</p><div class=tab-panel data-tab-group=60ceb2fd6fd29ba9b7fbd04294ebd26b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("60ceb2fd6fd29ba9b7fbd04294ebd26b","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>Chip</span> <span class=nx>from</span> <span class=s1>&#39;primevue/chip&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>Chip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :label=&#34;role.role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Inside of the <code>&lt;Column></code> component, we place a <code>&lt;template></code> for the <code>#body</code> slot, and we also provide a link to the <code>data</code> of the <code>&lt;Column></code> component so we can access that data.</p><p>With this change, our table now looks like this:</p><p><a href=#R-image-8b4f29b81842418752e51d0c87aae939 class=lightbox-link><img alt="Users Table with Chips for Roles" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8b4f29b81842418752e51d0c87aae939><img alt="Users Table with Chips for Roles" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_4.png></a></p><p>However, we can improve on that a bit by adding some additional information to our application that helps us display these roles in a bit cleaner format. Let&rsquo;s create a new custom <code>RoleChip</code> component that will display the roles properly, along with some additional information.</p><div class=tab-panel data-tab-group=b851cf14a8eff55fba7bf1dfeb2666ea><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsrolesrolechipvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("b851cf14a8eff55fba7bf1dfeb2666ea","srccomponentsrolesrolechipvue")'>
<span class=tab-nav-text>src/components/roles/RoleChip.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsrolesrolechipvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Roles Chip
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Chip</span> <span class=nx>from</span> <span class=s1>&#39;primevue/chip&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Role Object
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>role</span><span class=o>:</span> <span class=nb>Object</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Lookup Table
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=mi>1</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Manage Users&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-user-edit&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>2</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Manage Documents&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-pen-to-square&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>3</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Add Documents&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-file-plus&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>4</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Manage Communities&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-pencil&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>5</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Add Communities&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-plus-circle&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>6</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;View Documents&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-file&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=mi>7</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;View Communities&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>icon</span><span class=o>:</span> <span class=s2>&#34;pi pi-building-columns&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Chip</span> <span class=nt>:label</span><span class=o>=</span><span class=s>&#34;roles[props.role.id].name&#34;</span> <span class=nt>:icon</span><span class=o>=</span><span class=s>&#34;roles[props.role.id].icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>This component includes a constant lookup table that provides some additional information about each role, based on the role&rsquo;s ID. This allows us to assign a user-friendly name and icon to each role in our frontend application. In fact, if we are internationalizing this application, we could also use this component to translate the role names into localized forms here.</p><p>We are also seeing a great example of <a href=https://vuejs.org/guide/components/props.html rel=external target=_blank>Vue Props</a> in this component. Props allow us to pass data from one component down into another sub-component. It is a one-way data connection, which is very important to remember.</p><p>We can update our <code>UsersList.vue</code> component to use this new <code>RoleChip</code> component very easily:</p><div class=tab-panel data-tab-group=0a25b40695cb50c4d8d5fdd0816e77c5><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("0a25b40695cb50c4d8d5fdd0816e77c5","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now we have a much cleaner view of the roles each user is assigned, with helpful icons to help us remember what each one does.</p><p><a href=#R-image-64f57de067759956848ca91a3ccddfad class=lightbox-link><img alt="Users Table with RoleChips" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-64f57de067759956848ca91a3ccddfad><img alt="Users Table with RoleChips" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_5.png></a></p><h2 id=handling-dates>Handling Dates</h2><p>Let&rsquo;s also clean up the <strong>Created</strong> and <strong>Updated</strong> columns by rendering the dates into a more useful format. For this, we can use the <a href=https://date-fns.org/ rel=external target=_blank>date-fns</a> library to help us format and display times easily in our project. First, we&rsquo;ll need to install it:</p><div class=tab-panel data-tab-group=41df4e6b99792af668e76813c169e319><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=terminal class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("41df4e6b99792af668e76813c169e319","terminal")'>
<span class=tab-nav-text>terminal</span></button></div><div class=tab-content-container><div data-tab-item=terminal class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ npm install date-fns</span></span></code></pre></div></div></div></div></div><p>Then, in our component, we can use it to format our dates by computing the distance in the past that the event occurred:</p><div class=tab-panel data-tab-group=fcaa46c1fb4c8e59e2be8e407d446661><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("fcaa46c1fb4c8e59e2be8e407d446661","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.createdAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>createdAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.updatedAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>updatedAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With that in place, we can more easily see how long ago each user&rsquo;s account was created or updated:</p><p><a href=#R-image-62072091a86901997e8bbebfdd215268 class=lightbox-link><img alt="Users Table with Times" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-62072091a86901997e8bbebfdd215268><img alt="Users Table with Times" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_6.png></a></p><p>We can even hover over one of the formatted dates to see the actual date in a tooltip.</p><h2 id=sorting>Sorting</h2><p>We can also enable <a href=https://primevue.org/datatable/#sort rel=external target=_blank>Sorting</a> in our PrimeVue DataTable by simply adding the <code>sortable</code> property to any columns we&rsquo;d like to sort. For this example, let&rsquo;s add that to the <code>username</code>, <code>createdAt</code> and <code>updatedAt</code> fields:</p><div class=tab-panel data-tab-group=19cb49b6d9c02e6d8fe6430b2070d1ba><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("19cb49b6d9c02e6d8fe6430b2070d1ba","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Username&#34;</span> <span class=na>sortable</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> </span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;createdAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Created&#34;</span> <span class=na>sortable</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.createdAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>createdAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>field</span><span class=o>=</span><span class=s>&#34;updatedAt&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Updated&#34;</span> <span class=na>sortable</span> <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;</span><span class=na>new</span> <span class=na>Date</span><span class=err>(</span><span class=na>data.updatedAt</span><span class=err>)</span><span class=na>.toLocaleString</span><span class=err>()&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>{{</span> <span class=nx>formatDistance</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>(</span><span class=nx>data</span><span class=p>.</span><span class=nx>updatedAt</span><span class=p>),</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>(),</span> <span class=p>{</span> <span class=nx>addSuffix</span><span class=o>:</span> <span class=kc>true</span> <span class=p>})</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p><a href=#R-image-6fb545fcf5ed028a764e2def3fdce5ad class=lightbox-link><img alt="Users Table Sorting" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_sort.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6fb545fcf5ed028a764e2def3fdce5ad><img alt="Users Table Sorting" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_sort.gif></a></p><p>We can even define a default column and sort order for our table:</p><div class=tab-panel data-tab-group=72812943f6b6fd4b652162e2ec94e977><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("72812943f6b6fd4b652162e2ec94e977","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span> <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span> <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span> <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><h2 id=global-filtering>Global Filtering</h2><p>Another great feature of PrimeVue&rsquo;s DataTable is the ability to quickly add <a href=https://primevue.org/datatable/#filter rel=external target=_blank>Filtering</a> features. We can define a global filter to allow us to search for a user by the username by simply defining a <code>global</code> filter set and a list of fields to search. We should also add a quick search box to the top of our DataTable template to accept this input.</p><div class=tab-panel data-tab-group=9eb268fbf601d65e9d575363a7542801><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("9eb268fbf601d65e9d575363a7542801","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl><span class=c1>// Setup Filters
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>filters</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>global</span><span class=o>:</span> <span class=p>{</span> <span class=nx>value</span><span class=o>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nx>matchMode</span><span class=o>:</span> <span class=nx>FilterMatchMode</span><span class=p>.</span><span class=nx>CONTAINS</span> <span class=p>},</span>
</span></span><span class="line hl"><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>header</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex justify-end&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>              <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;pi pi-search&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;/</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>InputText</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;filters[&#39;global&#39;].value&#34; placeholder=&#34;Keyword Search&#34;</span><span class=p> /&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With this in place, we can now type in any username and filter the table for that username:</p><p><a href=#R-image-d26275c6c533b227fb9121b5dfb8fcee class=lightbox-link><img alt="Users Table Filtering Usernames" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter1.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d26275c6c533b227fb9121b5dfb8fcee><img alt="Users Table Filtering Usernames" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter1.gif></a></p><h2 id=column-filtering>Column Filtering</h2><p>We can also do more advanced filtering, such as allowing users to select roles that they&rsquo;d like to search for. This is a bit more complex, as it requires us to first write our own custom filter function, and then we also have to add a small template for setting the filter options.</p><p>First, let&rsquo;s create a new custom filter function in our <code>&lt;script setup></code> section. We&rsquo;ll also need to get a list of the available roles in our system, so we can add that to this section as well.:</p><div class=tab-panel data-tab-group=ca820d96379c8c838b7613682ff70766><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("ca820d96379c8c838b7613682ff70766","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span><span class=p>,</span> <span class=nx>FilterService</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Create Reactive State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>users</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Load Users
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/users&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>users</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Load Roles
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/roles&#39;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>roles</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Custom Filter
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>FilterService</span><span class=p>.</span><span class=nx>register</span><span class=p>(</span><span class=s2>&#34;filterArrayOfObjectsById&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>targetArray</span><span class=p>,</span> <span class=nx>sourceArray</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>sourceArray</span> <span class=o>||</span> <span class=nx>sourceArray</span><span class=p>.</span><span class=nx>length</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=k>return</span> <span class=kc>true</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>  <span class=kd>let</span> <span class=nx>found</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>sourceArray</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>s</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>found</span> <span class=o>=</span> <span class=nx>found</span> <span class=o>&amp;&amp;</span> <span class=nx>targetArray</span><span class=p>.</span><span class=nx>some</span><span class=p>((</span><span class=nx>o</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>o</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=nx>s</span><span class=p>.</span><span class=nx>id</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=k>return</span> <span class=nx>found</span>
</span></span><span class="line hl"><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Setup Filters
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>filters</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>global</span><span class=o>:</span> <span class=p>{</span> <span class=nx>value</span><span class=o>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nx>matchMode</span><span class=o>:</span> <span class=nx>FilterMatchMode</span><span class=p>.</span><span class=nx>CONTAINS</span> <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>roles</span><span class=o>:</span> <span class=p>{</span> <span class=nx>value</span><span class=o>:</span> <span class=kc>null</span><span class=p>,</span> <span class=nx>matchMode</span><span class=o>:</span> <span class=s2>&#34;filterArrayOfObjectsById&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>The <code>filterArrayOfObjectsById</code> function should look somewhat familiar - we have an array of roles we want to search for, and we want to ensure that the user has all of these roles (this is different than some of our other functions that look like this, where we want the user to have at least one of the roles).</p><p>Now, to make this visible in our template, we add a special <code>&lt;template #filter></code> slot to the <code>Column</code> that is displaying the roles. We also set the <code>filterDisplay</code> option on the top-level <code>DataTable</code> component to <code>"menu"</code> to allow us to have pop-up menus for filtering. For this menu, we&rsquo;re going to use the <a href=https://primevue.org/multiselect/ rel=external target=_blank>PrimeVue Multiselect</a> component, so we&rsquo;ll need to import it:</p><div class=tab-panel data-tab-group=73151ce6858eb92e0622097594d06ba0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("73151ce6858eb92e0622097594d06ba0","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span><span class=p>,</span> <span class=nx>MultiSelect</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span><span class=p>,</span> <span class=nx>FilterService</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class=line><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>filterField</span><span class=o>=</span><span class=s>&#34;roles&#34;</span> <span class=nt>:showFilterMatchModes</span><span class=o>=</span><span class=s>&#34;false&#34;</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;{ data }&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>v-for</span><span class=o>=</span><span class=s>&#34;role in data.roles&#34; :key=&#34;role.id&#34; :role=&#34;role&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>filter</span><span class=o>=</span><span class=s>&#34;{ filterModel }&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>MultiSelect</span>
</span></span><span class="line hl"><span class=cl>          <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;filterModel.value&#34;</span><span class=p>
</span></span></span><span class="line hl"><span class=cl><span class=p></span>          <span class=nt>:options</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>optionLabel</span><span class=o>=</span><span class=s>&#34;role&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>placeholder</span><span class=o>=</span><span class=s>&#34;Any&#34;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>option</span><span class=o>=</span><span class=s>&#34;slotProps&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>            <span class=p>&lt;</span><span class=nt>RoleChip</span> <span class=nt>:role</span><span class=o>=</span><span class=s>&#34;slotProps.option&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>MultiSelect</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With all of this in place, we can now filter based on roles as well:</p><p><a href=#R-image-95d50a96b97c7cd9e9ef15e80f7efc32 class=lightbox-link><img alt="Users Table Filtering Roles" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter2.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-95d50a96b97c7cd9e9ef15e80f7efc32><img alt="Users Table Filtering Roles" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_filter2.gif></a></p><h2 id=buttons>Buttons</h2><p>Finally, let&rsquo;s work on adding some buttons to our table that will allow us to create new users, edit existing users, and delete users.</p><p>First, let&rsquo;s add a simple button to create a new user at the top of our DataTable component. We&rsquo;ll use a <a href=https://primevue.org/button/ rel=external target=_blank>PrimeVue Button</a> component for this, and we&rsquo;ll also need to import the Vue Router so we can route to a different view when this is clicked.</p><div class=tab-panel data-tab-group=1f0a2e76d7fed681148f27a3900d936c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("1f0a2e76d7fed681148f27a3900d936c","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Users List Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>formatDistance</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;date-fns&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>DataTable</span> <span class=nx>from</span> <span class=s1>&#39;primevue/datatable&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Column</span> <span class=nx>from</span> <span class=s1>&#39;primevue/column&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>InputText</span><span class=p>,</span> <span class=nx>MultiSelect</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>FilterMatchMode</span><span class=p>,</span> <span class=nx>FilterService</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@primevue/core/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>RoleChip</span> <span class=nx>from</span> <span class=s1>&#39;../roles/RoleChip.vue&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>Button</span> <span class=nx>from</span> <span class=s1>&#39;primevue/button&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>useRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class=line><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>header</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex justify-between&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>Button</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>label</span><span class=o>=</span><span class=s>&#34;New User&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-user-plus&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;newuser&#39; })&#34;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;pi pi-search&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;/</span><span class=nt>InputIcon</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>InputText</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;filters[&#39;global&#39;].value&#34; placeholder=&#34;Keyword Search&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>When we click on this button, we&rsquo;ll be sent to the <code>newuser</code> route in our application. This route doesn&rsquo;t currently exist, but we&rsquo;ll add it later in this tutorial.</p><p>Likewise, we want to add buttons to allow us to edit and delete each user&rsquo;s account, so let&rsquo;s add a new column to our DataTable with those buttons as well.</p><div class=tab-panel data-tab-group=d0d3c1b9380ddfde8db9861fadca08c9><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersuserslistvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("d0d3c1b9380ddfde8db9861fadca08c9","srccomponentsusersuserslistvue")'>
<span class=tab-nav-text>src/components/users/UsersList.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersuserslistvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>DataTable</span>
</span></span><span class=line><span class=cl>    <span class=nt>:value</span><span class=o>=</span><span class=s>&#34;users&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>v</span><span class=nt>-model:filters</span><span class=o>=</span><span class=s>&#34;filters&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:globalFilterFields</span><span class=o>=</span><span class=s>&#34;[&#39;username&#39;]&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>filterDisplay</span><span class=o>=</span><span class=s>&#34;menu&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>sortField</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:sortOrder</span><span class=o>=</span><span class=s>&#34;1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>other</span> <span class=nx>code</span> <span class=nx>omitted</span> <span class=nx>here</span> <span class=o>--&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Column</span> <span class=na>header</span><span class=o>=</span><span class=s>&#34;Actions&#34;</span> <span class=na>style</span><span class=o>=</span><span class=s>&#34;min-width: 8rem&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;</span><span class=nt>template</span> <span class=err>#</span><span class=na>body</span><span class=o>=</span><span class=s>&#34;slotProps&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex gap-2&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>Button</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-pencil&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>outlined</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>rounded</span>
</span></span><span class="line hl"><span class=cl>            <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;edituser&#39;, params: { id: slotProps.data.id } })&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;&#39;</span><span class=na>Edit</span><span class=err>&#39;&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>&lt;</span><span class=nt>Button</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-trash&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>outlined</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>rounded</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>severity</span><span class=o>=</span><span class=s>&#34;danger&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;deleteuser&#39;, params: { id: slotProps.data.id } })&#34;</span>
</span></span><span class="line hl"><span class=cl>            <span class=na>v</span><span class=nt>-tooltip</span><span class=na>.bottom</span><span class=err>=&#34;&#39;</span><span class=na>Delete</span><span class=err>&#39;&#34;</span>
</span></span><span class="line hl"><span class=cl>          <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;/</span><span class=nt>Column</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>DataTable</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>These buttons will direct us to the <code>edituser</code> and <code>deleteuser</code> routes, and they even include the ID of the user to be edited or deleted in the route parameters. We&rsquo;ll work on adding these features as well later in this tutorial. With these changes in place, our final DataTable for our users should look something like this:</p><p><a href=#R-image-79808769b57f6e67c2e00bca8de813b2 class=lightbox-link><img alt="Final Users Data Table" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_7.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-79808769b57f6e67c2e00bca8de813b2><img alt="Final Users Data Table" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_7.png></a></p><p>For the rest of this tutorial, we&rsquo;ll work on adding additional functionality to handle creating, editing, and deleting user accounts.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=edit-user>Edit User</h1><a href="https://www.youtube.com/watch?v=id">YouTube Video</a><h2 id=editing-a-user>Editing a User</h2><p>The next major feature we can add to our frontend application is the ability to edit a user. To do this, we&rsquo;ll need to create a view and a component that contains the form fields for editing a user, as well as the logic to communicate any changes back to the API.</p><p>As always, we&rsquo;ll start by adding a route to our <code>src/router/index.js</code> file for this route:</p><div class=tab-panel data-tab-group=e24a1384486246a85d5099358889c48f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcrouterindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("e24a1384486246a85d5099358889c48f","srcrouterindexjs")'>
<span class=tab-nav-text>src/router/index.js</span></button></div><div class=tab-content-container><div data-tab-item=srcrouterindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>createRouter</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure History Mode
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>history</span><span class=o>:</span> <span class=nx>createWebHistory</span><span class=p>(</span><span class=kr>import</span><span class=p>.</span><span class=nx>meta</span><span class=p>.</span><span class=nx>env</span><span class=p>.</span><span class=nx>BASE_URL</span><span class=p>),</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Configure routes
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>routes</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class="line hl"><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>path</span><span class=o>:</span> <span class=s1>&#39;/users/:id/edit&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;edituser&#39;</span><span class=p>,</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>component</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=kr>import</span><span class=p>(</span><span class=s1>&#39;../views/UsersEditView.vue&#39;</span><span class=p>),</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>beforeEnter</span><span class=o>:</span> <span class=nx>requireRoles</span><span class=p>(</span><span class=s1>&#39;manage_users&#39;</span><span class=p>),</span>
</span></span><span class="line hl"><span class=cl>      <span class=nx>props</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span></code></pre></div></div></div></div></div><p>In this route, we are using <code>:id</code> to represent a <a href=https://router.vuejs.org/guide/essentials/dynamic-matching.html rel=external target=_blank>Route Parameter</a>, which is the same syntax we saw earlier in our Express backend. Since we want that route parameter to be passed as a Vue prop to our view component, we also add the <code>props: true</code> entry to this route definition.</p><p>Next, we&rsquo;ll create a simple <code>UsersEditView.vue</code> component in our <code>src/views</code> folder to contain the new view:</p><div class=tab-panel data-tab-group=387140ddb7853d5acad7d1134a7fec97><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcviewsuserseditviewvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("387140ddb7853d5acad7d1134a7fec97","srcviewsuserseditviewvue")'>
<span class=tab-nav-text>src/views/UsersEditView.vue</span></button></div><div class=tab-content-container><div data-tab-item=srcviewsuserseditviewvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>UserEdit</span> <span class=nx>from</span> <span class=s1>&#39;../components/users/UserEdit.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>UserEdit</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Finally, we&rsquo;ll create our new component in the <code>src/components/users/UserEdit.vue</code> file with the following default content:</p><div class=tab-panel data-tab-group=a6c54609fa2bcb616a0d0881145b80ce><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("a6c54609fa2bcb616a0d0881145b80ce","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file User Edit Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>Edit</span> <span class=nx>User</span> <span class=nx>Here</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><h2 id=getting-user-data>Getting User Data</h2><p>To begin, let&rsquo;s get the user&rsquo;s data from our API. We know that this component will have a Vue prop for the user&rsquo;s <code>id</code> available, because it is the only element on the <code>UsersEditView</code> page, so the property will <a href=https://vuejs.org/guide/components/attrs.html rel=external target=_blank>Fallthrough</a> to this element. So, we can declare it at the top of our component, and use it to request data about a single user in our component as a reactive state variable.</p><div class=tab-panel data-tab-group=901db7836726a6ae5595e2bca7e823b5><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("901db7836726a6ae5595e2bca7e823b5","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file User Edit Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// User ID
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>id</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Load Users
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/users/&#39;</span> <span class=o>+</span> <span class=nx>props</span><span class=p>.</span><span class=nx>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>user</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With this data in hand, we can start building a form to allow us to edit our user.</p><h2 id=creating-a-text-field-component>Creating a Text Field Component</h2><p>Our User account has two fields that we want to be able to edit: the <code>username</code> field and the list of <code>roles</code> assigned to the user. Let&rsquo;s tackle the <code>username</code> field first. PrimeVue includes many different components that can be used in a form. One of the simplest is their <a href=https://primevue.org/inputtext/ rel=external target=_blank>InputText</a> field that accepts textual input from the user. However, we can also add things like an <a href=https://primevue.org/iconfield/ rel=external target=_blank>IconField</a> to show an icon inside of the field, and a <a href=https://primevue.org/floatlabel/ rel=external target=_blank>FloatLabel</a> to easily include a descriptive label that floats over our field. One really cool feature is the ability to combine several of these into an <a href=https://primevue.org/iconfield/#floatlabel rel=external target=_blank>Icon Field with a Floating Label</a> as shown in the PrimeVue examples. However, because we know we plan on creating multiple forms with text input fields, let&rsquo;s create our own custom component that combines all of these items together.</p><p>We&rsquo;ll create a new component in the <code>src/components/forms/TextField.vue</code> with the following content:</p><div class=tab-panel data-tab-group=82c02971fb6a15be415a07edd11dcd52><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformstextfieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("82c02971fb6a15be415a07edd11dcd52","srccomponentsformstextfieldvue")'>
<span class=tab-nav-text>src/components/forms/TextField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformstextfieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Custom Text Form Field Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>FloatLabel</span><span class=p>,</span> <span class=nx>InputText</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Name
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>field</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Label
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>label</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Icon
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>icon</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Disable Editing
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>disabled</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nb>Boolean</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// V-model of the field to be edited
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>model</span> <span class=o>=</span> <span class=nx>defineModel</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>FloatLabel</span> <span class=na>variant</span><span class=o>=</span><span class=s>&#34;on&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>InputIcon</span> <span class=nt>:class</span><span class=o>=</span><span class=s>&#34;props.icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>InputText</span> <span class=nt>:id</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span> <span class=nt>:disabled</span><span class=o>=</span><span class=s>&#34;props.disabled&#34;</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;model&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>label</span> <span class=nt>:for</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span><span class=p>&gt;{{</span> <span class=nx>props</span><span class=p>.</span><span class=nx>label</span> <span class=p>}}&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>FloatLabel</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>This component includes a number of props that define the form field we want to create, and then puts them all together following the model provided in the PrimeVue documentation.</p><p>With that component in place, we can use it our <code>UserEdit</code> component to edit the user&rsquo;s username:</p><div class=tab-panel data-tab-group=a68326cdea1b2b4d549c84f07221d8f5><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("a68326cdea1b2b4d549c84f07221d8f5","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file User Edit Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>TextField</span> <span class=nx>from</span> <span class=s1>&#39;../forms/TextField.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;{{</span> <span class=nx>user</span> <span class=p>}}&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>TextField</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.username&#34; field=&#34;username&#34; label=&#34;Username&#34; icon=&#34;pi pi-user&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>For this example, we&rsquo;ve also added a <code>&lt;span></code> element showing the current contents of the <code>user</code> reactive state variable, just so we can see our form field in action. As we edit the data in the field, we can also see our <code>user</code> state variable update!</p><p><a href=#R-image-8328948516ab220c01ba460fd986b748 class=lightbox-link><img alt="Editing Username" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_edit1.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8328948516ab220c01ba460fd986b748><img alt="Editing Username" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_edit1.gif></a></p><p>Since we can easily just edit the user&rsquo;s username without changing any other fields, we can test this by adding a <strong>Save</strong> and <strong>Cancel</strong> button to our page:</p><div class=tab-panel data-tab-group=e4f0ad90571a2a0492f0e1777cd1ce5a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("e4f0ad90571a2a0492f0e1777cd1ce5a","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file User Edit Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Button</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>TextField</span> <span class=nx>from</span> <span class=s1>&#39;../forms/TextField.vue&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>useRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;{{</span> <span class=nx>user</span> <span class=p>}}&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>TextField</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.username&#34; field=&#34;username&#34; label=&#34;Username&#34; icon=&#34;pi pi-user&#34;</span><span class=p> /&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span> <span class=nt>@click</span><span class=s>=&#34;save&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Save&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;secondary&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;user&#39; })&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Cancel&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>The functionality of the <strong>Cancel</strong> button is pretty straightforward; it just uses the Vue Router to send the user back to the <code>/users</code> route. For the <strong>Save</strong> button, however, we need to implement a custom <code>save</code> function in our component to save the updated user:</p><div class=tab-panel data-tab-group=6f56e523918b9fa69188c4c4c298e24b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("6f56e523918b9fa69188c4c4c298e24b","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Save User
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>save</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>api</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s1>&#39;/api/v1/users/&#39;</span> <span class=o>+</span> <span class=nx>props</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>201</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;users&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With that code in place, we can click the <strong>Save</strong> button, and it should save our edit to the user&rsquo;s username and redirect us back to the <code>/users</code> route.</p><h2 id=toast-messages>Toast Messages</h2><p>However, there is no obvious visual cue that shows us the user was successfully saved, so our users may not really know if it worked or not. For that, we can use the <a href=https://primevue.org/toast/#position rel=external target=_blank>PrimeVue Toast</a> component to display messages to our users. To install it, we have to add a few lines to our <code>src/main.js</code> file:</p><div class=tab-panel data-tab-group=2a0322418ca319f276b66b12ba57442c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srcmainjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("2a0322418ca319f276b66b12ba57442c","srcmainjs")'>
<span class=tab-nav-text>src/main.js</span></button></div><div class=tab-content-container><div data-tab-item=srcmainjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Main Vue application
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>createApp</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>createPinia</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;pinia&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>PrimeVue</span> <span class=nx>from</span> <span class=s1>&#39;primevue/config&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Aura</span> <span class=nx>from</span> <span class=s1>&#39;@primeuix/themes/aura&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>Tooltip</span> <span class=nx>from</span> <span class=s1>&#39;primevue/tooltip&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>ToastService</span> <span class=nx>from</span> <span class=s1>&#39;primevue/toastservice&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import CSS
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=s1>&#39;./assets/main.css&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Vue App
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>App</span> <span class=nx>from</span> <span class=s1>&#39;./App.vue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Configurations
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>router</span> <span class=nx>from</span> <span class=s1>&#39;./router&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>setupAxios</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;./configs/api&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Create Vue App
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>app</span> <span class=o>=</span> <span class=nx>createApp</span><span class=p>(</span><span class=nx>App</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Install Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>createPinia</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>router</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>PrimeVue</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Theme Configuration
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>theme</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>preset</span><span class=o>:</span> <span class=nx>Aura</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>options</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>darkModeSelector</span><span class=o>:</span> <span class=s1>&#39;.app-dark-mode&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class="line hl"><span class=cl><span class=nx>app</span><span class=p>.</span><span class=nx>use</span><span class=p>(</span><span class=nx>ToastService</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Install Directives
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>directive</span><span class=p>(</span><span class=s1>&#39;tooltip&#39;</span><span class=p>,</span> <span class=nx>Tooltip</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Setup Interceptors
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>setupAxios</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Mount Vue App on page
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>app</span><span class=p>.</span><span class=nx>mount</span><span class=p>(</span><span class=s1>&#39;#app&#39;</span><span class=p>)</span></span></span></code></pre></div></div></div></div></div><p>Then, we can add our <code>&lt;Toast></code> element to the top-level <code>App.vue</code> page so it is available throughout our application:</p><div class=tab-panel data-tab-group=f8652aa960cd56021d8f164dc1a2df6a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=appvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("f8652aa960cd56021d8f164dc1a2df6a","appvue")'>
<span class=tab-nav-text>App.vue</span></button></div><div class=tab-content-container><div data-tab-item=appvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Main Vue Application
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Components
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>import</span> <span class=nx>Toast</span> <span class=nx>from</span> <span class=s1>&#39;primevue/toast&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>TopMenu</span> <span class=nx>from</span> <span class=s1>&#39;./components/layout/TopMenu.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>header</span><span class=p>&gt;&lt;/</span><span class=nt>header</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>nav</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nx>Navigation</span> <span class=nx>Menu</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>TopMenu</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>nav</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>main</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;m-2&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=c>&lt;!--</span> <span class=nx>Main</span> <span class=nx>Application</span> <span class=nx>View</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>RouterView</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>main</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>footer</span><span class=p>&gt;&lt;/</span><span class=nt>footer</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>Toast</span> <span class=na>position</span><span class=o>=</span><span class=s>&#34;bottom-right&#34;</span><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With that in place, we can use the <a href=https://primevue.org/toast/#toast-service rel=external target=_blank>ToastService</a> to display messages to our user from our <code>UserEdit</code> component:</p><div class=tab-panel data-tab-group=a1dccff25715144bffa69420574aa975><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("a1dccff25715144bffa69420574aa975","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file User Edit Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Button</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>TextField</span> <span class=nx>from</span> <span class=s1>&#39;../forms/TextField.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>useRouter</span><span class=p>()</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useToast</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue/usetoast&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>toast</span> <span class=o>=</span> <span class=nx>useToast</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Save User
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>save</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>api</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s1>&#39;/api/v1/users/&#39;</span> <span class=o>+</span> <span class=nx>props</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>201</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>toast</span><span class=p>.</span><span class=nx>add</span><span class=p>({</span> <span class=nx>severity</span><span class=o>:</span> <span class=s1>&#39;success&#39;</span><span class=p>,</span> <span class=nx>summary</span><span class=o>:</span> <span class=s2>&#34;Success&#34;</span><span class=p>,</span> <span class=nx>detail</span><span class=o>:</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>message</span><span class=p>,</span> <span class=nx>life</span><span class=o>:</span> <span class=mi>5000</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;users&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now, when we successfully edit a user, we&rsquo;ll see a pop-up message on the lower right of our screen showing that the user was successfully saved!</p><p><a href=#R-image-29fc12c37c5463a581051a86f4608324 class=lightbox-link><img alt="Saving User shows Toast Message" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_edit2.gif style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-29fc12c37c5463a581051a86f4608324><img alt="Saving User shows Toast Message" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_edit2.gif></a></p><h2 id=handling-errors>Handling Errors</h2><p>What if we try to edit our user and end up receiving an error from the server? What should we do in that instance?</p><p>Thankfully, our backend RESTful API is already configured to send helpful, well-structured error messages when things go wrong. So, we can take advantage of that in our frontend application to display errors for the user.</p><p>To use these error messages, in our <code>UserEdit</code> component, we just need to grab them and store them in a new reactive state variable that we share with all of our form components:</p><div class=tab-panel data-tab-group=74497ccfa29236f48f51d33f97ff57e9><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("74497ccfa29236f48f51d33f97ff57e9","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({})</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>errors</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Save User
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>save</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>errors</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>  <span class=nx>api</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>put</span><span class=p>(</span><span class=s1>&#39;/api/v1/users/&#39;</span> <span class=o>+</span> <span class=nx>props</span><span class=p>.</span><span class=nx>id</span><span class=p>,</span> <span class=nx>user</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>201</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>toast</span><span class=p>.</span><span class=nx>add</span><span class=p>({</span> <span class=nx>severity</span><span class=o>:</span> <span class=s1>&#39;success&#39;</span><span class=p>,</span> <span class=nx>summary</span><span class=o>:</span> <span class=s2>&#34;Success&#34;</span><span class=p>,</span> <span class=nx>detail</span><span class=o>:</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>message</span><span class=p>,</span> <span class=nx>life</span><span class=o>:</span> <span class=mi>5000</span> <span class=p>})</span>
</span></span><span class=line><span class=cl>        <span class=nx>router</span><span class=p>.</span><span class=nx>push</span><span class=p>({</span> <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;users&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>error</span><span class=p>.</span><span class=nx>status</span> <span class=o>===</span> <span class=mi>422</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>toast</span><span class=p>.</span><span class=nx>add</span><span class=p>({</span> <span class=nx>severity</span><span class=o>:</span> <span class=s1>&#39;warn&#39;</span><span class=p>,</span> <span class=nx>summary</span><span class=o>:</span> <span class=s2>&#34;Warning&#34;</span><span class=p>,</span> <span class=nx>detail</span><span class=o>:</span> <span class=nx>error</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>error</span><span class=p>,</span> <span class=nx>life</span><span class=o>:</span> <span class=mi>5000</span> <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>errors</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>error</span><span class=p>.</span><span class=nx>response</span><span class=p>.</span><span class=nx>data</span><span class=p>.</span><span class=nx>errors</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>        <span class=nx>toast</span><span class=p>.</span><span class=nx>add</span><span class=p>({</span> <span class=nx>severity</span><span class=o>:</span> <span class=s1>&#39;error&#39;</span><span class=p>,</span> <span class=nx>summary</span><span class=o>:</span> <span class=s2>&#34;Error&#34;</span><span class=p>,</span> <span class=nx>detail</span><span class=o>:</span> <span class=nx>error</span><span class=p>,</span> <span class=nx>life</span><span class=o>:</span> <span class=mi>5000</span> <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;{{</span> <span class=nx>user</span> <span class=p>}}&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>TextField</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.username&#34; field=&#34;username&#34; label=&#34;Username&#34; icon=&#34;pi pi-user&#34; :errors=&#34;errors&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span> <span class=nt>@click</span><span class=s>=&#34;save&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Save&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;secondary&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;users&#39; })&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Cancel&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Recall that these errors will have a standard structure, such as this:</p><div class=tab-panel data-tab-group=8c16e6fbcbf1deff049473abff409be2><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=validation-error-structure class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("8c16e6fbcbf1deff049473abff409be2","validation-error-structure")'>
<span class=tab-nav-text>Validation Error Structure</span></button></div><div class=tab-content-container><div data-tab-item=validation-error-structure class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;error&#34;</span><span class=p>:</span> <span class=s2>&#34;Validation Error&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;errors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;attribute&#34;</span><span class=p>:</span> <span class=s2>&#34;username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=s2>&#34;username must be unique&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div></div><p>So, in our <code>TextField.vue</code> component, we can look for any errors that match the <code>field</code> that the component is responsible for, and we can present those to the user.</p><div class=tab-panel data-tab-group=90d102237d83911f344696b34d80fcad><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformtextfieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("90d102237d83911f344696b34d80fcad","srccomponentsformtextfieldvue")'>
<span class=tab-nav-text>src/components/form/TextField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformtextfieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Custom Text Form Field Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>computed</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span><span class=p>;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>FloatLabel</span><span class=p>,</span> <span class=nx>InputText</span><span class=p>,</span> <span class=nx>Message</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Name
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>field</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Label
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>label</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Icon
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>icon</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Disable Editing
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>disabled</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nb>Boolean</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class="line hl"><span class=cl>  <span class=nx>errors</span><span class=o>:</span> <span class=nb>Array</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class="line hl"><span class=cl><span class=c1>// Find Error for Field
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>error</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>  <span class=k>return</span> <span class=nx>props</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>find</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>attribute</span> <span class=o>===</span> <span class=nx>props</span><span class=p>.</span><span class=nx>field</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// V-model of the field to be edited
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>model</span> <span class=o>=</span> <span class=nx>defineModel</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>FloatLabel</span> <span class=na>variant</span><span class=o>=</span><span class=s>&#34;on&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>InputIcon</span> <span class=nt>:class</span><span class=o>=</span><span class=s>&#34;props.icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>        <span class=p>&lt;</span><span class=nt>InputText</span> <span class=nt>:id</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span> <span class=nt>:disabled</span><span class=o>=</span><span class=s>&#34;props.disabled&#34;</span> <span class=nt>:invalid</span><span class=o>=</span><span class=s>&#34;error&#34;</span> <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;model&#34;</span><span class=p> /&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>label</span> <span class=nt>:for</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span><span class=p>&gt;{{</span> <span class=nx>props</span><span class=p>.</span><span class=nx>label</span> <span class=p>}}&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>FloatLabel</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=c>&lt;!--</span> <span class=nb>Error</span> <span class=nx>Text</span> <span class=o>--&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>Message</span> <span class=nt>v-if</span><span class=o>=</span><span class=s>&#34;error&#34; severity=&#34;error&#34; variant=&#34;simple&#34; size=&#34;small&#34;</span><span class=p>&gt;{{</span> <span class=na>error.message</span> <span class=p>}}&lt;/</span><span class=nt>Message</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>Now, when we enter an invalid username, we&rsquo;ll clearly see the error on our form:</p><p><a href=#R-image-f3388d4550832704cb088fd0789f27bb class=lightbox-link><img alt="Error Field" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_8.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f3388d4550832704cb088fd0789f27bb><img alt="Error Field" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_8.png></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=edit-roles>Edit Roles</h1><a href="https://www.youtube.com/watch?v=id">YouTube Video</a><h2 id=editing-roles>Editing Roles</h2><p>There are many different ways to edit the list of roles assigned to each user as well. One of the smoothest ways to select from a list of options is the <a href=https://primevue.org/autocomplete/ rel=external target=_blank>PrimeVue AutoComplete</a> component. Just like before, we can build our own version of this component that includes everything we included previously:</p><div class=tab-panel data-tab-group=cb3461b9eb86d870b7fe847418d53b1c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("cb3461b9eb86d870b7fe847418d53b1c","srccomponentsformsautocompletemultiplefieldvue")'>
<span class=tab-nav-text>src/components/forms/AutoCompleteMultipleField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file Custom Autocomplete Multiple Field Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>computed</span><span class=p>,</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>InputIcon</span><span class=p>,</span> <span class=nx>IconField</span><span class=p>,</span> <span class=nx>FloatLabel</span><span class=p>,</span> <span class=nx>AutoComplete</span><span class=p>,</span> <span class=nx>Message</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Name
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>field</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Label
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>label</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Field Icon
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>icon</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Disable Editing
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>disabled</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nb>Boolean</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=c1>//Values to choose from
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>values</span><span class=o>:</span> <span class=nb>Array</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Value Label
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>valueLabel</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>type</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span> <span class=s1>&#39;name&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nx>errors</span><span class=o>:</span> <span class=nb>Array</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Find Error for Field
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>error</span> <span class=o>=</span> <span class=nx>computed</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>props</span><span class=p>.</span><span class=nx>errors</span><span class=p>.</span><span class=nx>find</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>attribute</span> <span class=o>===</span> <span class=nx>props</span><span class=p>.</span><span class=nx>field</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// V-model of the field to be edited
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>model</span> <span class=o>=</span> <span class=nx>defineModel</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// State variable for search results
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>items</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Search method
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>search</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>event</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>event</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=nx>items</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>props</span><span class=p>.</span><span class=nx>values</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>v</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>v</span><span class=p>[</span><span class=nx>props</span><span class=p>.</span><span class=nx>valueLabel</span><span class=p>].</span><span class=nx>includes</span><span class=p>(</span><span class=nx>event</span><span class=p>.</span><span class=nx>query</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>items</span><span class=p>.</span><span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>FloatLabel</span> <span class=na>variant</span><span class=o>=</span><span class=s>&#34;on&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>InputIcon</span> <span class=nt>:class</span><span class=o>=</span><span class=s>&#34;props.icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>AutoComplete</span>
</span></span><span class=line><span class=cl>          <span class=nt>:optionLabel</span><span class=o>=</span><span class=s>&#34;props.valueLabel&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:id</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:disabled</span><span class=o>=</span><span class=s>&#34;props.disabled&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:invalid</span><span class=o>=</span><span class=s>&#34;error&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;model&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>          <span class=na>forceSelection</span>
</span></span><span class=line><span class=cl>          <span class=na>multiple</span>
</span></span><span class=line><span class=cl>          <span class=na>fluid</span>
</span></span><span class=line><span class=cl>          <span class=nt>:suggestions</span><span class=o>=</span><span class=s>&#34;items&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>@complete</span><span class=s>=&#34;search&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>label</span> <span class=nt>:for</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span><span class=p>&gt;{{</span> <span class=nx>props</span><span class=p>.</span><span class=nx>label</span> <span class=p>}}&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>FloatLabel</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nb>Error</span> <span class=nx>Text</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Message</span> <span class=nt>v-if</span><span class=o>=</span><span class=s>&#34;error&#34; severity=&#34;error&#34; variant=&#34;simple&#34; size=&#34;small&#34;</span><span class=p>&gt;{{</span>
</span></span><span class=line><span class=cl>      <span class=na>error.message</span>
</span></span><span class=line><span class=cl>    <span class=p>}}&lt;/</span><span class=nt>Message</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>This component is very similar to the previous one, but it includes a couple of extra props to control the value that is displayed to the user as well as a function to help search through the list of values.</p><p>To use it, we&rsquo;ll need to load all of the available roles in our <code>UserEdit.vue</code> component so we can pass that along to the new <code>AutoCompleteMultipleField</code> component:</p><div class=tab-panel data-tab-group=bf966fc190902cf2ae77a8548f73c2e3><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("bf966fc190902cf2ae77a8548f73c2e3","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>setup</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @file User Edit Component
</span></span></span><span class=line><span class=cl><span class=cm> * @author Russell Feldhausen &lt;russfeld@ksu.edu&gt;
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Import Libraries
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>import</span> <span class=p>{</span> <span class=nx>ref</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>api</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;@/configs/api&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>Button</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=nx>TextField</span> <span class=nx>from</span> <span class=s1>&#39;../forms/TextField.vue&#39;</span>
</span></span><span class="line hl"><span class=cl><span class=kr>import</span> <span class=nx>AutoCompleteMultipleField</span> <span class=nx>from</span> <span class=s1>&#39;../forms/AutoCompleteMultipleField.vue&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useRouter</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;vue-router&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>router</span> <span class=o>=</span> <span class=nx>useRouter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nx>useToast</span> <span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;primevue/usetoast&#39;</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>toast</span> <span class=o>=</span> <span class=nx>useToast</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Incoming Props
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>props</span> <span class=o>=</span> <span class=nx>defineProps</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=c1>// User ID
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=nx>id</span><span class=o>:</span> <span class=nb>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Declare State
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>({})</span>
</span></span><span class="line hl"><span class=cl><span class=kr>const</span> <span class=nx>roles</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>errors</span> <span class=o>=</span> <span class=nx>ref</span><span class=p>([])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class="line hl"><span class=cl><span class=c1>// Load Roles
</span></span></span><span class="line hl"><span class=cl><span class=c1></span><span class=nx>api</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s1>&#39;/api/v1/roles&#39;</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=nx>then</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>roles</span><span class=p>.</span><span class=nx>value</span> <span class=o>=</span> <span class=nx>response</span><span class=p>.</span><span class=nx>data</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>.</span><span class=k>catch</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class="line hl"><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>error</span><span class=p>)</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// -=-=- other code omitted here -=-=-
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>{{</span> <span class=nx>user</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>TextField</span>
</span></span><span class=line><span class=cl>    <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.username&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>    <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>label</span><span class=o>=</span><span class=s>&#34;Username&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-user&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>AutoCompleteMultipleField</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.roles&#34;</span><span class=p>
</span></span></span><span class="line hl"><span class=cl><span class=p></span>    <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>label</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-id-card&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=nt>:values</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class="line hl"><span class=cl>    <span class=na>valueLabel</span><span class=o>=</span><span class=s>&#34;role&#34;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span> <span class=nt>@click</span><span class=s>=&#34;save&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Save&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;secondary&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;users&#39; })&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Cancel&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With that in place, we can now see a new field to edit a user&rsquo;s roles:</p><p><a href=#R-image-d3497d47a5412297791ef79b00dada27 class=lightbox-link><img alt=Roles class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_9.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d3497d47a5412297791ef79b00dada27><img alt=Roles class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_9.png></a></p><p>As we can see, however, the AutoComplete field for PrimeVue doesn&rsquo;t quite support having an icon in front of it. Thankfully, we can easily fix that in our CSS by just finding the offset used in the other fields:</p><p><a href=#R-image-0917adf9701280521883f20add207406 class=lightbox-link><img alt="CSS Offset" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_10.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0917adf9701280521883f20add207406><img alt="CSS Offset" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_10.png></a></p><p>Once we have that, we can add it to our new AutoComplete component in a <code>&lt;style scoped></code> section that references the correct class:</p><div class=tab-panel data-tab-group=5e87bb5bcf785f464765f13552a4bbfb><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("5e87bb5bcf785f464765f13552a4bbfb","srccomponentsformsautocompletemultiplefieldvue")'>
<span class=tab-nav-text>src/components/forms/AutoCompleteMultipleField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformsautocompletemultiplefieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span> <span class=na>scoped</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>:</span><span class=nx>deep</span><span class=p>(.</span><span class=nx>p</span><span class=o>-</span><span class=nx>autocomplete</span> <span class=o>&gt;</span> <span class=nx>ul</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>padding</span><span class=o>-</span><span class=nx>inline</span><span class=o>-</span><span class=nx>start</span><span class=o>:</span> <span class=nx>calc</span><span class=p>((</span><span class=kd>var</span><span class=p>(</span><span class=o>--</span><span class=nx>p</span><span class=o>-</span><span class=nx>form</span><span class=o>-</span><span class=nx>field</span><span class=o>-</span><span class=nx>padding</span><span class=o>-</span><span class=nx>x</span><span class=p>)</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=kd>var</span><span class=p>(</span><span class=o>--</span><span class=nx>p</span><span class=o>-</span><span class=nx>icon</span><span class=o>-</span><span class=nx>size</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>That will fix the padding for our icon to show up properly!</p><p><a href=#R-image-394cabfb0a74eaeb623aa2d72f212852 class=lightbox-link><img alt="CSS Offset" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_11.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-394cabfb0a74eaeb623aa2d72f212852><img alt="CSS Offset" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_11.png></a></p><p>At this point, we can easily add and remove roles for this user. We can even click the save button and it should work as intended! No extra code is needed. So, we can remove the extra line in the <code>&lt;template></code> of our <code>UserEdit.vue</code> component to remove the debugging information.</p><h2 id=styling>Styling</h2><p>Finally, we can use some quick CSS styling to update the content of our <code>UserEdit.vue</code> page to be a bit easier to follow.</p><div class=tab-panel data-tab-group=099b7a3579e1c3471ffda4b6db651dca><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsusersusereditvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("099b7a3579e1c3471ffda4b6db651dca","srccomponentsusersusereditvue")'>
<span class=tab-nav-text>src/components/users/UserEdit.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsusersusereditvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex flex-col gap-3 max-w-xl justify-items-center&#34;</span><span class=p>&gt;</span>
</span></span><span class="line hl"><span class=cl>    <span class=p>&lt;</span><span class=nt>h1</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;text-xl text-center m-1&#34;</span><span class=p>&gt;</span><span class=nx>Edit</span> <span class=nx>User</span><span class=p>&lt;/</span><span class=nt>h1</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>TextField</span>
</span></span><span class=line><span class=cl>      <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.username&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>      <span class=na>field</span><span class=o>=</span><span class=s>&#34;username&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>label</span><span class=o>=</span><span class=s>&#34;Username&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-user&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>AutoCompleteMultipleField</span>
</span></span><span class=line><span class=cl>      <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;user.roles&#34;</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span>      <span class=na>field</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>label</span><span class=o>=</span><span class=s>&#34;Roles&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>icon</span><span class=o>=</span><span class=s>&#34;pi pi-id-card&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nt>:errors</span><span class=o>=</span><span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nt>:values</span><span class=o>=</span><span class=s>&#34;roles&#34;</span>
</span></span><span class=line><span class=cl>      <span class=na>valueLabel</span><span class=o>=</span><span class=s>&#34;role&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;success&#34;</span> <span class=nt>@click</span><span class=s>=&#34;save&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Save&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Button</span> <span class=na>severity</span><span class=o>=</span><span class=s>&#34;secondary&#34;</span> <span class=err>@</span><span class=na>click</span><span class=o>=</span><span class=s>&#34;router.push({ name: &#39;users&#39; })&#34;</span> <span class=na>label</span><span class=o>=</span><span class=s>&#34;Cancel&#34;</span> <span class=p>/&gt;</span>
</span></span><span class="line hl"><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>We can also add a <code>w-full</code> class to our <code>TextField</code> component to expand that field to fit the surrounding components:</p><div class=tab-panel data-tab-group=9fa07341061793c66d90a817ff8551fe><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=srccomponentsformstextfieldvue class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("9fa07341061793c66d90a817ff8551fe","srccomponentsformstextfieldvue")'>
<span class=tab-nav-text>src/components/forms/TextField.vue</span></button></div><div class=tab-content-container><div data-tab-item=srccomponentsformstextfieldvue class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-vue data-lang=vue><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>template</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>FloatLabel</span> <span class=na>variant</span><span class=o>=</span><span class=s>&#34;on&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>InputIcon</span> <span class=nt>:class</span><span class=o>=</span><span class=s>&#34;props.icon&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>InputText</span>
</span></span><span class=line><span class=cl>          <span class=nt>:id</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:disabled</span><span class=o>=</span><span class=s>&#34;props.disabled&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>:invalid</span><span class=o>=</span><span class=s>&#34;error&#34;</span>
</span></span><span class=line><span class=cl>          <span class=nt>v-model</span><span class=o>=</span><span class=s>&#34;model&#34;</span><span class=p>
</span></span></span><span class="line hl"><span class=cl><span class=p></span>          <span class=na>class</span><span class=o>=</span><span class=s>&#34;w-full&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>IconField</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>label</span> <span class=nt>:for</span><span class=o>=</span><span class=s>&#34;props.field&#34;</span><span class=p>&gt;{{</span> <span class=nx>props</span><span class=p>.</span><span class=nx>label</span> <span class=p>}}&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>FloatLabel</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!--</span> <span class=nb>Error</span> <span class=nx>Text</span> <span class=o>--&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>Message</span> <span class=nt>v-if</span><span class=o>=</span><span class=s>&#34;error&#34; severity=&#34;error&#34; variant=&#34;simple&#34; size=&#34;small&#34;</span><span class=p>&gt;{{</span>
</span></span><span class=line><span class=cl>      <span class=na>error.message</span>
</span></span><span class=line><span class=cl>    <span class=p>}}&lt;/</span><span class=nt>Message</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>template</span><span class=p>&gt;</span></span></span></code></pre></div></div></div></div></div><p>With all of that in place, we have a nice looking form to edit our users!</p><p><a href=#R-image-b029c4bc99ae4864686984595e739e8f class=lightbox-link><img alt="CSS Offset" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/06/vue_crud_12.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b029c4bc99ae4864686984595e739e8f><img alt="CSS Offset" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/06/vue_crud_12.png></a></p><footer class=footline></footer></article></section></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis526/commit/eab4787eeb0b013f81af1812b804dc69fe85d9bd>Mar 3, 2025</a></p></div></div><script src=/cis526/js/clipboard.min.js?1744419072 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1744419072 defer></script><script src=/cis526/js/theme.js?1744419072 defer></script></body></html>