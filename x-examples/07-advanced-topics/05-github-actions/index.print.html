<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="YouTube Video GitHub Actions The last step in configuring our application for deployment is to create a GitHub Action that will automatically build our Docker container when we commit a release tag to GitHub. This process will ensure that our image is always up to date and available for users to download and use.
Learning how to build a GitHub Action script could be an entire course unto itself. For this project, weâ€™ll run through the basic steps used to test and build our applicationâ€™s Docker image, but there are many more steps that could be added."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="GitHub Actions :: CIS 526 Textbook"><meta name=twitter:description content="YouTube Video GitHub Actions The last step in configuring our application for deployment is to create a GitHub Action that will automatically build our Docker container when we commit a release tag to GitHub. This process will ensure that our image is always up to date and available for users to download and use.
Learning how to build a GitHub Action script could be an entire course unto itself. For this project, weâ€™ll run through the basic steps used to test and build our applicationâ€™s Docker image, but there are many more steps that could be added."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/07-advanced-topics/05-github-actions/"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="GitHub Actions :: CIS 526 Textbook"><meta property="og:description" content="YouTube Video GitHub Actions The last step in configuring our application for deployment is to create a GitHub Action that will automatically build our Docker container when we commit a release tag to GitHub. This process will ensure that our image is always up to date and available for users to download and use.
Learning how to build a GitHub Action script could be an entire course unto itself. For this project, weâ€™ll run through the basic steps used to test and build our applicationâ€™s Docker image, but there are many more steps that could be added."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-05-06T12:42:18-05:00"><meta itemprop=name content="GitHub Actions :: CIS 526 Textbook"><meta itemprop=description content="YouTube Video GitHub Actions The last step in configuring our application for deployment is to create a GitHub Action that will automatically build our Docker container when we commit a release tag to GitHub. This process will ensure that our image is always up to date and available for users to download and use.
Learning how to build a GitHub Action script could be an entire course unto itself. For this project, weâ€™ll run through the basic steps used to test and build our applicationâ€™s Docker image, but there are many more steps that could be added."><meta itemprop=dateModified content="2025-05-06T12:42:18-05:00"><meta itemprop=wordCount content="906"><title>GitHub Actions :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/x-examples/07-advanced-topics/05-github-actions/ rel=canonical type=text/html title="GitHub Actions :: CIS 526 Textbook"><link href=/cis526/x-examples/07-advanced-topics/05-github-actions/index.xml rel=alternate type=application/rss+xml title="GitHub Actions :: CIS 526 Textbook"><link href=/cis526/x-examples/07-advanced-topics/05-github-actions/tele.html rel=alternate type=text/html title="GitHub Actions :: CIS 526 Textbook"><link href=/cis526/x-examples/07-advanced-topics/05-github-actions/embed.html rel=alternate type=text/html title="GitHub Actions :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1747410760 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1747410760 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1747410760 rel=stylesheet><link href=/cis526/css/auto-complete.css?1747410760 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1747410760 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1747410760 rel=stylesheet><link href=/cis526/css/fonts.css?1747410760 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1747410760 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1747410760 rel=stylesheet><link href=/cis526/css/theme-auto.css?1747410760 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-auto.css?1747410760 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1747410760 rel=stylesheet><link href=/cis526/css/print.css?1747410760 rel=stylesheet media=print><link href=/cis526/css/format-print.css?1747410760 rel=stylesheet><script src=/cis526/js/variant.js?1747410760></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1747410760 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis526/x-examples/07-advanced-topics/05-github-actions/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/x-examples/><span itemprop=name>Example Projects</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/x-examples/07-advanced-topics/><span itemprop=name>Advanced Topics</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>GitHub Actions</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/07-advanced-topics/04-docker/ title="Dockerfile (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/x-examples/07-advanced-topics/06-compose/ title="Docker Compose (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=github-actions>GitHub Actions</h1><a href="https://www.youtube.com/watch?v=HRYpkcwdyIw">YouTube Video</a><h2 id=github-actions>GitHub Actions</h2><p>The last step in configuring our application for deployment is to create a <a href=https://github.com/features/actions rel=external target=_blank>GitHub Action</a> that will automatically build our Docker container when we commit a release tag to GitHub. This process will ensure that our image is always up to date and available for users to download and use.</p><p>Learning how to build a GitHub Action script could be an entire course unto itself. For this project, we&rsquo;ll run through the basic steps used to test and build our application&rsquo;s Docker image, but there are many more steps that could be added. For example, we could have GitHub automatically run our test scripts before building the image, preventing any broken images if the tests aren&rsquo;t passing. We can also add options to automatically deploy our image to our hosting service whenever it is updated. We can even have it send us a message on our messaging platform of choice when it is done building. Feel free to read up on all of the different actions available in the <a href="https://github.com/marketplace?type=actions" rel=external target=_blank>GitHub Actions Marketplace</a>.</p><h2 id=build-docker-action>Build Docker Action</h2><p>To create this GitHub action, we&rsquo;ll place a file named <code>build_docker.yml</code> in the <code>.github/workflows</code> directory at the very top level of our project.</p><p>We&rsquo;ll start with a name for the workflow, as well as a list of triggers that will start the workflow when a particular action is taken on our GitHub repository:</p><div class=tab-panel data-tab-group=b44e34233a81fd134c30cef5a9d9a08d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=githubworkflowsbuild_dockeryml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("b44e34233a81fd134c30cef5a9d9a08d","githubworkflowsbuild_dockeryml")'>
<span class=tab-nav-text>.github/workflows/build_docker.yml</span></button></div><div class=tab-content-container><div data-tab-item=githubworkflowsbuild_dockeryml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># Workflow name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Docker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Run only on new tags being pushed</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># https://docs.github.com/en/actions/using-workflows/triggering-a-workflow</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;v*.*.*&#39;</span></span></span></code></pre></div></div></div></div></div><p>Next, we&rsquo;ll define the jobs to be executed as part of this GitHub Action. In this case, we&rsquo;ll only have a single job, <code>build</code>, which will build our Docker image. For that job, we&rsquo;ll use <a href=https://docs.github.com/en/actions/using-github-hosted-runners/using-github-hosted-runners/about-github-hosted-runners rel=external target=_blank>GitHub&rsquo;s Ubuntu Job Runner</a>, but there are many different options available for us.</p><div class=tab-panel data-tab-group=4902eda4e8decf4ede90d649e6e44d8b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=githubworkflowsbuild_dockeryml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("4902eda4e8decf4ede90d649e6e44d8b","githubworkflowsbuild_dockeryml")'>
<span class=tab-nav-text>.github/workflows/build_docker.yml</span></button></div><div class=tab-content-container><div data-tab-item=githubworkflowsbuild_dockeryml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># Workflow name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Docker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Run only on new tags being pushed</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># https://docs.github.com/en/actions/using-workflows/triggering-a-workflow</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;v*.*.*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Define a single job named build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Run job on Ubuntu runner</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span></span></span></code></pre></div></div></div></div></div><p>Following that, we&rsquo;ll list the steps required to complete the job. Each step is documented with a link to the documentation for that step.</p><div class=tab-panel data-tab-group=adcdec62facedcbd40fe3ca662c2b3f8><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=githubworkflowsbuild_dockeryml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("adcdec62facedcbd40fe3ca662c2b3f8","githubworkflowsbuild_dockeryml")'>
<span class=tab-nav-text>.github/workflows/build_docker.yml</span></button></div><div class=tab-content-container><div data-tab-item=githubworkflowsbuild_dockeryml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=c># Workflow name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build Docker</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Run only on new tags being pushed</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># https://docs.github.com/en/actions/using-workflows/triggering-a-workflow</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;v*.*.*&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># Define a single job named build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Run job on Ubuntu runner</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c># Job Steps</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Step 1 - Checkout the Repository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># https://github.com/actions/checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w> </span>- <span class=l>Checkout Repository</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Step 2 - Log In to GitHub Container Registry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># https://github.com/docker/login-action</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=m>2</span><span class=w> </span>- <span class=l>Login to GitHub Container Registry</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>docker/login-action@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>registry</span><span class=p>:</span><span class=w> </span><span class=l>ghcr.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.repository_owner }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.GITHUB_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Step 3 - Build and Push Docker Image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># https://github.com/docker/build-push-action</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=m>3</span><span class=w> </span>- <span class=l>Build and Push Docker Image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>docker/build-push-action@v6</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>context</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>push</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            ghcr.io/${{ github.repository }}:${{ github.ref_name }}
</span></span></span><span class=line><span class=cl><span class=sd>            ghcr.io/${{ github.repository }}:latest</span><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Step 4 - Make Release on GitHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># https://github.com/softprops/action-gh-release</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=m>4</span><span class=w> </span>- <span class=l>Release</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>softprops/action-gh-release@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>generate_release_notes</span><span class=p>:</span><span class=w> </span><span class=kc>true</span></span></span></code></pre></div></div></div></div></div><p>As we can see, the basic steps are as follows:</p><ol><li>Checkout the current GitHub repository code</li><li>Connect to the GitHub Container Registry to store the image</li><li>Build and Push the Docker Image to the GitHub Container Registry</li><li>Create a Release on GitHub with the version information</li></ol><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Handling Uppercase Repository Names</div><div class=box-content><p>GitHub is case-preserving, and allows repository names and usernames to include uppercase letters. However, Docker tags must be lowercase, so any repository names with uppercase letters will cause issues with this process.</p><p>To solve this, we can add a new step to convert our repository name to lowercase:</p><div class=tab-panel data-tab-group=240629e7a38b4980c05c5381d3147a95><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=githubworkflowsbuild_dockeryml class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("240629e7a38b4980c05c5381d3147a95","githubworkflowsbuild_dockeryml")'>
<span class=tab-nav-text>.github/workflows/build_docker.yml</span></button></div><div class=tab-content-container><div data-tab-item=githubworkflowsbuild_dockeryml class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=w>      </span><span class=c># Step 3a - Get Lowercase Repository Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># See https://github.com/orgs/community/discussions/27086</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>3a - Get Lowercase Repository Name</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;REPO_LOWER=${GITHUB_REPOSITORY,,}&#34; &gt;&gt; ${GITHUB_ENV}</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Step 3b - Build and Push Docker Image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># https://github.com/docker/build-push-action</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>3b - Build and Push Docker Image</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>docker/build-push-action@v6</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>context</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>push</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>            ghcr.io/${{ env.REPO_LOWER }}:${{ github.ref_name }}
</span></span></span><span class=line><span class=cl><span class=sd>            ghcr.io/${{ env.REPO_LOWER }}:latest</span><span class=w>            </span></span></span></code></pre></div></div></div></div></div><p>Alternatively, much of this is also handled by the <a href=https://github.com/docker/metadata-action rel=external target=_blank>Docker Metadata Action</a>, which can be used to automatically configure tags and labels attached to a Docker container built by a GitHub action. For larger-scale projects, adding the Docker Metadata Action to this process is a helpful step.</p></div></div><h2 id=triggering-a-release>Triggering a Release</h2><p>Before we can trigger this workflow, we should commit and push it to GitHub along with our <code>Dockerfile</code> from the previous page.</p><p>Once we have done that, we can create a new <a href=https://semver.org/ rel=external target=_blank>Semantic Versioning</a>, or SemVer, style release tag and push it to GitHub:</p><div class=tab-panel data-tab-group=4f566dd25bf8bb468eaa49d1fc2dd5c8><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=terminal class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("4f566dd25bf8bb468eaa49d1fc2dd5c8","terminal")'>
<span class=tab-nav-text>terminal</span></button></div><div class=tab-content-container><div data-tab-item=terminal class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git tag v0.0.1
</span></span><span class=line><span class=cl>$ git push --tags</span></span></code></pre></div></div></div></div></div><p>When we do so, we can go back to our GitHub repository and check for a small yellow circle to appear at the top of our code, which shows that the GitHub Action is executing</p><p><a href=#R-image-307fbe18c1bf289daeef4b7cead6e7b8 class=lightbox-link><img alt="Running Action" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/07/deploy_4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-307fbe18c1bf289daeef4b7cead6e7b8><img alt="Running Action" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/07/deploy_4.png></a></p><p>After a minute or so, we can refresh the page to see a green checkmark in its place, as well as additional information on the right side of the page showing the release version and a link to the newly built Docker container stored in the GitHub Container Registry.</p><p><a href=#R-image-112ad75d8a4281e7307590db4dabd02e class=lightbox-link><img alt="Completed Build" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/07/deploy_5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-112ad75d8a4281e7307590db4dabd02e><img alt="Completed Build" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/07/deploy_5.png></a></p><p>If we click on that link, we can find information about how to actually pull and use that Docker container in our deployment environment:</p><p><a href=#R-image-9b58e80c80c18734bdf14bbb18d84769 class=lightbox-link><img alt="Final Container" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/examples/07/deploy_6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9b58e80c80c18734bdf14bbb18d84769><img alt="Final Container" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/examples/07/deploy_6.png></a></p><p>There we go! We now have a working Docker container for our application.</p><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis526/commit/c505225e57d69ff7ccae2d87c962596b2f34e3b2>May 6, 2025</a></p></div></div><script src=/cis526/js/clipboard.min.js?1747410760 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1747410760 defer></script><script src=/cis526/js/theme.js?1747410760 defer></script></body></html>