<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="YouTube Video OpenAPI Documentation There are many different ways to document the features of a RESTful web application. One of the most commonly used methods is the OpenAPI Specification (OAS). OpenAPI was originally based on the Swagger specification, so we’ll sometimes still see references to the name Swagger in online resources.
At its core, the OpenAPI Specification defines a way to describe the functionality of a RESTful web application in a simple document format, typically structured as a JSON or YAML file. For example, we can find an example YAML file for a Petstore API that is commonly cited as an example project for understanding the OpenAPI Specification format."><meta name=author content="Nathan Bean & Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta name=twitter:title content="OpenAPI Documentation :: CIS 526 Textbook"><meta name=twitter:description content="YouTube Video OpenAPI Documentation There are many different ways to document the features of a RESTful web application. One of the most commonly used methods is the OpenAPI Specification (OAS). OpenAPI was originally based on the Swagger specification, so we’ll sometimes still see references to the name Swagger in online resources.
At its core, the OpenAPI Specification defines a way to describe the functionality of a RESTful web application in a simple document format, typically structured as a JSON or YAML file. For example, we can find an example YAML file for a Petstore API that is commonly cited as an example project for understanding the OpenAPI Specification format."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/x-examples/01-express-starter/08-open-api/index.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="OpenAPI Documentation :: CIS 526 Textbook"><meta property="og:description" content="YouTube Video OpenAPI Documentation There are many different ways to document the features of a RESTful web application. One of the most commonly used methods is the OpenAPI Specification (OAS). OpenAPI was originally based on the Swagger specification, so we’ll sometimes still see references to the name Swagger in online resources.
At its core, the OpenAPI Specification defines a way to describe the functionality of a RESTful web application in a simple document format, typically structured as a JSON or YAML file. For example, we can find an example YAML file for a Petstore API that is commonly cited as an example project for understanding the OpenAPI Specification format."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Example Projects"><meta property="article:modified_time" content="2025-03-06T15:49:16-06:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta itemprop=name content="OpenAPI Documentation :: CIS 526 Textbook"><meta itemprop=description content="YouTube Video OpenAPI Documentation There are many different ways to document the features of a RESTful web application. One of the most commonly used methods is the OpenAPI Specification (OAS). OpenAPI was originally based on the Swagger specification, so we’ll sometimes still see references to the name Swagger in online resources.
At its core, the OpenAPI Specification defines a way to describe the functionality of a RESTful web application in a simple document format, typically structured as a JSON or YAML file. For example, we can find an example YAML file for a Petstore API that is commonly cited as an example project for understanding the OpenAPI Specification format."><meta itemprop=dateModified content="2025-03-06T15:49:16-06:00"><meta itemprop=wordCount content="1282"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><title>OpenAPI Documentation :: CIS 526 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis526/x-examples/01-express-starter/08-open-api/index.html rel=canonical type=text/html title="OpenAPI Documentation :: CIS 526 Textbook"><link href=/cis526/x-examples/01-express-starter/08-open-api/index.xml rel=alternate type=application/rss+xml title="OpenAPI Documentation :: CIS 526 Textbook"><link href=/cis526/x-examples/01-express-starter/08-open-api/index.print.html rel=alternate type=text/html title="OpenAPI Documentation :: CIS 526 Textbook"><link href=/cis526/x-examples/01-express-starter/08-open-api/embed.html rel=alternate type=text/html title="OpenAPI Documentation :: CIS 526 Textbook"><link href=/cis526/css/auto-complete/auto-complete.min.css?1770225504 rel=stylesheet><script src=/cis526/js/auto-complete/auto-complete.min.js?1770225504 defer></script><script src=/cis526/js/search-lunr.min.js?1770225504 defer></script><script src=/cis526/js/search.min.js?1770225504 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis526/searchindex.en.js?1770225504"</script><script src=/cis526/js/lunr/lunr.min.js?1770225504 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1770225504 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1770225504 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1770225504 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1770225504 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1770225504 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar/perfect-scrollbar.min.css?1770225504 rel=stylesheet><link href=/cis526/css/theme.min.css?1770225504 rel=stylesheet><link href=/cis526/css/format-html.min.css?1770225504 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/x-examples/01-express-starter/08-open-api/index.html",window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis526/css/custom.css?1770225504 rel=stylesheet></head><body class="mobile-support html" data-url=/cis526/x-examples/01-express-starter/08-open-api/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable x-examples" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=openapi-documentation>OpenAPI Documentation</h1><a href="https://www.youtube.com/watch?v=MW-NA86npRw">YouTube Video</a><h2 id=openapi-documentation>OpenAPI Documentation</h2><p>There are many different ways to document the features of a RESTful web application. One of the most commonly used methods is the <a href=https://www.openapis.org/ rel=external target=_blank>OpenAPI Specification (OAS)</a>. OpenAPI was originally based on the Swagger specification, so we&rsquo;ll sometimes still see references to the name Swagger in online resources.</p><p>At its core, the OpenAPI Specification defines a way to describe the functionality of a RESTful web application in a simple document format, typically structured as a JSON or YAML file. For example, we can find an example YAML file for a <a href=https://github.com/swagger-api/swagger-petstore/blob/master/src/main/resources/openapi.yaml rel=external target=_blank>Petstore API</a> that is commonly cited as an example project for understanding the OpenAPI Specification format.</p><p>That file can then be parsed and rendered as an interactive documentation website for developers and users of the API itself. So, we can find a current version of the <a href=https://petstore3.swagger.io/ rel=external target=_blank>Petstore API Documentation</a> online and compare it to the YAML document to see how it works.</p><p>For more information on the OpenAPI Specification, consult their <a href=https://learn.openapis.org/ rel=external target=_blank>Getting Started</a> page.</p><h2 id=configuration-openapi>Configuration OpenAPI</h2><p>For our project, we are going to take advantage of two helpful libraries to automatically generate and serve OpenAPI documentation for our code using documentation comments:</p><ul><li><a href=https://www.npmjs.com/package/swagger-jsdoc rel=external target=_blank>swagger-jsdoc</a> - generates OpenAPI Specification based on JSDoc comments.</li><li><a href=https://www.npmjs.com/package/swagger-ui-express rel=external target=_blank>swagger-ui-express</a> - serves an OpenAPI Documentation page based on the specification generated by other tools.</li></ul><p>First, let&rsquo;s install both of those libraries into our project:</p><div class=tab-panel data-tab-group=05e71d7465acefe780a98a8585e5e221><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=terminal class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("05e71d7465acefe780a98a8585e5e221","terminal")'>
<span class=tab-nav-text>terminal</span></button></div><div class=tab-content-container><div data-tab-item=terminal class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm install swagger-jsdoc swagger-ui-express</span></span></code></pre></div></div></div></div></div><p>Next, we should create a configuration file for the <code>swagger-jsdoc</code> library that contains some basic information about our API. We can store that in the <code>configs/openapi.js</code> file with the following content:</p><div class=tab-panel data-tab-group=960b93700fb7d6d2b9ed16219cfa09cf><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=configsopenapijs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("960b93700fb7d6d2b9ed16219cfa09cf","configsopenapijs")'>
<span class=tab-nav-text>configs/openapi.js</span></button></div><div class=tab-content-container><div data-tab-item=configsopenapijs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>swaggerJSDoc</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;swagger-jsdoc&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>url</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>OPENAPI_HOST</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>OPENAPI_HOST</span>
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>port</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>PORT</span> <span style=color:#f92672>||</span> <span style=color:#e6db74>&#39;3000&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span><span style=color:#e6db74>`http://localhost:</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>port</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>options</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>definition</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>openapi</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;3.1.0&#39;</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>info</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Example Project&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>version</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;0.0.1&#39;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Example Project&#39;</span>,
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>servers</span><span style=color:#f92672>:</span> [
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>url</span>(),
</span></span><span style=display:flex><span>      },
</span></span><span style=display:flex><span>    ],
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>apis</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;./routes/*.js&#39;</span>],
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>swaggerJSDoc</span>(<span style=color:#a6e22e>options</span>)</span></span></code></pre></div></div></div></div></div><p>Let&rsquo;s look at a few items in this file to see what it does:</p><ul><li><code>url()</code> - this function checks for the <code>OPENAPI_HOST</code> environment variable. If that is set, then it will use that value. Otherwise, it uses a sensible default value of <code>http://localhost:3000</code> or whatever port is set in the environment.</li><li><code>options</code> - the <code>options</code> object is used to configure the <code>swagger-jsdoc</code> library. We can read more about how to configure that library in the <a href=https://www.npmjs.com/package/swagger-jsdoc rel=external target=_blank>documentation</a>. At a minimum, it provides some basic information about the API, as well as the URL where the API is located, and a list of source files to read information from. For now, we only want to read from the routes stored in the <code>routes</code> folder, so we include that path along with a wildcard filename.</li></ul><p>We should also take a minute to add the <code>OPENAPI_HOST</code> environment variable to our <code>.env</code> and <code>.env.example</code> files. If we are running our application locally, we can figure out what this value should be pretty easily (usually it will look similar to <code>http://localhost:3000</code> or similar). However, when we are running in GitHub Codespaces, our URL changes each time. Thankfully, we can find all the information we need in the environment variables provided by GitHub Codespaces (see the previous page for a full list).</p><p>So, the item we need to add to our <code>.env</code> file will look something like this:</p><div class=tab-panel data-tab-group=5d078055b1294d629a2cc302875e74f9><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=env class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("5d078055b1294d629a2cc302875e74f9","env")'>
<span class=tab-nav-text>.env</span></button></div><div class=tab-content-container><div data-tab-item=env class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env><span style=display:flex><span>LOG_LEVEL<span style=color:#f92672>=</span>debug
</span></span><span style=display:flex><span>PORT<span style=color:#f92672>=</span><span style=color:#ae81ff>3000</span>
</span></span><span style=display:flex><span>OPENAPI_HOST<span style=color:#f92672>=</span>https://$CODESPACE_NAME-$PORT.$GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN</span></span></code></pre></div></div></div></div></div><p>This is one of the key features of the <code>dotenvx</code> library we are using - it will <strong>expand</strong> environment variables based on the existing environment. So, we are using the values stored in the <code>CODESPACE_NAME</code>, <code>PORT</code>, and <code>GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN</code> environment variables to construct the appropriate URL for our application.</p><p>In our <code>.env.example</code> file, we might want to make a note of this in a comment, just to be helpful for future developers. Comments in the <code>.env</code> file format are prefixed with hashes <code>#</code>.</p><div class=tab-panel data-tab-group=3f17ae1ef75c4523d2f91be215ff4f4c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=envexample class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("3f17ae1ef75c4523d2f91be215ff4f4c","envexample")'>
<span class=tab-nav-text>.env.example</span></button></div><div class=tab-content-container><div data-tab-item=envexample class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env><span style=display:flex><span>LOG_LEVEL<span style=color:#f92672>=</span>debug
</span></span><span style=display:flex><span>PORT<span style=color:#f92672>=</span><span style=color:#ae81ff>3000</span>
</span></span><span style=display:flex><span>OPENAPI_HOST<span style=color:#f92672>=</span>http://localhost:3000
</span></span><span style=display:flex><span><span style=color:#75715e># For GitHub Codespaces</span>
</span></span><span style=display:flex><span><span style=color:#75715e># OPENAPI_HOST=https://$CODESPACE_NAME-$PORT.$GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN</span></span></span></code></pre></div></div></div></div></div><p>Once that configuration is created, we can add it to our <code>app.js</code> file, along with a few lines to actually make the documentation visible:</p><div class=tab-panel data-tab-group=46b1b775a8e0f464697e1a97b3d14d7f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=appjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("46b1b775a8e0f464697e1a97b3d14d7f","appjs")'>
<span class=tab-nav-text>app.js</span></button></div><div class=tab-content-container><div data-tab-item=appjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#39;@dotenvx/dotenvx/config&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>express</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;express&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>path</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;path&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>cookieParser</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;cookie-parser&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>compression</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;compression&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>helmet</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;helmet&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>requestLogger</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./middlewares/request-logger.js&#39;</span>;
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>logger</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./configs/logger.js&#39;</span>;
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>openapi</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./configs/openapi.js&#39;</span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>swaggerUi</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;swagger-ui-express&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>indexRouter</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./routes/index.js&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>usersRouter</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;./routes/users.js&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>express</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>helmet</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>compression</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>requestLogger</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>express</span>.<span style=color:#a6e22e>json</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>express</span>.<span style=color:#a6e22e>urlencoded</span>({ <span style=color:#a6e22e>extended</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span> }));
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>cookieParser</span>());
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#a6e22e>express</span>.<span style=color:#66d9ef>static</span>(<span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>join</span>(<span style=color:#66d9ef>import</span>.<span style=color:#a6e22e>meta</span>.<span style=color:#a6e22e>dirname</span>, <span style=color:#e6db74>&#39;public&#39;</span>)));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#a6e22e>indexRouter</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#e6db74>&#39;/users&#39;</span>, <span style=color:#a6e22e>usersRouter</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>OPENAPI_VISIBLE</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;true&#39;</span>) {
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>logger</span>.<span style=color:#a6e22e>warn</span>(<span style=color:#e6db74>&#39;OpenAPI documentation visible!&#39;</span>);
</span></span><span style=display:flex;background-color:#3c3d38><span>    <span style=color:#a6e22e>app</span>.<span style=color:#a6e22e>use</span>(<span style=color:#e6db74>&#39;/docs&#39;</span>, <span style=color:#a6e22e>swaggerUi</span>.<span style=color:#a6e22e>serve</span>, <span style=color:#a6e22e>swaggerUi</span>.<span style=color:#a6e22e>setup</span>(<span style=color:#a6e22e>openapi</span>, {<span style=color:#a6e22e>explorer</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>}));
</span></span><span style=display:flex;background-color:#3c3d38><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>app</span>;</span></span></code></pre></div></div></div></div></div><p>Notice that we are using the <code>OPENAPI_VISIBLE</code> environment variable to control whether the documentation is visible or not, and we print a warning to the terminal if it is enabled. This is because it is often considered very insecure to make the details of our API visible to users unless that is the explicit intent, so it is better to be cautious.</p><p>Of course, to make the documentation appear, we&rsquo;ll have to set the <code>OPENAPI_VISIBLE</code> value to <code>true</code> in our <code>.env</code> file, and also add a default entry to the <code>.env.example</code> file as well:</p><div class=tab-panel data-tab-group=9bd7a054b5a1fccfb576c561196f2cdb><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=env class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("9bd7a054b5a1fccfb576c561196f2cdb","env")'>
<span class=tab-nav-text>.env</span></button></div><div class=tab-content-container><div data-tab-item=env class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-env data-lang=env><span style=display:flex><span>LOG_LEVEL<span style=color:#f92672>=</span>debug
</span></span><span style=display:flex><span>PORT<span style=color:#f92672>=</span><span style=color:#ae81ff>3000</span>
</span></span><span style=display:flex><span>OPENAPI_HOST<span style=color:#f92672>=</span>https://$CODESPACE_NAME-$PORT.$GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN
</span></span><span style=display:flex><span>OPENAPI_VISIBLE<span style=color:#f92672>=</span>true</span></span></code></pre></div></div></div></div></div><p>Now, let&rsquo;s run our application and see what happens:</p><div class=tab-panel data-tab-group=bcc2e97d64ce2b076041f1a46985dc24><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=terminal class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("bcc2e97d64ce2b076041f1a46985dc24","terminal")'>
<span class=tab-nav-text>terminal</span></button></div><div class=tab-content-container><div data-tab-item=terminal class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ npm run dev</span></span></code></pre></div></div></div></div></div><p>We should see the following output when our application initializes:</p><div class=tab-panel data-tab-group=a1c36df6255d0590e17fc050a2c035f4><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=output class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("a1c36df6255d0590e17fc050a2c035f4","output")'>
<span class=tab-nav-text>output</span></button></div><div class=tab-content-container><div data-tab-item=output class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0><code>&gt; example-project@0.0.1 dev
&gt; nodemon ./bin/www

[nodemon] 3.1.9
[nodemon] to restart at any time, enter `rs`
[nodemon] watching path(s): *.*
[nodemon] watching extensions: js,mjs,cjs,json
[nodemon] starting `node ./bin/www`
[dotenvx@1.34.0] injecting env (4) from .env
[2025-01-25 09:10:37.646 PM] warn:      OpenAPI documentation visible!
[2025-01-25 09:10:37.649 PM] info:      Listening on port 3000</code></pre></div></div></div></div></div><p>Now, let&rsquo;s load our application in a web browser, and go to the <code>/docs</code> path. We should see our OpenAPI Documentation website!</p><p><a href=#R-image-f321dd4bcd8483885e4982acd8f34f71 class=lightbox-link><img alt="OpenAPI Documentation Example" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/01/openapi_1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f321dd4bcd8483885e4982acd8f34f71><img alt="OpenAPI Documentation Example" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/01/openapi_1.png></a></p><p>Notice that the <strong>Servers</strong> URL matches the URL at the top of the page! That means our complex <code>OPENAPI_HOST</code> environment variable is working correctly.</p><p>However, we notice that our server does not have any operations defined yet, so we need to add those before we can really make use of this documentation website.</p><h2 id=documenting-routes>Documenting Routes</h2><p>To document our routes using the OpenAPI Specification, we can add a simple JSDoc comment above each route function with some basic information, prefixed by the <code>@swagger</code> tag.</p><div class=tab-panel data-tab-group=6a1d644b41ce66e7703014806a8fe34c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=routesindexjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("6a1d644b41ce66e7703014806a8fe34c","routesindexjs")'>
<span class=tab-nav-text>routes/index.js</span></button></div><div class=tab-content-container><div data-tab-item=routesindexjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-js data-lang=js><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * @swagger
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * tags:
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *   name: index
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *   description: Index Routes
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>express</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;express&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>express</span>.<span style=color:#a6e22e>Router</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * @swagger
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * /:
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *   get: 
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     summary: index page
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     description: Gets the index page for the application
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     tags: [index]
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     responses:
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *       200: 
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *         description: success
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>next</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>render</span>(<span style=color:#e6db74>&#39;index&#39;</span>, { <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Express&#39;</span> });
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>router</span>;</span></span></code></pre></div></div></div></div></div><div class=tab-panel data-tab-group=04af41d3354a0e1bb73a6cea5d21421b><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=routesusersjs class="tab-nav-button tab-panel-style cstyle initial active" tabindex=-1 onclick='switchTab("04af41d3354a0e1bb73a6cea5d21421b","routesusersjs")'>
<span class=tab-nav-text>routes/users.js</span></button></div><div class=tab-content-container><div data-tab-item=routesusersjs class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid><code class=language-js data-lang=js><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * @swagger
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * tags:
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *   name: users
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *   description: Users Routes
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>express</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#39;express&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>express</span>.<span style=color:#a6e22e>Router</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e>/**
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * @swagger
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> * /users:
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *   get: 
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     summary: users list page
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     description: Gets the list of all users in the application
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     tags: [users]
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *     responses:
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *       200: 
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> *         description: a resource            
</span></span></span><span style=display:flex;background-color:#3c3d38><span><span style=color:#75715e> */</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;/&#39;</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>next</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>send</span>(<span style=color:#e6db74>&#39;respond with a resource&#39;</span>);
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>router</span>;</span></span></code></pre></div></div></div></div></div><p>Now, when we run our application and view the documentation, we see two operations:</p><p><a href=#R-image-e27f5939fc6cb3388f9ff867a1d7a0d4 class=lightbox-link><img alt="OpenAPI Documentation With Operations" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/01/openapi_2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e27f5939fc6cb3388f9ff867a1d7a0d4><img alt="OpenAPI Documentation With Operations" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/01/openapi_2.png></a></p><p>We can expand the operation to learn more about it, and even test it on a running server if our URL is set correctly:</p><p><a href=#R-image-f6bba4c54fca86bd95b94a5301fb1d03 class=lightbox-link><img alt="OpenAPI Documentation Operation Example" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/examples/01/openapi_3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f6bba4c54fca86bd95b94a5301fb1d03><img alt="OpenAPI Documentation Operation Example" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/examples/01/openapi_3.png></a></p><p>As we develop our RESTful API, this documentation tool will be a very powerful way for us to understand our own API&rsquo;s design, and it will help us communicate easily with other developers who wish to use our API as well.</p><p>This is a good point to <strong>commit and push</strong> our work!</p><h2 id=references>References</h2><ul><li><a href=https://dev.to/qbentil/swagger-express-documenting-your-nodejs-rest-api-4lj7 rel=external target=_blank>Swagger & Express: Documenting Your Node.js REST API</a></li></ul><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard/clipboard.min.js?1770225504 defer></script><script src=/cis526/js/perfect-scrollbar/perfect-scrollbar.min.js?1770225504 defer></script><script src=/cis526/js/theme.min.js?1770225504 defer></script></div><script src=/cis526/js/tele-scroll.min.js?1770225504 defer></script></body></html>