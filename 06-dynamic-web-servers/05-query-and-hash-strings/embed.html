<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Query strings (aka search strings) are the part of the URL that appear after the ? and before the optional #. The hash string is the portion of the url after the #. We’ve mentioned them a bit before, but as we dig into dynamic web servers it makes sense to do a deeper dive, as this is where they really come into play.
The Hash String First, let’s briefly visit the hash string."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Query and Hash Strings :: CIS 526 Textbook"><meta name=twitter:description content="Query strings (aka search strings) are the part of the URL that appear after the ? and before the optional #. The hash string is the portion of the url after the #. We’ve mentioned them a bit before, but as we dig into dynamic web servers it makes sense to do a deeper dive, as this is where they really come into play.
The Hash String First, let’s briefly visit the hash string."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/06-dynamic-web-servers/05-query-and-hash-strings/embed.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Query and Hash Strings :: CIS 526 Textbook"><meta property="og:description" content="Query strings (aka search strings) are the part of the URL that appear after the ? and before the optional #. The hash string is the portion of the url after the #. We’ve mentioned them a bit before, but as we dig into dynamic web servers it makes sense to do a deeper dive, as this is where they really come into play.
The Hash String First, let’s briefly visit the hash string."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Dynamic Web Servers"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-05-26T12:42:57-05:00"><meta itemprop=name content="Query and Hash Strings :: CIS 526 Textbook"><meta itemprop=description content="Query strings (aka search strings) are the part of the URL that appear after the ? and before the optional #. The hash string is the portion of the url after the #. We’ve mentioned them a bit before, but as we dig into dynamic web servers it makes sense to do a deeper dive, as this is where they really come into play.
The Hash String First, let’s briefly visit the hash string."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-05-26T12:42:57-05:00"><meta itemprop=wordCount content="792"><title>Query and Hash Strings :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/06-dynamic-web-servers/05-query-and-hash-strings/ rel=canonical type=text/html title="Query and Hash Strings :: CIS 526 Textbook"><link href=/cis526/06-dynamic-web-servers/05-query-and-hash-strings/index.xml rel=alternate type=application/rss+xml title="Query and Hash Strings :: CIS 526 Textbook"><link href=/cis526/06-dynamic-web-servers/05-query-and-hash-strings/index.print.html rel=alternate type=text/html title="Query and Hash Strings :: CIS 526 Textbook"><link href=/cis526/06-dynamic-web-servers/05-query-and-hash-strings/tele.html rel=alternate type=text/html title="Query and Hash Strings :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1737144517 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1737144517 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1737144517 rel=stylesheet><link href=/cis526/css/auto-complete.css?1737144517 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1737144517 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1737144517 rel=stylesheet><link href=/cis526/css/fonts.css?1737144517 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1737144517 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1737144517 rel=stylesheet><link href=/cis526/css/theme-light-theme.css?1737144517 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-relearn-light.css?1737144517 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1737144517 rel=stylesheet><link href=/cis526/css/print.css?1737144517 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1737144517 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis526/06-dynamic-web-servers/05-query-and-hash-strings/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><p>Query strings (aka search strings) are the part of the URL that appear after the <code>?</code> and before the optional <code>#</code>. The hash string is the portion of the url after the <code>#</code>. We&rsquo;ve mentioned them a bit before, but as we dig into dynamic web servers it makes sense to do a deeper dive, as this is where they really come into play.</p><h2 id=the-hash-string>The Hash String</h2><p>First, let&rsquo;s briefly visit the hash string. It&rsquo;s traditional use is to indicate a HTML element on the page the browser should scroll to when visiting the URL. When used this way, its value is the <code>id</code> attribute of the element. The browser will automatically scroll to a position that displays the element on-screen. Thus, the traditional use of the hash string is for &ldquo;bookmarked&rdquo; links that take you to an exact section of the page, like this one which takes you to a description of your personal CS web space: <a href=https://support.cs.ksu.edu/CISDocs/wiki/Personal_Web_Pages#Dynamic_Content rel=external target=_blank>https://support.cs.ksu.edu/CISDocs/wiki/Personal_Web_Pages#Dynamic_Content</a>.</p><p>With the advent of single-page apps, it has come to serve additional purposes; but we&rsquo;ll talk about those when we visit that topic in a future chapter.</p><h2 id=the-querysearch-string>The Query/Search String</h2><p>Now, the query string is a vital tool for dynamic web pages, as it conveys information <em>beyond</em> the specific resource being asked for to the server. Consider what a dynamic webserver does - it takes an incoming request, and sends a response. In many ways, this is similar to a function call - you invoke a function, and it returns a value. With this in mind, the path of the URL is like the function name, and the query string becomes its <em>parameters</em>.</p><p>Much like parameters have a name and a value, the query string is composed of key/value pairs. Between the key and value of each pair is a <code>=</code>, and between the pairs is a <code>&</code>. Because the <code>=</code> and <code>&</code> character now have a special meaning, any that appear in the key or value are swapped with a special percent value, i.e. <code>&</code> becomes <code>%26</code> and <code>=</code> becomes <code>%3D</code>. Similarly, other characters that have special meanings in URLs are likewise swapped. This is known as URL or percent encoding, and you can see the swapped values in the table below:</p><table class=standard-table><tbody><tr><td><code>':'</code></td><td><code>'/'</code></td><td><code>'?'</code></td><td><code>'#'</code></td><td><code>'['</code></td><td><code>']'</code></td><td><code>'@'</code></td><td><code>'!'</code></td><td><code>'$'</code></td><td><code>'&'</code></td><td><code>"'"</code></td><td><code>'('</code></td><td><code>')'</code></td><td><code>'*'</code></td><td><code>'+'</code></td><td><code>','</code></td><td><code>';'</code></td><td><code>'='</code></td><td><code>'%'</code></td><td><code>' '</code></td></tr><tr><td><code>%3A</code></td><td><code>%2F</code></td><td><code>%3F</code></td><td><code>%23</code></td><td><code>%5B</code></td><td><code>%5D</code></td><td><code>%40</code></td><td><code>%21</code></td><td><code>%24</code></td><td><code>%26</code></td><td><code>%27</code></td><td><code>%28</code></td><td><code>%29</code></td><td><code>%2A</code></td><td><code>%2B</code></td><td><code>%2C</code></td><td><code>%3B</code></td><td><code>%3D</code></td><td><code>%25</code></td><td><code>%20</code> or <code>+</code></td></tr></tbody></table><p>In JavaScript, the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent rel=external target=_blank>encodeURIComponent()</a> function can be used to apply percent encoding to a string, and the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/decodeURIComponent rel=external target=_blank>decodeURIComponent()</a> can be used to reverse it.</p><p>Node offers the <a href=https://nodejs.org/api/querystring.html rel=external target=_blank>querystring</a> library. It offers a <a href=https://nodejs.org/api/querystring.html#querystring_querystring_parse_str_sep_eq_options rel=external target=_blank>querystring.parse()</a> method which can parse a query string into a JavaScript object with the decoded key/value pairs transformed into properties and a <a href=https://nodejs.org/api/querystring.html#querystring_querystring_stringify_obj_sep_eq_options rel=external target=_blank>querystring.stringify()</a> method which can convert a JavaScript object into an encoded query string. In addition, these methods allow you to override what characters are used as delimiters, potentially allowing you to use alternative encoding schemes.</p><h2 id=forms-and-the-query-string>Forms and the Query String</h2><p>While we can type a URL with a query string manually, by far the most common way to produce a query string is with a <code>&lt;form></code> element. When a form is submitted (the user clicks on a <code>&lt;input></code> with <code>type</code> attribute of <code>"submit"</code>), it is serialized and submitted to the server. By default, it will be sent to the same URL it was served from, using a GET request, with the fields of the form serialized as the query string.</p><p>This is why one name for the query string is the <em>search</em> string, as it is commonly used to submit search requests. For example, Google&rsquo;s search page contains a form similar to this (very simplified form):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>form</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;q&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>input</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;submit&#34;</span> <span class=na>value</span><span class=o>=</span><span class=s>&#34;Google Search&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>form</span><span class=p>&gt;</span></span></span></code></pre></div><p>Notice the form has one text input, named <code>"q"</code>. If we type in search terms, say &ldquo;k-state computer science&rdquo; and click the search button, you&rsquo;ll notice in the resulting url the query string contains <code>q=k-state+computer+science</code> (plus a lot of other key/value pairs). If you type <code>"https://www.google.com/search?q=k-state+computer+science"</code> into the address bar, you&rsquo;ll get the same page.</p><p>Notice though, that google uses <code>www.google.com/search</code> as the URL to display search results at, instead of the original <code>www.google.com</code> page. We can have a form submit to a different URL than it was served on by setting its <code>action</code> attribute to that URL.</p><p>We can also change the HTTP method used to submit the form with the <code>method</code> attribute. By default it uses a GET request, but we can instead set it to a POST request. When a POST request is used, the form is no longer encoded in the query string - it is instead sent as the body of the POST request.</p><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard.min.js?1737144517 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1737144517 defer></script><script src=/cis526/js/theme.js?1737144517 defer></script><script src=/cis526/js/embed-iframe.js?1737144517 defer></script></body></html>