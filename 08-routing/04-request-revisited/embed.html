<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="We’ve seen then how the request conveys information useful to selecting the appropriate endpoint with the path, and also the query string. But there is more information available in our request than just those two tidbits. And we have all of that information available to us for determining the correct response to send. With that in mind, let’s revisit the parts of the request in terms of what kinds of information they can convey."><meta name=author content="Nathan Bean & Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta name=twitter:title content="Request Revisted :: CIS 526 Textbook"><meta name=twitter:description content="We’ve seen then how the request conveys information useful to selecting the appropriate endpoint with the path, and also the query string. But there is more information available in our request than just those two tidbits. And we have all of that information available to us for determining the correct response to send. With that in mind, let’s revisit the parts of the request in terms of what kinds of information they can convey."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/08-routing/04-request-revisited/index.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Request Revisted :: CIS 526 Textbook"><meta property="og:description" content="We’ve seen then how the request conveys information useful to selecting the appropriate endpoint with the path, and also the query string. But there is more information available in our request than just those two tidbits. And we have all of that information available to us for determining the correct response to send. With that in mind, let’s revisit the parts of the request in terms of what kinds of information they can convey."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Routing"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2025-03-06T15:49:16-06:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta itemprop=name content="Request Revisted :: CIS 526 Textbook"><meta itemprop=description content="We’ve seen then how the request conveys information useful to selecting the appropriate endpoint with the path, and also the query string. But there is more information available in our request than just those two tidbits. And we have all of that information available to us for determining the correct response to send. With that in mind, let’s revisit the parts of the request in terms of what kinds of information they can convey."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2025-03-06T15:49:16-06:00"><meta itemprop=wordCount content="598"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><title>Request Revisted :: CIS 526 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis526/08-routing/04-request-revisited/index.html rel=canonical type=text/html title="Request Revisted :: CIS 526 Textbook"><link href=/cis526/08-routing/04-request-revisited/index.xml rel=alternate type=application/rss+xml title="Request Revisted :: CIS 526 Textbook"><link href=/cis526/08-routing/04-request-revisited/index.print.html rel=alternate type=text/html title="Request Revisted :: CIS 526 Textbook"><link href=/cis526/08-routing/04-request-revisited/tele.html rel=alternate type=text/html title="Request Revisted :: CIS 526 Textbook"><link href=/cis526/css/auto-complete/auto-complete.min.css?1769118339 rel=stylesheet><script src=/cis526/js/auto-complete/auto-complete.min.js?1769118339 defer></script><script src=/cis526/js/search-lunr.min.js?1769118339 defer></script><script src=/cis526/js/search.min.js?1769118339 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis526/searchindex.en.js?1769118339"</script><script src=/cis526/js/lunr/lunr.min.js?1769118339 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1769118339 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1769118339 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1769118339 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1769118339 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1769118339 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar/perfect-scrollbar.min.css?1769118339 rel=stylesheet><link href=/cis526/css/theme.min.css?1769118339 rel=stylesheet><link href=/cis526/css/format-html.min.css?1769118339 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/08-routing/04-request-revisited/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis526/css/custom.css?1769118339 rel=stylesheet></head><body class="mobile-support embed html" data-url=/cis526/08-routing/04-request-revisited/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 08-routing" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=request-revisted>Request Revisted</h1><p>We&rsquo;ve seen then how the request conveys information useful to selecting the appropriate endpoint with the path, and also the query string. But there is more information available in our request than just those two tidbits. And we have <em>all</em> of that information available to us for determining the correct response to send. With that in mind, let&rsquo;s revisit the parts of the request in terms of what kinds of information they can convey.</p><h2 id=the-url-revisited>The URL, Revisited</h2><p>Now that we&rsquo;re thinking of the URL as a tool for passing information to the server, let&rsquo;s reexamine its parts:</p><p><a href=#R-image-c48bbacdc15f97ba9e02a2bf3ec93545 class=lightbox-link><img alt="A diagram of a URL" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/6.3.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c48bbacdc15f97ba9e02a2bf3ec93545><img alt="A diagram of a URL" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/6.3.1.png></a></p><p>The <strong>protocol</strong> is the protocol used for communication, and the <strong>host</strong> is the domain or IP address of the server. Note that these are <em>not</em> included in Node&rsquo;s <code>req.url</code> parameter, as these are used to find the right server and talk to it using the right protocol - by the time your Node server is generating the <code>req</code> object, the request has already found your server and is communicating with the protocol.</p><p>This is also why when we&rsquo;ve been parsing <code>req.url</code> with the <a href=https://nodejs.org/api/url.html rel=external target=_blank>URL</a> object, we&rsquo;ve supplied a host and protocol of <code>http://localhost</code>:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>url</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URL</span>(<span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>url</span>, <span style=color:#e6db74>&#34;http://localhost&#34;</span>);</span></span></code></pre></div><p>This gives the URL object a placeholder for the missing protocol and host, so that it can parse the supplied URL without error. Just keep in mind that by doing so the <code>url.protocol</code> and <code>url.host</code> properties of <code>url</code> equal this &ldquo;fake&rdquo; host and protocol.</p><p>The <strong>path</strong> is the path to the virtual resource requested, accessible in our parsed URL as <code>url.pathname</code>. Traditionally, this corresponded to a file path, which is how we used it in our fileserver examples. But as we have seen with Placeholder.com, it can also be used to convey other information - in that case, the size of the image, its background color, and foreground color.</p><p>The <strong>query</strong> or <strong>querystring</strong> is a list of key-value pairs, preceded by the <code>?</code>. Traditionally this would be used to modify some aspect of the request, such as requesting a particular data format or portion of a dataset. It is also how forms are submitted with a GET request - the form data is encoded into the query string.</p><p>The <strong>hash</strong> or <strong>fragment</strong> is preceded by a <code>#</code>, and traditionally indicates an element on the page that the browser should auto-scroll to. This element should have an <code>id</code> attribute that matches the one supplied by the hash. For example, clicking this link: <a href=/cis526/08-routing/04-request-revisited/index.html#the-url-revisited>#the-url-revisited</a> will scroll back to the header for this section (note we left the path blank, so the browser assumes we want to stay on this page).</p><p>Clearly our URL can clearly convey a lot of data to our server. But that&rsquo;s not the only information that we can use in deciding how to respond to a request.</p><h2 id=request-method-revisited>Request Method, Revisited</h2><p>In addition, we also receive the HTTP Method used for the request, i.e. GET, POST, PATCH, PUT, or DELETE. These again map back to the traditional role of a web server as a file server - GET retrieves a resource, POST uploads one, PATCH and PUT modify one, and DELETE removes it. But we can also create, read, update, and destroy <em>virtual</em> resources, i.e. resources generated and stored on the server that are <em>not</em> files. These play an especially important role in RESTful routes, which we&rsquo;ll discuss soon.</p><h2 id=headers-revisited>Headers, Revisited</h2><p>We can also convey additional information for the server to consider as part of the request headers. This is usually used to convey information tangential to the request, like authentication and cookies. We&rsquo;ll also discuss this a bit further on.</p><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard/clipboard.min.js?1769118339 defer></script><script src=/cis526/js/perfect-scrollbar/perfect-scrollbar.min.js?1769118339 defer></script><script src=/cis526/js/theme.min.js?1769118339 defer></script><script src=/cis526/js/embed-iframe.min.js?1769118339 defer></script></body></html>