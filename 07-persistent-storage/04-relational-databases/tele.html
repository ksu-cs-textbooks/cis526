<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Relational databases (also called SQL databases) provide a highly-structured storage mechanism. Data is organized into tables, with each column representing a single value and data type, and each row representing one entry. Conceptually, this organization is similar to tables you have seen in Excel and on the web. An example persons table is listed below:
id First Last 0 Lisa Merkowsky 1 Frank Stiles 3 Mary Cotts Relational databases are often called SQL databases as we use Structured Query Language (SQL) to communicate with them."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Relational Databases :: CIS 526 Textbook"><meta name=twitter:description content="Relational databases (also called SQL databases) provide a highly-structured storage mechanism. Data is organized into tables, with each column representing a single value and data type, and each row representing one entry. Conceptually, this organization is similar to tables you have seen in Excel and on the web. An example persons table is listed below:
id First Last 0 Lisa Merkowsky 1 Frank Stiles 3 Mary Cotts Relational databases are often called SQL databases as we use Structured Query Language (SQL) to communicate with them."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/07-persistent-storage/04-relational-databases/"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Relational Databases :: CIS 526 Textbook"><meta property="og:description" content="Relational databases (also called SQL databases) provide a highly-structured storage mechanism. Data is organized into tables, with each column representing a single value and data type, and each row representing one entry. Conceptually, this organization is similar to tables you have seen in Excel and on the web. An example persons table is listed below:
id First Last 0 Lisa Merkowsky 1 Frank Stiles 3 Mary Cotts Relational databases are often called SQL databases as we use Structured Query Language (SQL) to communicate with them."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Persistent Storage"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-07-06T10:20:05-05:00"><meta itemprop=name content="Relational Databases :: CIS 526 Textbook"><meta itemprop=description content="Relational databases (also called SQL databases) provide a highly-structured storage mechanism. Data is organized into tables, with each column representing a single value and data type, and each row representing one entry. Conceptually, this organization is similar to tables you have seen in Excel and on the web. An example persons table is listed below:
id First Last 0 Lisa Merkowsky 1 Frank Stiles 3 Mary Cotts Relational databases are often called SQL databases as we use Structured Query Language (SQL) to communicate with them."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-07-06T10:20:05-05:00"><meta itemprop=wordCount content="1282"><title>Relational Databases :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/07-persistent-storage/04-relational-databases/ rel=canonical type=text/html title="Relational Databases :: CIS 526 Textbook"><link href=/cis526/07-persistent-storage/04-relational-databases/index.xml rel=alternate type=application/rss+xml title="Relational Databases :: CIS 526 Textbook"><link href=/cis526/07-persistent-storage/04-relational-databases/index.print.html rel=alternate type=text/html title="Relational Databases :: CIS 526 Textbook"><link href=/cis526/07-persistent-storage/04-relational-databases/embed.html rel=alternate type=text/html title="Relational Databases :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1744134208 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1744134208 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1744134208 rel=stylesheet><link href=/cis526/css/auto-complete.css?1744134208 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1744134208 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1744134208 rel=stylesheet><link href=/cis526/css/fonts.css?1744134208 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1744134208 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1744134208 rel=stylesheet><link href=/cis526/css/theme-auto.css?1744134208 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-auto.css?1744134208 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1744134208 rel=stylesheet><link href=/cis526/css/print.css?1744134208 rel=stylesheet media=print><script src=/cis526/js/variant.js?1744134208></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1744134208 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis526/07-persistent-storage/04-relational-databases/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=relational-databases>Relational Databases</h1><p>Relational databases (also called SQL databases) provide a highly-structured storage mechanism. Data is organized into <em>tables</em>, with each column representing a single value and data type, and each row representing one entry. Conceptually, this organization is similar to tables you have seen in Excel and on the web. An example <em>persons</em> table is listed below:</p><table><thead><tr><th>id</th><th>First</th><th>Last</th></tr></thead><tbody><tr><td>0</td><td>Lisa</td><td>Merkowsky</td></tr><tr><td>1</td><td>Frank</td><td>Stiles</td></tr><tr><td>3</td><td>Mary</td><td>Cotts</td></tr></tbody></table><p>Relational databases are often called SQL databases as we use <em>Structured Query Language (SQL)</em> to communicate with them. This is a domain-specific language similar to the LINQ you may have learned about in CIS 400 (actually, LINQ derives much of its syntax from SQL). Queries are streamed to a relational database across a socket or other connection, much like HTTP requests and responses are. The response is received also as text which must be parsed to be used.</p><p>SQL is used to construct the structure of the database. For example, we could create the above table with the SQL command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>persons</span><span class=w> </span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>id</span><span class=w> </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>Last</span><span class=w> </span><span class=nb>TEXT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>First</span><span class=w> </span><span class=nb>TEXT</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>);</span></span></span></code></pre></div><p>SQL is also used to <em>query</em> the database. For example, to find all people with the last name &ldquo;Smith&rdquo;, we would use the query:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>persons</span><span class=w> </span><span class=k>WHERE</span><span class=w> </span><span class=k>last</span><span class=o>=</span><span class=s1>&#39;Smith&#39;</span><span class=p>;</span></span></span></code></pre></div><p>You will learn more about writing SQL queries in the CIS 560 or CC 520 course. You can also find an excellent guide on <a href=https://www.w3schools.com/sql/ rel=external target=_blank>W3C schools</a>, with interactive tutorials. We&rsquo;ll briefly cover some of the most important aspects of relational databases for web developers here, but you would be wise to seek out additional learning opportunities. Understanding relational databases well can make a great deal of difference in how performant your web applications are.</p><p>The key to performance in relational databases is the use of <em>keys</em> and <em>indices</em>. A key is a column whose values are unique (not allowed to be repeated). For example, the <code>id</code> column in the table above is a key. Specifically, it is a sequential primary key - for each row we add to the table it increases, and its value is determined by the database. Note the jump from <code>1</code> to <code>3</code> - there is no guarantee the keys will always be exactly one more than the previous one (though it commonly is), and if we delete rows from a table, the keys remain the same.</p><h3 id=indices>Indices</h3><p>An index is a specialized data structure that makes searching for data faster. Consider the above table. If we wanted to find all people with the last name &ldquo;Smith&rdquo;, we&rsquo;d need to iterate over each row, looking for &ldquo;Smith&rdquo;. That is a linear $O(n)$ complexity. It would work quickly in our example, but when our table has thousands or millions of rows (not uncommon for large web apps), it would be painfully slow.</p><p>Remember learning about dictionaries or hash tables in your data structures course? The lookup time for one of those structures is constant $O(1)$. Indices work like this - we create a specialized data structure that can provide the index we are looking for, i.e. an index built on the <code>Last</code> column would map <code>last => id</code>. Then we could retrieve all &ldquo;Smith&rdquo; last names from this structure in constant time $O(1)$. Since we know the primary key is unique and ordered, we can use some kind of divide-and-conquer search strategy to find all rows with a primary key in our set of matches, with a complexity of $O(log(n))$. Thus, the complete lookup would be $O(log(n)) + O(1)$, which we would simplify to $O(log(n))$, much faster for a large $n$ than $O(n)$.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>In truth, most SQL databases use <a href=https://en.wikipedia.org/wiki/B-tree rel=external target=_blank>Balanced Trees (B-Trees)</a> for their indices; but the exact data structure is unimportant to us as web developers, as long as retrieval is efficient.</p></div></div><p>We can create an index using SQL. For example, to create an index on the column <code>last</code> in our example, we would use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>last_index</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>persons</span><span class=w> </span><span class=p>(</span><span class=k>last</span><span class=p>);</span></span></span></code></pre></div><p>An index can involve more than one row - for example, if we expected to search by both first and last name, we&rsquo;d probably create an index that used both as the key. The SQL to do so for both first and last names would be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>CREATE</span><span class=w> </span><span class=k>INDEX</span><span class=w> </span><span class=n>both_names</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>persons</span><span class=w> </span><span class=p>(</span><span class=k>last</span><span class=p>,</span><span class=w> </span><span class=k>first</span><span class=p>);</span></span></span></code></pre></div><p>Each index effectively creates a new data structure consuming additional memory, so you should consider which indices are really necessary. Any column or column you frequently look up values by (i.e. are part of the WHERE clause of a query) should be indexed. Columns that are only rarely or never used this way should not be included in indices.</p><h3 id=relationships>Relationships</h3><p>The second important idea behind a relational database is that we can define relationships <em>between</em> tables. Let&rsquo;s add a second table to our example, <em>addresses</em>:</p><table><thead><tr><th>id</th><th>person_id</th><th>street</th><th>city</th><th>state</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>Anderson Ave.</td><td>Manhattan</td><td>KS</td></tr><tr><td>1</td><td>1</td><td>Sesame St.</td><td>Baltimore</td><td>ML</td></tr><tr><td>2</td><td>1</td><td>Moholland Dr.</td><td>Hollywood</td><td>CA</td></tr><tr><td>3</td><td>3</td><td>Cooper Street</td><td>Silver City</td><td>NM</td></tr></tbody></table><p>Here <code>person_id</code> is a <em>foreign key</em>, and corresponds to the <code>id</code> in the <em>persons</em> table. Thus, we can look up the address of Lisa Merkowsky by her <code>id</code> of 0. The row in the <em>addresses</em> table with the value of 0 for <code>person_id</code> is &ldquo;Anderson Ave., Manhattan KS&rdquo;.</p><p>Note too that it is possible for one row in one table to correspond to more than one row in another - in this example Frank Styles has <em>two</em> addresses, one in Baltimore and one in Hollywood.</p><p>If one row in one table corresponds to a single row in another table, we often call this a <em>one-to-one</em> relationship. If one row corresponds to more than one row in another table, we call this a <em>one-to-many</em> relationship. We retrieve these values using a query with a JOIN clause, i.e. to get each person with their addresses, we might use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>last</span><span class=p>,</span><span class=w> </span><span class=k>first</span><span class=p>,</span><span class=w> </span><span class=n>street</span><span class=p>,</span><span class=w> </span><span class=n>city</span><span class=p>,</span><span class=w> </span><span class=k>state</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>persons</span><span class=w> </span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>addresses</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>persons</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>addresses</span><span class=p>.</span><span class=n>person_id</span><span class=p>;</span></span></span></code></pre></div><p>The result will also be structured as a table with columns <code>last</code>, <code>first</code>, <code>street</code>, <code>city</code>, and <code>state</code> containing a row for each person. Actually, there will be <em>two</em> rows for Frank, one containing each of his two addresses.</p><p>Finally, it is possible to have a <em>many-to-many</em> relationship, which requires a special table to sit in between the two called a <em>join</em> table. Consider if we had a <em>jobs</em> table:</p><table><thead><tr><th>id</th><th>name</th><th>description</th></tr></thead><tbody><tr><td>0</td><td>Doctor</td><td>A qualified practitioner of medicine; a physician.</td></tr><tr><td>1</td><td>Lawyer</td><td>A person who practices or studies law; an attorney or a counselor.</td></tr><tr><td>2</td><td>Producer</td><td>A person responsible for the financial and managerial aspects of making of a movie or broadcast or for staging a play, opera, etc.</td></tr><tr><td>3</td><td>Detective</td><td>A person, especially a police officer, whose occupation is to investigate and solve crimes.</td></tr></tbody></table>(definitions provided by Oxford Languages)<p>Because more than one person can have the same job, and we might want to look up people by their jobs, or a list of jobs that a specific person has, we would need a join table to connect the two. This could be named <em>persons_jobs</em> and would have a foreign key to both:</p><table><thead><tr><th>id</th><th>person_id</th><th>job_id</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>2</td><td>2</td></tr><tr><td>2</td><td>3</td><td>1</td></tr><tr><td>3</td><td>3</td><td>3</td></tr></tbody></table><p>Thus Lisa is a doctor, Frank a producer, and Mary is both a doctor and detective! We could query for every doctor using a SQL statement with two joins, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=line><span class=cl><span class=k>SELECT</span><span class=w> </span><span class=k>first</span><span class=p>,</span><span class=w> </span><span class=k>last</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>FROM</span><span class=w> </span><span class=n>jobs</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>persons_jobs</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>jobs</span><span class=p>.</span><span class=n>id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>persons_jobs</span><span class=p>.</span><span class=n>job_id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>LEFT</span><span class=w> </span><span class=k>JOIN</span><span class=w> </span><span class=n>persons</span><span class=w> </span><span class=k>ON</span><span class=w> </span><span class=n>jobs_persons</span><span class=p>.</span><span class=n>person_id</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>person</span><span class=p>.</span><span class=n>id</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>WHERE</span><span class=w> </span><span class=n>jobs</span><span class=p>.</span><span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Doctor&#39;</span><span class=p>;</span></span></span></code></pre></div><p>As suggested before, this is just scraping the surface of relational databases. You&rsquo;ll definitely want to spend more time studying them, as they remain the most common form of persistent storage used on the web and in other industries as well.</p><footer class=footline></footer></article></div></main></div></div><script src=/cis526/js/clipboard.min.js?1744134208 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1744134208 defer></script><script src=/cis526/js/theme.js?1744134208 defer></script><script src=/cis526/js/tele-scroll.js?1744134208 defer></script></body></html>