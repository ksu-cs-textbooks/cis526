<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="One major feature Node introduced to JavaScript was the ability to encapsulate code into separate files using modules. The approach adopted by Node is the CommonJS module pattern.
Warning Node’s use of modules predates ECMA6’s adoption of modules, and the CommonJS approach Node adopted is fundamentally different than the ECMA6 version. For Node 16 (installed on your Codio Box), ECMA6 modules are an optional feature that has to be enabled with a flag when invoking the node command, i."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Modules :: CIS 526 Textbook"><meta name=twitter:description content="One major feature Node introduced to JavaScript was the ability to encapsulate code into separate files using modules. The approach adopted by Node is the CommonJS module pattern.
Warning Node’s use of modules predates ECMA6’s adoption of modules, and the CommonJS approach Node adopted is fundamentally different than the ECMA6 version. For Node 16 (installed on your Codio Box), ECMA6 modules are an optional feature that has to be enabled with a flag when invoking the node command, i."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/04-node/04-modules/"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Modules :: CIS 526 Textbook"><meta property="og:description" content="One major feature Node introduced to JavaScript was the ability to encapsulate code into separate files using modules. The approach adopted by Node is the CommonJS module pattern.
Warning Node’s use of modules predates ECMA6’s adoption of modules, and the CommonJS approach Node adopted is fundamentally different than the ECMA6 version. For Node 16 (installed on your Codio Box), ECMA6 modules are an optional feature that has to be enabled with a flag when invoking the node command, i."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Introduction to Node"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-05-24T20:05:03-05:00"><meta itemprop=name content="Modules :: CIS 526 Textbook"><meta itemprop=description content="One major feature Node introduced to JavaScript was the ability to encapsulate code into separate files using modules. The approach adopted by Node is the CommonJS module pattern.
Warning Node’s use of modules predates ECMA6’s adoption of modules, and the CommonJS approach Node adopted is fundamentally different than the ECMA6 version. For Node 16 (installed on your Codio Box), ECMA6 modules are an optional feature that has to be enabled with a flag when invoking the node command, i."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-05-24T20:05:03-05:00"><meta itemprop=wordCount content="433"><title>Modules :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/04-node/04-modules/ rel=canonical type=text/html title="Modules :: CIS 526 Textbook"><link href=/cis526/04-node/04-modules/index.xml rel=alternate type=application/rss+xml title="Modules :: CIS 526 Textbook"><link href=/cis526/04-node/04-modules/tele.html rel=alternate type=text/html title="Modules :: CIS 526 Textbook"><link href=/cis526/04-node/04-modules/embed.html rel=alternate type=text/html title="Modules :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1740156894 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1740156894 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1740156894 rel=stylesheet><link href=/cis526/css/auto-complete.css?1740156894 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1740156894 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1740156894 rel=stylesheet><link href=/cis526/css/fonts.css?1740156894 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1740156894 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1740156894 rel=stylesheet><link href=/cis526/css/theme-auto.css?1740156894 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-auto.css?1740156894 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1740156894 rel=stylesheet><link href=/cis526/css/print.css?1740156894 rel=stylesheet media=print><link href=/cis526/css/format-print.css?1740156894 rel=stylesheet><script src=/cis526/js/variant.js?1740156894></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1740156894 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis526/04-node/04-modules/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis526/04-node/><span itemprop=name>Introduction to Node</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Modules</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/04-node/03-asynchronous-functions/ title="Asynchronous Functions (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis526/04-node/05-packages/ title="Packages (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=modules>Modules</h1><p>One major feature Node introduced to JavaScript was the ability to encapsulate code into separate files using <em>modules</em>. The approach adopted by Node is the <strong>CommonJS</strong> module pattern.</p><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>Node&rsquo;s use of modules predates ECMA6&rsquo;s adoption of modules, and the CommonJS approach Node adopted is fundamentally different than the ECMA6 version. For Node 16 (installed on your Codio Box), ECMA6 modules are an optional feature that has to be enabled with a flag when invoking the node command, i.e.:</p><div class=highlight><pre tabindex=0><code>$ node --input-type=module &lt;file&gt;</code></pre></div><p>We can also enable ECMA6 module support by using the <code>.mjs</code> file extension, or by setting an option in the <code>package.json</code> file present in our project. See the <a href=https://nodejs.org/dist./v16.15.0/docs/api/esm.html#modules-ecmascript-modules rel=external target=_blank>NodeJS Documentation</a> for more information.</p></div></div><h2 id=writing-a-module>Writing a Module</h2><p>A module is simply a JavaScript file (typically saved with a <em>js</em> extension). Code within the module is locally scoped to the module; code intended to be accessed outside of the module must be explicitly <em>exported</em> by assigning it to the <code>module.exports</code> parameter. This example exports a function to print &ldquo;Hello World&rdquo;:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=cm>/* hello.js */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>helloWorld</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Hello World&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=nx>helloWorld</span><span class=p>;</span></span></span></code></pre></div><p>You can export a value, function, or object from a module. If you don&rsquo;t specify an export, a module exports <code>undefined</code>.</p><h2 id=loading-a-module>Loading a Module</h2><p>CommonJS Modules are loaded using the <code>require()</code> function, which loads the JavaScript in the module and returns any exports from the module. Objects, functions, or even values can be exported, i.e. this example loads our earlier module, assigns the result to the variable greet, and invokes it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>greet</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./hello&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>greet</span><span class=p>();</span></span></span></code></pre></div><p>This example will print &ldquo;Hello World&rdquo; to the console.</p><p>There are three kinds of modules you can load in Node: 1) core libraries, 2) npm packages, and 3) user-authored modules.</p><p>Core libraries are part of Node. Examples are the <em>fs</em> (file system) library, the <em>http</em> library, and the <em>crypto</em> library. A full list of libraries can be found in the <a href=https://nodejs.org/api/ rel=external target=_blank>Node documentation</a>. Node libraries are required using their name as as the argument, i.e. <code>require('fs')</code> will require the filesystem library.</p><p>Npm packages are typically open-source libraries created by the community and are downloaded using the Node Package Manager (npm). These are installed either globally, or within a <em>node_modules</em> folder created by npm within your project. Npm modules are required by their package name, i.e. <code>require('webpack')</code> will load the webpack package.</p><p>User-written modules are loaded from the filesystem, and are typically located in your project directory or subdirectories within it. They are required using the filepath to their file, i.e. <code>require('./hello.js</code>). It is important to use the period-slash (<code>./</code>) indicating current directory to distinguish files from npm packages.</p><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis526/commit/442c9063f70d68f979c126ab0333ebc8bf01e8b0>May 24, 2022</a></p></div></div><script src=/cis526/js/clipboard.min.js?1740156894 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1740156894 defer></script><script src=/cis526/js/theme.js?1740156894 defer></script></body></html>