<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="Node adopts an asynchronous event-driven approach to computing, much like JavaScript does in the browser. For example, when we set up a HTTP server in Node, we define a function to call when a HTTP request (an event) is received. As requests come in, they are added to a queue which is processed in a FIFO (first-in, first-out) manner."><meta name=author content="Nathan Bean & Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta name=twitter:title content="Event Loop & Console :: CIS 526 Textbook"><meta name=twitter:description content="Node adopts an asynchronous event-driven approach to computing, much like JavaScript does in the browser. For example, when we set up a HTTP server in Node, we define a function to call when a HTTP request (an event) is received. As requests come in, they are added to a queue which is processed in a FIFO (first-in, first-out) manner."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/04-node/02-event-loop/index.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="Event Loop & Console :: CIS 526 Textbook"><meta property="og:description" content="Node adopts an asynchronous event-driven approach to computing, much like JavaScript does in the browser. For example, when we set up a HTTP server in Node, we define a function to call when a HTTP request (an event) is received. As requests come in, they are added to a queue which is processed in a FIFO (first-in, first-out) manner."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="Introduction to Node"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-07-28T18:52:31-05:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta itemprop=name content="Event Loop & Console :: CIS 526 Textbook"><meta itemprop=description content="Node adopts an asynchronous event-driven approach to computing, much like JavaScript does in the browser. For example, when we set up a HTTP server in Node, we define a function to call when a HTTP request (an event) is received. As requests come in, they are added to a queue which is processed in a FIFO (first-in, first-out) manner."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-07-28T18:52:31-05:00"><meta itemprop=wordCount content="576"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><title>Event Loop & Console :: CIS 526 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis526/04-node/02-event-loop/index.html rel=canonical type=text/html title="Event Loop & Console :: CIS 526 Textbook"><link href=/cis526/04-node/02-event-loop/index.xml rel=alternate type=application/rss+xml title="Event Loop & Console :: CIS 526 Textbook"><link href=/cis526/04-node/02-event-loop/index.print.html rel=alternate type=text/html title="Event Loop & Console :: CIS 526 Textbook"><link href=/cis526/04-node/02-event-loop/embed.html rel=alternate type=text/html title="Event Loop & Console :: CIS 526 Textbook"><link href=/cis526/css/auto-complete/auto-complete.min.css?1758047999 rel=stylesheet><script src=/cis526/js/auto-complete/auto-complete.min.js?1758047999 defer></script><script src=/cis526/js/search-lunr.min.js?1758047999 defer></script><script src=/cis526/js/search.min.js?1758047999 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis526/searchindex.en.js?1758047999"</script><script src=/cis526/js/lunr/lunr.min.js?1758047999 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1758047999 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1758047999 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1758047999 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1758047999 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1758047999 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar/perfect-scrollbar.min.css?1758047999 rel=stylesheet><link href=/cis526/css/theme.min.css?1758047999 rel=stylesheet><link href=/cis526/css/format-html.min.css?1758047999 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/04-node/02-event-loop/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis526/css/custom.css?1758047999 rel=stylesheet></head><body class="mobile-support html" data-url=/cis526/04-node/02-event-loop/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 04-node" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=event-loop--console>Event Loop & Console</h1><p>Node adopts an asynchronous event-driven approach to computing, much like JavaScript does in the browser. For example, when we set up a HTTP server in Node, we define a function to call when a HTTP request (an event) is received. As requests come in, they are added to a queue which is processed in a FIFO (first-in, first-out) manner.</p><p><a href=#R-image-d39d51acbba68dd72eb63a4a80d5d6b7 class=lightbox-link><img alt="JavaScript Event Loop" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/4.2.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d39d51acbba68dd72eb63a4a80d5d6b7><img alt="JavaScript Event Loop" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/4.2.1.png></a></p><p>In addition to events, Node implements many asynchronous functions for potentially blocking operations. For example, consider file I/O. If you write a program that needs to read a file, but when it attempts to do so the file is already open in another program, your program must wait for it to become available. In the meantime, your program is <em>blocked</em>, and its execution pauses. A real-world analogue would be a checkout line at a store. If the cashier is ringing up a customer and finds an item without a price tag, they may leave their station to go find the item on the shelves. While they are away, the line is <em>blocked</em>, everyone in line must wait for the cashier to return.</p><p>There are two basic strategies to deal with potentially blocking operations - <strong>multi-threading</strong> and <strong>asynchronous processing</strong>. A multi-threading strategy involves parallelizing the task; in our store example, we&rsquo;d have additional cash registers, cashiers, and lines. Even if one line is blocked, the others continue to ring up customers. In contrast, asynchronous processing moves the potentially blocking task into another process, and continues with the task at hand. When the asynchronous process finishes, it queues its results for the main process to resume. In our store example, this would be the cashier sending another employee to find the price, suspending the sale on the register, and continuing to check out other customers while the first customer waits. When the other employee returns with a price, the cashier finishes checking out the current customer, then resumes the first customer&rsquo;s transactions.</p><p>Node uses this asynchronous model to handle most potentially blocking operations (and often provides a synchronous approach as well). When possible, the asynchronous process is handled by the operating system, but the Node runtime also maintains a pool of threads to farm tasks out to.</p><p>The Node event loop is divided into a series of phases - each queues the associated kinds of events and processes them in a round-robin fashion. This helps ensure that one kind of event can&rsquo;t overwhelm the system:</p><p><a href=#R-image-10d0e7a61bea2300b4de3d25d67b313c class=lightbox-link><img alt="JavaScript " class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/4.2.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-10d0e7a61bea2300b4de3d25d67b313c><img alt="JavaScript " class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/4.2.2.png></a></p><p>For a more detailed breakdown of the Node event loop, check out <a href=https://medium.com/the-node-js-collection/what-you-should-know-to-really-understand-the-node-js-event-loop-and-its-metrics-c4907b19da4c rel=external target=_blank>this blog post</a> by Daniel Khan or the <a href=https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/ rel=external target=_blank>Node Event Loop Documentation</a>.</p><h2 id=console>Console</h2><p>To produce output on the terminal, Node provides a global instance of a <a href=https://nodejs.org/api/console.html rel=external target=_blank>Console</a> called <code>console</code> that is accessible throughout the code. The typical way to produce text output on the terminal in Node is using the <code>console.log()</code> method.</p><p>Node actually defines multiple log functions corresponding to different <em>log levels</em>, indicating the importance of the message. These are (in order of severity, least to most):</p><ol><li><code>console.debug()</code></li><li><code>console.info()</code></li><li><code>console.warn()</code></li><li><code>console.error()</code></li></ol><p>These are all aliases for <code>console.log()</code> (<code>console.debug()</code> and <code>console.info()</code>) or <code>console.error()</code> (<code>console.warn()</code> and <code>console.error()</code>). They don&rsquo;t really do anything different, which might lead you to wonder why they exist&mldr;</p><p>But remember, JavaScript is a <em>dynamic</em> language, so we can re-define the <code>console</code> object with our own custom implementation that <em>does</em> do something unique with these various versions. But because they exist, they can <em>also</em> be used with the built-in console. This way our code can be compatible with both approaches!</p><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard/clipboard.min.js?1758047999 defer></script><script src=/cis526/js/perfect-scrollbar/perfect-scrollbar.min.js?1758047999 defer></script><script src=/cis526/js/theme.min.js?1758047999 defer></script></div><script src=/cis526/js/tele-scroll.min.js?1758047999 defer></script></body></html>