<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.0.3+tip">




	
	
			

	
	
			

	
	
			

	
	
			
			

	
	
			

	
	
			
			
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			

	
	
			

	
	
			
			
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			

	
	
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			
			
			

	
	
			

	
	
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			

	
	
			
			
			
			

    <meta name="description" content="CIS 526 Textbook">
    <meta name="author" content="Nathan Bean">
    <title>Git :: CIS 526 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis526/04-node/07-git/" rel="canonical" type="text/html" title="CIS 526 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis526/04-node/07-git/index.xml" rel="alternate" type="application/rss+xml" title="CIS 526 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis526/_print/04-node/07-git/" rel="alternate" type="text/html" title="CIS 526 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis526/04-node/07-git/tele.html" rel="alternate" type="text/html" title="CIS 526 Textbook">
    
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/fontawesome-all.min.css?1659469538" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/featherlight.min.css?1659469538" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/auto-complete.css?1659469538" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <noscript>
      <link href="https://ksu-cs-textbooks.github.io/cis526/css/fontawesome-all.min.css?1659469538" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis526/css/featherlight.min.css?1659469538" rel="stylesheet">
      <link href="https://ksu-cs-textbooks.github.io/cis526/css/auto-complete.css?1659469538" rel="stylesheet">
    </noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/perfect-scrollbar.min.css?1659469538" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/nucleus.css?1659469538" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/fonts.css?1659469538" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/theme.css?1659469538" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/theme-light-theme.css?1659469538" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/ie.css?1659469538" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/variant.css?1659469538" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/print.css?1659469538" rel="stylesheet" media="print">
    <script src="https://ksu-cs-textbooks.github.io/cis526/js/variant.js?1659469538"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="https://ksu-cs-textbooks.github.io/cis526/index.json";
      var root_url="https://ksu-cs-textbooks.github.io/cis526/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis526/';
      variants.init( [ 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis526/css/custom.css?1659469538" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis526/js/jquery.min.js?1659469538" defer></script>

  </head>
  <body class="mobile-support disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis526/04-node/07-git/embed.html">
    
    <div class="embed">
    
    <div id="body" class="default-animation">
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
    
    
<p>Most Node packages are made available as 

<a href="https://git-scm.com" target="_blank" rel="noopener">git</a> repositories, and npm has built-in support for using git.</p>
<h2 id="the-repository-property">The Repository Property</h2>
<p>In your <em>package.json</em> file, you can specify a <code>&quot;repository&quot;</code> property, which specifies where the repository for this project exists.  Consider the following example of the npm command-line interface package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#e6db74">&#34;repository&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;type&#34;</span> : <span style="color:#e6db74">&#34;git&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;url&#34;</span> : <span style="color:#e6db74">&#34;https://github.com/npm/cli.git&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>For many open-source projects, the repository is located on Github, a GitHub gist, BitBucket, or a GitLab instance.  These can be specified with a shorthand, which matches the corresponding <code>npm install</code> argument:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#e6db74">&#34;repository&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;npm/npm&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;repository&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;github:user/repo&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;repository&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;gist:11081aaa281&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;repository&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;bitbucket:user/repo&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;repository&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;gitlab:user/repo&#34;</span>
</span></span></code></pre></div><p>If your project folder already is set up as a git repo <em>before</em> you run <code>$npm init</code>, then the wizard will suggest using the existing repository.</p>
<h2 id="the-gitignore-file">The .gitignore File</h2>
<p>Like any git repo, there are some files you will want to exclude from  version control.  The most important of these is the <em>node_modules</em> folder, which we exclude for two reasons:</p>
<ol>
<li>The folder&rsquo;s contents are large, and are available from the original sources specified in your package&rsquo;s dependencies - therefore they represent significant and unnecessary glut in a repository.</li>
<li>Some portions of your dependencies may be compiled from C code as they are installed.  Since C code is compiled into binaries for a specific target machine&rsquo;s architecture, you will encounter errors if your development and production machines are different.  Re-installing packages in the production machine with <code>$npm install</code> avoids this.</li>
</ol>
<p>Therefore, you should include <em>at least</em> this line in your <em>.gitignore</em> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>node_modules/
</span></span></code></pre></div><p>It&rsquo;s also a good idea to leave out any logging files:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>logs
</span></span><span style="display:flex;"><span>*.log
</span></span></code></pre></div><p>You may also want to look at GitHub&rsquo;s boilerplate 

<a href="https://github.com/github/gitignore/blob/master/Node.gitignore" target="_blank" rel="noopener">Node .gitignore template</a>, which adds additional rules based on many popular Node frameworks (adding an ignore for a file or directory that doesn&rsquo;t exist in your project is harmless).</p>
<p>The <em>.gitignore</em> file should ideally be added before the repository has been created, as files already under version control override <em>.gitignore</em> rules.</p>
<h2 id="initializing-the-repository">Initializing the Repository</h2>
<p>Now we can initialize our repository with the <code>$git init</code> command in the terminal:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ git init 
</span></span></code></pre></div><p>Note how a <em>.git</em> directory is added to our project?  This is where git stores the <strong>diff</strong> information that allows it to track versions of our code.</p>
<p>The <code>init</code> command adds the current directory structure (less that specified in the <em>.gitignore</em> file) to the staging list.  Otherwise, we&rsquo;d need to stage these files ourselves for version tracking with the git command, <code>add .</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$git add .
</span></span></code></pre></div><p>Once staged, we can commit the initial version of our package with a git <code>commit</code> command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ git commit -a -m &#34;Initial commit&#34;
</span></span></code></pre></div><p>The <code>-a</code> flag indicates we are committing <em>all currently staged files</em>, alternatively you can commit files one-at-a-time, if you only want to commit one or a few files.  The <code>-m</code> file indicates we are also adding a commit message, which follows in quotes (&quot;&quot;).  If we don&rsquo;t use this flag, then git will open a text editor to write the commit message in.  For the Linux platform, the default is <em>vi</em>, a powerful command line text editor that has a bit of a learning curve.  If you find vi has launched on you and you are uncertain how to proceed, follow these steps:</p>
<ol>
<li>Type your commit message</li>
<li>Hit the [ESC] key - this moves you from <em>edit</em> mode to <em>command mode</em></li>
<li>Type the command <code>:wq</code>.  Vi commands always start with a colon (:), and can be grouped.  The <code>w</code> indicates the file should be written (saved), and the <code>q</code> indicates we want to quit the editor.</li>
</ol>
<h2 id="adding-remote-repositories">Adding Remote Repositories</h2>
<p>If you want to host your repository on GitHub or another hosting tool (such as BitBucket or GitLab), you will need to add that repository&rsquo;s url as a <em>remote origin</em> for your local repository.  You can do so with the command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ git remote add origin [repo url]
</span></span></code></pre></div><p>Where <code>[repo url]</code> is the url of the remote repo.  If you want to use GitHub, create an empty repository, and copy the created repository&rsquo;s link.</p>
<p>If you clone a repository from GitHub or another tool, the remote origin is automatically set to that parent repository.  If you ever need to change the remote origin, it&rsquo;s a two-step process:</p>
<ol>
<li>Delete the current origin with the git command:<code>$git remote rm origin</code></li>
<li>Add your new origin with the git command: <code>$git remote add origin</code></li>
</ol>
<p>You can also add other targets than <em>origin</em> (origin is a generic target meaning the originating repository).  To see all remote repositories, use the command <code>$git remote -v</code>, which lists all registered remote repositories (the <code>-v</code> flag is for <em>verbose</em>).</p>
<h2 id="pushing-and-pulling">Pushing and Pulling</h2>
<p>The <code>$git push</code> and <code>$git pull</code> commands are shorthand for pushing and pulling the master branch to and from the origin repository. The full commands can be used to push an alternate branch or to reach an alternate remote repository:  <code>$git push [remote repo name] [branch name]</code>, <code>$git pull [remote repo name] [branch name]</code></p>
<h2 id="git-and-codio">Git and Codio</h2>
<p>Pushing your code to a remote repository is a good way to move it between Codio boxes.  You can clone such a repository after you create it with the command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>$ git clone [git clone url]
</span></span></code></pre></div><p>Where the <code>[git clone url]</code> is the URL of your remote repository.  Cloning a repository automatically sets its remote origin repo to the repository it was cloned from.</p>

            <footer class="footline">
            </footer>
          </article>

        </div>
      </main>
    
    
    </div>
    
  </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis526/js/clipboard.min.js?1659469538" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis526/js/perfect-scrollbar.min.js?1659469538" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis526/js/featherlight.min.js?1659469538" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis526/js/theme.js?1659469538" defer></script>
    
    <script src="https://ksu-cs-textbooks.github.io/cis526/js/embed-iframe.js?1659469538 defer"></script>
    
    
    
  </body>
</html>
