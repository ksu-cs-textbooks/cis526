<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.148.1"><meta name=generator content="Relearn 8.0.0"><meta name=description content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:"><meta name=author content="Nathan Bean & Russell Feldhausen"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta name=twitter:title content="JavaScript and the DOM :: CIS 526 Textbook"><meta name=twitter:description content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/01-the-dom/04-js-and-the-dom/index.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="JavaScript and the DOM :: CIS 526 Textbook"><meta property="og:description" content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="The Document Object Model"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2025-01-27T10:26:10-06:00"><meta property="og:image" content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><meta itemprop=name content="JavaScript and the DOM :: CIS 526 Textbook"><meta itemprop=description content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:"><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2025-01-27T10:26:10-06:00"><meta itemprop=wordCount content="997"><meta itemprop=image content="https://textbooks.cs.ksu.edu/cis526/images/hero.png"><title>JavaScript and the DOM :: CIS 526 Textbook</title><link href=https://textbooks.cs.ksu.edu/cis526/01-the-dom/04-js-and-the-dom/index.html rel=canonical type=text/html title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/01-the-dom/04-js-and-the-dom/index.xml rel=alternate type=application/rss+xml title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/01-the-dom/04-js-and-the-dom/index.print.html rel=alternate type=text/html title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/01-the-dom/04-js-and-the-dom/embed.html rel=alternate type=text/html title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/css/auto-complete/auto-complete.min.css?1769117712 rel=stylesheet><script src=/cis526/js/auto-complete/auto-complete.min.js?1769117712 defer></script><script src=/cis526/js/search-lunr.min.js?1769117712 defer></script><script src=/cis526/js/search.min.js?1769117712 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="/cis526/searchindex.en.js?1769117712"</script><script src=/cis526/js/lunr/lunr.min.js?1769117712 defer></script><script src=/cis526/js/lunr/lunr.stemmer.support.min.js?1769117712 defer></script><script src=/cis526/js/lunr/lunr.multi.min.js?1769117712 defer></script><script src=/cis526/js/lunr/lunr.en.min.js?1769117712 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1769117712 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/fonts/fontawesome/css/fontawesome-all.min.css?1769117712 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar/perfect-scrollbar.min.css?1769117712 rel=stylesheet><link href=/cis526/css/theme.min.css?1769117712 rel=stylesheet><link href=/cis526/css/format-html.min.css?1769117712 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/01-the-dom/04-js-and-the-dom/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!0,window.relearn.enableBlockCodeWrap=!1,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["light-theme"],window.relearn.customvariantname="my-custom-variant",window.relearn.writeVariant=!1,window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.writeVariant&&window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=/cis526/css/custom.css?1769117712 rel=stylesheet></head><body class="mobile-support html" data-url=/cis526/01-the-dom/04-js-and-the-dom/index.html><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable 01-the-dom" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=javascript-and-the-dom>JavaScript and the DOM</h1><p>The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global <a href=https://developer.mozilla.org/en-US/docs/Web/API/Window rel=external target=_blank>window</a> object, i.e. <code>window.document</code> or <code>document</code>.</p><p>Let&rsquo;s use the &lsquo;Console&rsquo; tab of the developer tools to access this object. Open the previous example page again from <a href=../../examples/1.3.1/index.html target=_blank>this link</a>. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:</p><p><a href=#R-image-66f63584b11774ab0b3904485829627c class=lightbox-link><img alt="The console tab in the developer tools" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/1.4.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-66f63584b11774ab0b3904485829627c><img alt="The console tab in the developer tools" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/1.4.1.png></a></p><p>With the console open, type:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f92672>&gt;</span> document</span></span></code></pre></div><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Info</summary><div class=box-content><p>When instructed to type something into the console, I will use the <code>></code> symbol to represent the cursor prompt. You do <em>not</em> need to type it.</p></div></details><p>Once you hit the enter key, the console will report the value of the expression <code>document</code>, which exposes the document object. You can click the arrow next to the <code>#document</code> to expose its properties:</p><p><a href=#R-image-b8fbe6fc7bb85d24d515168755c698e1 class=lightbox-link><img alt="The reported document object" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/1.4.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b8fbe6fc7bb85d24d515168755c698e1><img alt="The reported document object" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/1.4.2.png></a></p><p>The document is an instance of the <a href=https://developer.mozilla.org/en-US/docs/Web/API/document rel=external target=_blank>Document</a> class. It is the entry point (and the root) of the DOM tree data structure. It also implements the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node rel=external target=_blank>Node</a> and <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget rel=external target=_blank>EventTarget</a> interfaces, which we&rsquo;ll discuss next.</p><h2 id=the-node-interface>The Node Interface</h2><p>All nodes in the DOM tree implement the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node rel=external target=_blank>Node</a> interface. This interface provides methods for traversing and manipulating the DOM tree. For example, each node has a property <code>parentElement</code> that references is parent in the DOM tree, a property <code>childNodes</code> that returns a <a href=https://developer.mozilla.org/en-US/docs/Web/API/NodeList rel=external target=_blank>NodeList</a> of all the Node&rsquo;s children, as well as properties referencing the <code>firstChild</code>, <code>lastChild</code>, <code>previousSibling</code>, and <code>nextSibling</code>.</p><p>Let&rsquo;s try walking the tree manually. In the console, type:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f92672>&gt;</span> document.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>firstElementChild</span>.<span style=color:#a6e22e>firstElementChild</span></span></span></code></pre></div><p>The <code>body</code> property of the document directly references the <code>&lt;body></code> element of the webpage, which also implements the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node rel=external target=_blank>Node</a> interface. The <code>firstElementChild</code> references the first HTML element that is a child of the node, so in using that twice, we are drilling down to the <code>&lt;h1></code> element.</p><p><a href=#R-image-67434b61c7db26d0b019f3230e7981ce class=lightbox-link><img alt="The reported h1 object" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/1.4.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-67434b61c7db26d0b019f3230e7981ce><img alt="The reported h1 object" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/1.4.3.png></a></p><h2 id=the-eventtarget-interface>The EventTarget Interface</h2><p>Each node in the DOM tree also implements the <code>EventTarget</code> interface. This allows arbitrary events to be attached to any element on the page. For example, we can add a click event to the <code>&lt;h1></code> element. In the console, type:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f92672>&gt;</span> document.<span style=color:#a6e22e>body</span>.<span style=color:#a6e22e>firstElementChild</span>.<span style=color:#a6e22e>firstElementChild</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>e</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; clicked!&#39;</span>);
</span></span><span style=display:flex><span>});</span></span></code></pre></div><p>The first argument to <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener rel=external target=_blank>EventTarget.addEventListener</a> is the event to listen for, and the second is a function to execute when the event happens. Here we&rsquo;ll just log the event to the console.</p><p>Now try clicking on the <em>Hello DOM!</em> <code>&lt;h1></code> element. You should see the event being logged:</p><p><a href=#R-image-ef9fbb5fdff7e0b6bfb4eee7149f6793 class=lightbox-link><img alt="The logged event" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/1.4.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ef9fbb5fdff7e0b6bfb4eee7149f6793><img alt="The logged event" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/1.4.4.png></a></p><p>We can also remove event listeners with <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener rel=external target=_blank>EventTarget.removeEventListener</a> and trigger them programmatically with <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent rel=external target=_blank>EventTarget.dispatchEvent</a>.</p><h2 id=querying-the-dom>Querying the DOM</h2><p>While we can use the properties of a node to walk the DOM tree manually, this can result in some very ugly code. Instead, the <a href=https://developer.mozilla.org/en-US/docs/Web/API/document rel=external target=_blank>Document</a> object provides a number of methods that allow you to search the DOM tree for a specific value. For example:</p><ul><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByTagName rel=external target=_blank>Document.getElementsByTagName</a> returns a list of elements with a specific tag name, i.e. <code>document.getElementsByTagName('p')</code> will return a list of all <code>&lt;p></code> elements in the DOM.</li><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName rel=external target=_blank>Document.getElementsByClassName</a> returns a list of elements with a specific name listed in its class attribute, i.e. <code>document.getElementsByClassName('banner')</code> will return a list containing the <code>&lt;div.banner></code> element.</li><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById rel=external target=_blank>Document.getElementById</a> returns a single element with the specified id attribute.</li></ul><p>In addition to those methods, the Document object also supplies two methods that take a CSS selector. These are:</p><ul><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector rel=external target=_blank>Document.querySelector</a> which returns the first matching element in the DOM.</li><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll rel=external target=_blank>Document.querySelectorAll</a> which returns a list of all matching elements.</li></ul><p>Let&rsquo;s try selecting the <code>&lt;h1></code> tag using the <code>querySelector</code> method:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>header</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#e6db74>&#39;h1&#39;</span>);</span></span></code></pre></div><p>Much easier than <code>document.body.firstElementChild.firstElementChild</code> isn&rsquo;t it?</p><h2 id=manipulating-dom-elements>Manipulating DOM Elements</h2><p>All HTML elements in the DOM also implement the <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement rel=external target=_blank>HTMLElement</a> interface, which also provides access to the element&rsquo;s attributes and styling. So when we retrieve an element from the DOM tree, we can modify these.</p><p>Let&rsquo;s tweak the color of the <code>&lt;h1></code> element we saved a reference to in the <code>header</code> variable:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>header</span>.<span style=color:#a6e22e>style</span>.<span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;blue&#39;</span>;</span></span></code></pre></div><p>This will turn the header blue:</p><p><a href=#R-image-3ea4e319490b4a76eb7466245683544c class=lightbox-link><img alt="The blue header" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/1.4.5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3ea4e319490b4a76eb7466245683544c><img alt="The blue header" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/1.4.5.png></a></p><p>All of the CSS properties can be manipulated through the <code>style</code> property.</p><p>In addition, we can access the element&rsquo;s <code>classList</code> property, which provides an <code>add()</code> and <code>remove()</code> methods that add/remove class names from the element. This way we can define a set of CSS properties for a specific class, and turn that class on and off for an element in the DOM tree, effectively applying all those properties at once.</p><h2 id=modifying-the-dom>Modifying the DOM</h2><p>We can create new elements with the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement rel=external target=_blank>Document.createElement</a> method. It takes the name of the new tag to create as a string, and an optional options map (a JavaScript object). Let&rsquo;s create a new <code>&lt;p></code> tag. In the console:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;p&#39;</span>);</span></span></code></pre></div><p>Now let&rsquo;s give it some text:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>textContent</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Tra-la-la&#34;</span>;</span></span></code></pre></div><p>Up to this point, our new <code>&lt;p></code> tag isn&rsquo;t rendered, because it isn&rsquo;t part of the DOM tree. But we can use the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild rel=external target=_blank>Node.appendChild</a> method to add it to an existing node in the tree. Let&rsquo;s add it to the <code>&lt;div.banner></code> element. Type this command into the console:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#e6db74>&#39;div.banner&#39;</span>).<span style=color:#a6e22e>appendChild</span>(<span style=color:#a6e22e>p</span>);</span></span></code></pre></div><p>As soon as it is appended, it appears on the page:</p><p><a href=#R-image-753da94e2e5b0ea7d8cc4cb6c4410e63 class=lightbox-link><img alt="The new p element" class="border lazy lightbox figure-image" loading=lazy src=/cis526/images/1.4.6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-753da94e2e5b0ea7d8cc4cb6c4410e63><img alt="The new p element" class="border lazy lightbox lightbox-image" loading=lazy src=/cis526/images/1.4.6.png></a></p><p>Note too that the CSS rules already in place are automatically applied!</p><details open class="box cstyle notices info"><summary class=box-label tabindex=-1><i class="fa-fw fas fa-info-circle"></i>
Info</summary><div class=box-content><p>The popular <a href=https://jquery.com/ rel=external target=_blank>JQuery</a> library was created primarily as a tool to make DOM querying and manipulation easier at a time when browsers were not all adopting the w3c standards consistently. It provided a simple interface that worked identically in all commonly used browsers.</p><p>The JQuery function (commonly aliased to <code>$()</code>) operates much like the <code>querySelectorAll()</code>, taking a CSS selector as an argument and returning a collection of matching elements wrapped in a JQuery helper object. The helper object provided methods to access and alter the attributes, style, events, and content of the element, each returning the updated object allowing for functions to be &lsquo;chained&rsquo; into a single expression.</p><p>The above example, rewritten in JQuery, might be:</p><div class=highlight dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#39;p&#39;</span>).<span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#39;Tra-la-la&#39;</span>).<span style=color:#a6e22e>appendTo</span>(<span style=color:#e6db74>&#39;div.banner&#39;</span>);</span></span></code></pre></div><p>While modern browsers are much more consistent at supporting standardized JavaScript, JQuery remains a popular library and one you will likely encounter. Thus, while this text focuses on &lsquo;vanilla&rsquo; JavaScript, we&rsquo;ll also occasionally call out JQuery approaches in blocks like this one.</p></div></details><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard/clipboard.min.js?1769117712 defer></script><script src=/cis526/js/perfect-scrollbar/perfect-scrollbar.min.js?1769117712 defer></script><script src=/cis526/js/theme.min.js?1769117712 defer></script></div><script src=/cis526/js/tele-scroll.min.js?1769117712 defer></script></body></html>