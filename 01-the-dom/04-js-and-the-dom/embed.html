<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:
With the console open, type:"><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="JavaScript and the DOM :: CIS 526 Textbook"><meta name=twitter:description content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:
With the console open, type:"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis526/01-the-dom/04-js-and-the-dom/embed.html"><meta property="og:site_name" content="CIS 526 Textbook"><meta property="og:title" content="JavaScript and the DOM :: CIS 526 Textbook"><meta property="og:description" content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:
With the console open, type:"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="The Document Object Model"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-07-28T18:52:31-05:00"><meta itemprop=name content="JavaScript and the DOM :: CIS 526 Textbook"><meta itemprop=description content="The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global window object, i.e. window.document or document.
Let’s use the ‘Console’ tab of the developer tools to access this object. Open the previous example page again from this link. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:
With the console open, type:"><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-07-28T18:52:31-05:00"><meta itemprop=wordCount content="989"><title>JavaScript and the DOM :: CIS 526 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis526/01-the-dom/04-js-and-the-dom/ rel=canonical type=text/html title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/01-the-dom/04-js-and-the-dom/index.xml rel=alternate type=application/rss+xml title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/01-the-dom/04-js-and-the-dom/index.print.html rel=alternate type=text/html title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/01-the-dom/04-js-and-the-dom/tele.html rel=alternate type=text/html title="JavaScript and the DOM :: CIS 526 Textbook"><link href=/cis526/css/fontawesome-all.min.css?1737074481 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fontawesome-all.min.css?1737074481 rel=stylesheet></noscript><link href=/cis526/css/nucleus.css?1737074481 rel=stylesheet><link href=/cis526/css/auto-complete.css?1737074481 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/auto-complete.css?1737074481 rel=stylesheet></noscript><link href=/cis526/css/perfect-scrollbar.min.css?1737074481 rel=stylesheet><link href=/cis526/css/fonts.css?1737074481 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis526/css/fonts.css?1737074481 rel=stylesheet></noscript><link href=/cis526/css/theme.css?1737074481 rel=stylesheet><link href=/cis526/css/theme-light-theme.css?1737074481 rel=stylesheet id=R-variant-style><link href=/cis526/css/chroma-relearn-light.css?1737074481 rel=stylesheet id=R-variant-chroma-style><link href=/cis526/css/variant.css?1737074481 rel=stylesheet><link href=/cis526/css/print.css?1737074481 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis526",window.index_js_url="/cis526/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis526/css/custom.css?1737074481 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis526/01-the-dom/04-js-and-the-dom/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><p>The DOM tree is also accessible from JavaScript running in the page. It is accessed through the global <a href=https://developer.mozilla.org/en-US/docs/Web/API/Window rel=external target=_blank>window</a> object, i.e. <code>window.document</code> or <code>document</code>.</p><p>Let&rsquo;s use the &lsquo;Console&rsquo; tab of the developer tools to access this object. Open the previous example page again from <a href=/examples/1.3.1/index.html target=_blank>this link</a>. Click the console tab to open the expanded console, or use the console area in the bottom panel of the elements tab:</p><p><a href=#R-image-a7a82eeea508bb218e7c757511735d1e class=lightbox-link><img alt="The console tab in the developer tools" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/1.4.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a7a82eeea508bb218e7c757511735d1e><img alt="The console tab in the developer tools" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/1.4.1.png></a></p><p>With the console open, type:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nb>document</span></span></span></code></pre></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>When instructed to type something into the console, I will use the <code>></code> symbol to represent the cursor prompt. You do <em>not</em> need to type it.</p></div></div><p>Once you hit the enter key, the console will report the value of the expression <code>document</code>, which exposes the document object. You can click the arrow next to the <code>#document</code> to expose its properties:</p><p><a href=#R-image-e890e90e180ff1e3b094239de9afcc8a class=lightbox-link><img alt="The reported document object" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/1.4.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e890e90e180ff1e3b094239de9afcc8a><img alt="The reported document object" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/1.4.2.png></a></p><p>The document is an instance of the <a href=https://developer.mozilla.org/en-US/docs/Web/API/document rel=external target=_blank>Document</a> class. It is the entry point (and the root) of the DOM tree data structure. It also implements the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node rel=external target=_blank>Node</a> and <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget rel=external target=_blank>EventTarget</a> interfaces, which we&rsquo;ll discuss next.</p><h2 id=the-node-interface>The Node Interface</h2><p>All nodes in the DOM tree implement the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node rel=external target=_blank>Node</a> interface. This interface provides methods for traversing and manipulating the DOM tree. For example, each node has a property <code>parentElement</code> that references is parent in the DOM tree, a property <code>childNodes</code> that returns a <a href=https://developer.mozilla.org/en-US/docs/Web/API/NodeList rel=external target=_blank>NodeList</a> of all the Node&rsquo;s children, as well as properties referencing the <code>firstChild</code>, <code>lastChild</code>, <code>previousSibling</code>, and <code>nextSibling</code>.</p><p>Let&rsquo;s try walking the tree manually. In the console, type:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>firstElementChild</span><span class=p>.</span><span class=nx>firstElementChild</span></span></span></code></pre></div><p>The <code>body</code> property of the document directly references the <code>&lt;body></code> element of the webpage, which also implements the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node rel=external target=_blank>Node</a> interface. The <code>firstElementChild</code> references the first HTML element that is a child of the node, so in using that twice, we are drilling down to the <code>&lt;h1></code> element.</p><p><a href=#R-image-aac764ca71c25dc7971cf8d5318f9dc7 class=lightbox-link><img alt="The reported h1 object" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/1.4.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-aac764ca71c25dc7971cf8d5318f9dc7><img alt="The reported h1 object" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/1.4.3.png></a></p><h2 id=the-eventtarget-interface>The EventTarget Interface</h2><p>Each node in the DOM tree also implements the <code>EventTarget</code> interface. This allows arbitrary events to be attached to any element on the page. For example, we can add a click event to the <code>&lt;h1></code> element. In the console, type:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nb>document</span><span class=p>.</span><span class=nx>body</span><span class=p>.</span><span class=nx>firstElementChild</span><span class=p>.</span><span class=nx>firstElementChild</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>(</span><span class=nx>e</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span> <span class=o>+</span> <span class=s1>&#39; clicked!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div><p>The first argument to <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener rel=external target=_blank>EventTarget.addEventListener</a> is the event to listen for, and the second is a function to execute when the event happens. Here we&rsquo;ll just log the event to the console.</p><p>Now try clicking on the <em>Hello DOM!</em> <code>&lt;h1></code> element. You should see the event being logged:</p><p><a href=#R-image-9798630a214d66520750d979cd292e2f class=lightbox-link><img alt="The logged event" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/1.4.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9798630a214d66520750d979cd292e2f><img alt="The logged event" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/1.4.4.png></a></p><p>We can also remove event listeners with <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener rel=external target=_blank>EventTarget.removeEventListener</a> and trigger them programmatically with <a href=https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent rel=external target=_blank>EventTarget.dispatchEvent</a>.</p><h2 id=querying-the-dom>Querying the DOM</h2><p>While we can use the properties of a node to walk the DOM tree manually, this can result in some very ugly code. Instead, the <a href=https://developer.mozilla.org/en-US/docs/Web/API/document rel=external target=_blank>Document</a> object provides a number of methods that allow you to search the DOM tree for a specific value. For example:</p><ul><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByTagName rel=external target=_blank>Document.getElementsByTagName</a> returns a list of elements with a specific tag name, i.e. <code>document.getElementsByTagName('p')</code> will return a list of all <code>&lt;p></code> elements in the DOM.</li><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName rel=external target=_blank>Document.getElementsByClassName</a> returns a list of elements with a specific name listed in its class attribute, i.e. <code>document.getElementsByClassName('banner')</code> will return a list containing the <code>&lt;div.banner></code> element.</li><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById rel=external target=_blank>Document.getElementById</a> returns a single element with the specified id attribute.</li></ul><p>In addition to those methods, the Document object also supplies two methods that take a CSS selector. These are:</p><ul><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector rel=external target=_blank>Document.querySelector</a> which returns the first matching element in the DOM.</li><li><a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll rel=external target=_blank>Document.querySelectorAll</a> which returns a list of all matching elements.</li></ul><p>Let&rsquo;s try selecting the <code>&lt;h1></code> tag using the <code>querySelector</code> method:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=kd>var</span> <span class=nx>header</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;h1&#39;</span><span class=p>);</span></span></span></code></pre></div><p>Much easier than <code>document.body.firstElementChild.firstElementChild</code> isn&rsquo;t it?</p><h2 id=manipulating-dom-elements>Manipulating DOM Elements</h2><p>All HTML elements in the DOM also implement the <a href=https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement rel=external target=_blank>HTMLElement</a> interface, which also provides access to the element&rsquo;s attributes and styling. So when we retrieve an element from the DOM tree, we can modify these.</p><p>Let&rsquo;s tweak the color of the <code>&lt;h1></code> element we saved a reference to in the <code>header</code> variable:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>header</span><span class=p>.</span><span class=nx>style</span><span class=p>.</span><span class=nx>color</span> <span class=o>=</span> <span class=s1>&#39;blue&#39;</span><span class=p>;</span></span></span></code></pre></div><p>This will turn the header blue:</p><p><a href=#R-image-a1275cb20e316f1e79a96441a0e3635b class=lightbox-link><img alt="The blue header" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/1.4.5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a1275cb20e316f1e79a96441a0e3635b><img alt="The blue header" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/1.4.5.png></a></p><p>All of the CSS properties can be manipulated through the <code>style</code> property.</p><p>In addition, we can access the element&rsquo;s <code>classList</code> property, which provides an <code>add()</code> and <code>remove()</code> methods that add/remove class names from the element. This way we can define a set of CSS properties for a specific class, and turn that class on and off for an element in the DOM tree, effectively applying all those properties at once.</p><h2 id=modifying-the-dom>Modifying the DOM</h2><p>We can create new elements with the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement rel=external target=_blank>Document.createElement</a> method. It takes the name of the new tag to create as a string, and an optional options map (a JavaScript object). Let&rsquo;s create a new <code>&lt;p></code> tag. In the console:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=kd>var</span> <span class=nx>p</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=s1>&#39;p&#39;</span><span class=p>);</span></span></span></code></pre></div><p>Now let&rsquo;s give it some text:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=o>&gt;</span> <span class=nx>p</span><span class=p>.</span><span class=nx>textContent</span> <span class=o>=</span> <span class=s2>&#34;Tra-la-la&#34;</span><span class=p>;</span></span></span></code></pre></div><p>Up to this point, our new <code>&lt;p></code> tag isn&rsquo;t rendered, because it isn&rsquo;t part of the DOM tree. But we can use the <a href=https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild rel=external target=_blank>Node.appendChild</a> method to add it to an existing node in the tree. Let&rsquo;s add it to the <code>&lt;div.banner></code> element. Type this command into the console:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;div.banner&#39;</span><span class=p>).</span><span class=nx>appendChild</span><span class=p>(</span><span class=nx>p</span><span class=p>);</span></span></span></code></pre></div><p>As soon as it is appended, it appears on the page:</p><p><a href=#R-image-ede61e22e9c6ca8f655685958b498444 class=lightbox-link><img alt="The new p element" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis526/images/1.4.6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ede61e22e9c6ca8f655685958b498444><img alt="The new p element" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis526/images/1.4.6.png></a></p><p>Note too that the CSS rules already in place are automatically applied!</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>The popular <a href=https://jquery.com/ rel=external target=_blank>JQuery</a> library was created primarily as a tool to make DOM querying and manipulation easier at a time when browsers were not all adopting the w3c standards consistently. It provided a simple interface that worked identically in all commonly used browsers.</p><p>The JQuery function (commonly aliased to <code>$()</code>) operates much like the <code>querySelectorAll()</code>, taking a CSS selector as an argument and returning a collection of matching elements wrapped in a JQuery helper object. The helper object provided methods to access and alter the attributes, style, events, and content of the element, each returning the updated object allowing for functions to be &lsquo;chained&rsquo; into a single expression.</p><p>The above example, rewritten in JQuery, might be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;p&#39;</span><span class=p>).</span><span class=nx>text</span><span class=p>(</span><span class=s1>&#39;Tra-la-la&#39;</span><span class=p>).</span><span class=nx>appendTo</span><span class=p>(</span><span class=s1>&#39;div.banner&#39;</span><span class=p>);</span></span></span></code></pre></div><p>While modern browsers are much more consistent at supporting standardized JavaScript, JQuery remains a popular library and one you will likely encounter. Thus, while this text focuses on &lsquo;vanilla&rsquo; JavaScript, we&rsquo;ll also occasionally call out JQuery approaches in blocks like this one.</p></div></div><footer class=footline></footer></article></div></main></div><script src=/cis526/js/clipboard.min.js?1737074481 defer></script><script src=/cis526/js/perfect-scrollbar.min.js?1737074481 defer></script><script src=/cis526/js/theme.js?1737074481 defer></script><script src=/cis526/js/embed-iframe.js?1737074481 defer></script></body></html>